(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();var ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sg={exports:{}},ol={},og={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),nv=Symbol.for("react.portal"),rv=Symbol.for("react.fragment"),sv=Symbol.for("react.strict_mode"),ov=Symbol.for("react.profiler"),av=Symbol.for("react.provider"),lv=Symbol.for("react.context"),hv=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),cv=Symbol.for("react.memo"),dv=Symbol.for("react.lazy"),qd=Symbol.iterator;function pv(t){return t===null||typeof t!="object"?null:(t=qd&&t[qd]||t["@@iterator"],typeof t=="function"?t:null)}var ag={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lg=Object.assign,hg={};function es(t,e,i){this.props=t,this.context=e,this.refs=hg,this.updater=i||ag}es.prototype.isReactComponent={};es.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};es.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ug(){}ug.prototype=es.prototype;function Hu(t,e,i){this.props=t,this.context=e,this.refs=hg,this.updater=i||ag}var Wu=Hu.prototype=new ug;Wu.constructor=Hu;lg(Wu,es.prototype);Wu.isPureReactComponent=!0;var Yd=Array.isArray,cg=Object.prototype.hasOwnProperty,Gu={current:null},dg={key:!0,ref:!0,__self:!0,__source:!0};function pg(t,e,i){var n,r={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)cg.call(e,n)&&!dg.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(l===1)r.children=i;else if(1<l){for(var f=Array(l),S=0;S<l;S++)f[S]=arguments[S+2];r.children=f}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)r[n]===void 0&&(r[n]=l[n]);return{$$typeof:yo,type:t,key:s,ref:o,props:r,_owner:Gu.current}}function fv(t,e){return{$$typeof:yo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $u(t){return typeof t=="object"&&t!==null&&t.$$typeof===yo}function gv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var Kd=/\/+/g;function $l(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gv(""+t.key):e.toString(36)}function ha(t,e,i,n,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yo:case nv:o=!0}}if(o)return o=t,r=r(o),t=n===""?"."+$l(o,0):n,Yd(r)?(i="",t!=null&&(i=t.replace(Kd,"$&/")+"/"),ha(r,e,i,"",function(S){return S})):r!=null&&($u(r)&&(r=fv(r,i+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Kd,"$&/")+"/")+t)),e.push(r)),1;if(o=0,n=n===""?".":n+":",Yd(t))for(var l=0;l<t.length;l++){s=t[l];var f=n+$l(s,l);o+=ha(s,e,i,f,r)}else if(f=pv(t),typeof f=="function")for(t=f.call(t),l=0;!(s=t.next()).done;)s=s.value,f=n+$l(s,l++),o+=ha(s,e,i,f,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fo(t,e,i){if(t==null)return t;var n=[],r=0;return ha(t,n,"","",function(s){return e.call(i,s,r++)}),n}function mv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},ua={transition:null},yv={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:ua,ReactCurrentOwner:Gu};function fg(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Fo,forEach:function(t,e,i){Fo(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return Fo(t,function(){e++}),e},toArray:function(t){return Fo(t,function(e){return e})||[]},only:function(t){if(!$u(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=es;Fe.Fragment=rv;Fe.Profiler=ov;Fe.PureComponent=Hu;Fe.StrictMode=sv;Fe.Suspense=uv;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yv;Fe.act=fg;Fe.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=lg({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gu.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(f in e)cg.call(e,f)&&!dg.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&l!==void 0?l[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=i;else if(1<f){l=Array(f);for(var S=0;S<f;S++)l[S]=arguments[S+2];n.children=l}return{$$typeof:yo,type:t.type,key:r,ref:s,props:n,_owner:o}};Fe.createContext=function(t){return t={$$typeof:lv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:av,_context:t},t.Consumer=t};Fe.createElement=pg;Fe.createFactory=function(t){var e=pg.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:hv,render:t}};Fe.isValidElement=$u;Fe.lazy=function(t){return{$$typeof:dv,_payload:{_status:-1,_result:t},_init:mv}};Fe.memo=function(t,e){return{$$typeof:cv,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=ua.transition;ua.transition={};try{t()}finally{ua.transition=e}};Fe.unstable_act=fg;Fe.useCallback=function(t,e){return Yt.current.useCallback(t,e)};Fe.useContext=function(t){return Yt.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Yt.current.useEffect(t,e)};Fe.useId=function(){return Yt.current.useId()};Fe.useImperativeHandle=function(t,e,i){return Yt.current.useImperativeHandle(t,e,i)};Fe.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Yt.current.useMemo(t,e)};Fe.useReducer=function(t,e,i){return Yt.current.useReducer(t,e,i)};Fe.useRef=function(t){return Yt.current.useRef(t)};Fe.useState=function(t){return Yt.current.useState(t)};Fe.useSyncExternalStore=function(t,e,i){return Yt.current.useSyncExternalStore(t,e,i)};Fe.useTransition=function(){return Yt.current.useTransition()};Fe.version="18.3.1";og.exports=Fe;var Ii=og.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=Ii,xv=Symbol.for("react.element"),wv=Symbol.for("react.fragment"),_v=Object.prototype.hasOwnProperty,Ev=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tv={key:!0,ref:!0,__self:!0,__source:!0};function gg(t,e,i){var n,r={},s=null,o=null;i!==void 0&&(s=""+i),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)_v.call(e,n)&&!Tv.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:xv,type:t,key:s,ref:o,props:r,_owner:Ev.current}}ol.Fragment=wv;ol.jsx=gg;ol.jsxs=gg;sg.exports=ol;var Ft=sg.exports,mg={exports:{}},li={},yg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,B){var I=R.length;R.push(B);e:for(;0<I;){var Y=I-1>>>1,re=R[Y];if(0<r(re,B))R[Y]=B,R[I]=re,I=Y;else break e}}function i(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var B=R[0],I=R.pop();if(I!==B){R[0]=I;e:for(var Y=0,re=R.length,V=re>>>1;Y<V;){var K=2*(Y+1)-1,J=R[K],ie=K+1,ce=R[ie];if(0>r(J,I))ie<re&&0>r(ce,J)?(R[Y]=ce,R[ie]=I,Y=ie):(R[Y]=J,R[K]=I,Y=K);else if(ie<re&&0>r(ce,I))R[Y]=ce,R[ie]=I,Y=ie;else break e}}return B}function r(R,B){var I=R.sortIndex-B.sortIndex;return I!==0?I:R.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var f=[],S=[],z=1,j=null,F=3,q=!1,C=!1,W=!1,G=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var B=i(S);B!==null;){if(B.callback===null)n(S);else if(B.startTime<=R)n(S),B.sortIndex=B.expirationTime,e(f,B);else break;B=i(S)}}function b(R){if(W=!1,v(R),!C)if(i(f)!==null)C=!0,k(O);else{var B=i(S);B!==null&&P(b,B.startTime-R)}}function O(R,B){C=!1,W&&(W=!1,A(w),w=-1),q=!0;var I=F;try{for(v(B),j=i(f);j!==null&&(!(j.expirationTime>B)||R&&!d());){var Y=j.callback;if(typeof Y=="function"){j.callback=null,F=j.priorityLevel;var re=Y(j.expirationTime<=B);B=t.unstable_now(),typeof re=="function"?j.callback=re:j===i(f)&&n(f),v(B)}else n(f);j=i(f)}if(j!==null)var V=!0;else{var K=i(S);K!==null&&P(b,K.startTime-B),V=!1}return V}finally{j=null,F=I,q=!1}}var T=!1,m=null,w=-1,_=5,g=-1;function d(){return!(t.unstable_now()-g<_)}function y(){if(m!==null){var R=t.unstable_now();g=R;var B=!0;try{B=m(!0,R)}finally{B?h():(T=!1,m=null)}}else T=!1}var h;if(typeof p=="function")h=function(){p(y)};else if(typeof MessageChannel<"u"){var c=new MessageChannel,u=c.port2;c.port1.onmessage=y,h=function(){u.postMessage(null)}}else h=function(){G(y,0)};function k(R){m=R,T||(T=!0,h())}function P(R,B){w=G(function(){R(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){C||q||(C=!0,k(O))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return i(f)},t.unstable_next=function(R){switch(F){case 1:case 2:case 3:var B=3;break;default:B=F}var I=F;F=B;try{return R()}finally{F=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=F;F=R;try{return B()}finally{F=I}},t.unstable_scheduleCallback=function(R,B,I){var Y=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Y+I:Y):I=Y,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=I+re,R={id:z++,callback:B,priorityLevel:R,startTime:I,expirationTime:re,sortIndex:-1},I>Y?(R.sortIndex=I,e(S,R),i(f)===null&&R===i(S)&&(W?(A(w),w=-1):W=!0,P(b,I-Y))):(R.sortIndex=re,e(f,R),C||q||(C=!0,k(O))),R},t.unstable_shouldYield=d,t.unstable_wrapCallback=function(R){var B=F;return function(){var I=F;F=B;try{return R.apply(this,arguments)}finally{F=I}}}})(vg);yg.exports=vg;var Sv=yg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=Ii,ai=Sv;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xg=new Set,$s={};function sr(t,e){Fr(t,e),Fr(t+"Capture",e)}function Fr(t,e){for($s[t]=e,t=0;t<e.length;t++)xg.add(e[t])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kh=Object.prototype.hasOwnProperty,Av=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qd={},Zd={};function kv(t){return kh.call(Zd,t)?!0:kh.call(Qd,t)?!1:Av.test(t)?Zd[t]=!0:(Qd[t]=!0,!1)}function bv(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Iv(t,e,i,n){if(e===null||typeof e>"u"||bv(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kt(t,e,i,n,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new Kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new Kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new Kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new Kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new Kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new Kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new Kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new Kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new Kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xu=/[\-:]([a-z])/g;function qu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xu,qu);Mt[e]=new Kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xu,qu);Mt[e]=new Kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xu,qu);Mt[e]=new Kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new Kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new Kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yu(t,e,i,n){var r=Mt.hasOwnProperty(e)?Mt[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Iv(e,i,r,n)&&(i=null),n||r===null?kv(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):r.mustUseProperty?t[r.propertyName]=i===null?r.type===3?!1:"":i:(e=r.attributeName,n=r.attributeNamespace,i===null?t.removeAttribute(e):(r=r.type,i=r===3||r===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var Ki=Cv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),vr=Symbol.for("react.portal"),xr=Symbol.for("react.fragment"),Ku=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),wg=Symbol.for("react.provider"),_g=Symbol.for("react.context"),Qu=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Ph=Symbol.for("react.suspense_list"),Zu=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),Eg=Symbol.for("react.offscreen"),Jd=Symbol.iterator;function vs(t){return t===null||typeof t!="object"?null:(t=Jd&&t[Jd]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,Xl;function As(t){if(Xl===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);Xl=e&&e[1]||""}return`
`+Xl+t}var ql=!1;function Yl(t,e){if(!t||ql)return"";ql=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(S){var n=S}Reflect.construct(t,[],e)}else{try{e.call()}catch(S){n=S}t.call(e.prototype)}else{try{throw Error()}catch(S){n=S}t()}}catch(S){if(S&&n&&typeof S.stack=="string"){for(var r=S.stack.split(`
`),s=n.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var f=`
`+r[o].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=o&&0<=l);break}}}finally{ql=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?As(t):""}function Pv(t){switch(t.tag){case 5:return As(t.type);case 16:return As("Lazy");case 13:return As("Suspense");case 19:return As("SuspenseList");case 0:case 2:case 15:return t=Yl(t.type,!1),t;case 11:return t=Yl(t.type.render,!1),t;case 1:return t=Yl(t.type,!0),t;default:return""}}function Mh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xr:return"Fragment";case vr:return"Portal";case bh:return"Profiler";case Ku:return"StrictMode";case Ih:return"Suspense";case Ph:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _g:return(t.displayName||"Context")+".Consumer";case wg:return(t._context.displayName||"Context")+".Provider";case Qu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zu:return e=t.displayName||null,e!==null?e:Mh(t.type)||"Memo";case on:e=t._payload,t=t._init;try{return Mh(t(e))}catch{}}return null}function Mv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mh(e);case 8:return e===Ku?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Rv(t){var e=Tg(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Uo(t){t._valueTracker||(t._valueTracker=Rv(t))}function Sg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=Tg(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function Aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var i=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function ep(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=Sn(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cg(t,e){e=e.checked,e!=null&&Yu(t,"checked",e,!1)}function Dh(t,e){Cg(t,e);var i=Sn(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lh(t,e.type,i):e.hasOwnProperty("defaultValue")&&Lh(t,e.type,Sn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tp(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Lh(t,e,i){(e!=="number"||Aa(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var ks=Array.isArray;function Pr(t,e,i,n){if(t=t.options,e){e={};for(var r=0;r<i.length;r++)e["$"+i[r]]=!0;for(i=0;i<t.length;i++)r=e.hasOwnProperty("$"+t[i].value),t[i].selected!==r&&(t[i].selected=r),r&&n&&(t[i].defaultSelected=!0)}else{for(i=""+Sn(i),e=null,r=0;r<t.length;r++){if(t[r].value===i){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Oh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ip(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(ke(92));if(ks(i)){if(1<i.length)throw Error(ke(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:Sn(i)}}function Ag(t,e){var i=Sn(e.value),n=Sn(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function np(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ho,bg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ho.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xs(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dv=["Webkit","ms","Moz","O"];Object.keys(Ds).forEach(function(t){Dv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ds[e]=Ds[t]})});function Ig(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Ds.hasOwnProperty(t)&&Ds[t]?(""+e).trim():e+"px"}function Pg(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,r=Ig(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,r):t[i]=r}}var Lv=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vh(t,e){if(e){if(Lv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function jh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function Ju(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fh=null,Mr=null,Rr=null;function rp(t){if(t=wo(t)){if(typeof Fh!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=cl(e),Fh(t.stateNode,t.type,e))}}function Mg(t){Mr?Rr?Rr.push(t):Rr=[t]:Mr=t}function Rg(){if(Mr){var t=Mr,e=Rr;if(Rr=Mr=null,rp(t),e)for(t=0;t<e.length;t++)rp(e[t])}}function Dg(t,e){return t(e)}function Lg(){}var Kl=!1;function Og(t,e,i){if(Kl)return t(e,i);Kl=!0;try{return Dg(t,e,i)}finally{Kl=!1,(Mr!==null||Rr!==null)&&(Lg(),Rg())}}function qs(t,e){var i=t.stateNode;if(i===null)return null;var n=cl(i);if(n===null)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(ke(231,e,typeof i));return i}var zh=!1;if(Wi)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){zh=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{zh=!1}function Ov(t,e,i,n,r,s,o,l,f){var S=Array.prototype.slice.call(arguments,3);try{e.apply(i,S)}catch(z){this.onError(z)}}var Ls=!1,ka=null,ba=!1,Uh=null,Nv={onError:function(t){Ls=!0,ka=t}};function Vv(t,e,i,n,r,s,o,l,f){Ls=!1,ka=null,Ov.apply(Nv,arguments)}function jv(t,e,i,n,r,s,o,l,f){if(Vv.apply(this,arguments),Ls){if(Ls){var S=ka;Ls=!1,ka=null}else throw Error(ke(198));ba||(ba=!0,Uh=S)}}function or(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function Ng(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sp(t){if(or(t)!==t)throw Error(ke(188))}function Bv(t){var e=t.alternate;if(!e){if(e=or(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var i=t,n=e;;){var r=i.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){i=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===i)return sp(r),t;if(s===n)return sp(r),e;s=s.sibling}throw Error(ke(188))}if(i.return!==n.return)i=r,n=s;else{for(var o=!1,l=r.child;l;){if(l===i){o=!0,i=r,n=s;break}if(l===n){o=!0,n=r,i=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===i){o=!0,i=s,n=r;break}if(l===n){o=!0,n=s,i=r;break}l=l.sibling}if(!o)throw Error(ke(189))}}if(i.alternate!==n)throw Error(ke(190))}if(i.tag!==3)throw Error(ke(188));return i.stateNode.current===i?t:e}function Vg(t){return t=Bv(t),t!==null?jg(t):null}function jg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jg(t);if(e!==null)return e;t=t.sibling}return null}var Bg=ai.unstable_scheduleCallback,op=ai.unstable_cancelCallback,Fv=ai.unstable_shouldYield,zv=ai.unstable_requestPaint,ft=ai.unstable_now,Uv=ai.unstable_getCurrentPriorityLevel,ec=ai.unstable_ImmediatePriority,Fg=ai.unstable_UserBlockingPriority,Ia=ai.unstable_NormalPriority,Hv=ai.unstable_LowPriority,zg=ai.unstable_IdlePriority,al=null,Ri=null;function Wv(t){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(al,t,void 0,(t.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:Xv,Gv=Math.log,$v=Math.LN2;function Xv(t){return t>>>=0,t===0?32:31-(Gv(t)/$v|0)|0}var Wo=64,Go=4194304;function bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pa(t,e){var i=t.pendingLanes;if(i===0)return 0;var n=0,r=t.suspendedLanes,s=t.pingedLanes,o=i&268435455;if(o!==0){var l=o&~r;l!==0?n=bs(l):(s&=o,s!==0&&(n=bs(s)))}else o=i&~r,o!==0?n=bs(o):s!==0&&(n=bs(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(n&4&&(n|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)i=31-Ti(e),r=1<<i,n|=t[i],e&=~r;return n}function qv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yv(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ti(s),l=1<<o,f=r[o];f===-1?(!(l&i)||l&n)&&(r[o]=qv(l,e)):f<=e&&(t.expiredLanes|=l),s&=~l}}function Hh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ug(){var t=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),t}function Ql(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function vo(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ti(e),t[e]=i}function Kv(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var r=31-Ti(i),s=1<<r;e[r]=0,n[r]=-1,t[r]=-1,i&=~s}}function tc(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-Ti(i),r=1<<n;r&e|t[n]&e&&(t[n]|=e),i&=~r}}var Qe=0;function Hg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wg,ic,Gg,$g,Xg,Wh=!1,$o=[],fn=null,gn=null,mn=null,Ys=new Map,Ks=new Map,ln=[],Qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ap(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":gn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Ys.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ks.delete(e.pointerId)}}function ws(t,e,i,n,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},e!==null&&(e=wo(e),e!==null&&ic(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Zv(t,e,i,n,r){switch(e){case"focusin":return fn=ws(fn,t,e,i,n,r),!0;case"dragenter":return gn=ws(gn,t,e,i,n,r),!0;case"mouseover":return mn=ws(mn,t,e,i,n,r),!0;case"pointerover":var s=r.pointerId;return Ys.set(s,ws(Ys.get(s)||null,t,e,i,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Ks.set(s,ws(Ks.get(s)||null,t,e,i,n,r)),!0}return!1}function qg(t){var e=Wn(t.target);if(e!==null){var i=or(e);if(i!==null){if(e=i.tag,e===13){if(e=Ng(i),e!==null){t.blockedOn=e,Xg(t.priority,function(){Gg(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ca(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=Gh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var n=new i.constructor(i.type,i);Bh=n,i.target.dispatchEvent(n),Bh=null}else return e=wo(i),e!==null&&ic(e),t.blockedOn=i,!1;e.shift()}return!0}function lp(t,e,i){ca(t)&&i.delete(e)}function Jv(){Wh=!1,fn!==null&&ca(fn)&&(fn=null),gn!==null&&ca(gn)&&(gn=null),mn!==null&&ca(mn)&&(mn=null),Ys.forEach(lp),Ks.forEach(lp)}function _s(t,e){t.blockedOn===e&&(t.blockedOn=null,Wh||(Wh=!0,ai.unstable_scheduleCallback(ai.unstable_NormalPriority,Jv)))}function Qs(t){function e(r){return _s(r,t)}if(0<$o.length){_s($o[0],t);for(var i=1;i<$o.length;i++){var n=$o[i];n.blockedOn===t&&(n.blockedOn=null)}}for(fn!==null&&_s(fn,t),gn!==null&&_s(gn,t),mn!==null&&_s(mn,t),Ys.forEach(e),Ks.forEach(e),i=0;i<ln.length;i++)n=ln[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<ln.length&&(i=ln[0],i.blockedOn===null);)qg(i),i.blockedOn===null&&ln.shift()}var Dr=Ki.ReactCurrentBatchConfig,Ma=!0;function e1(t,e,i,n){var r=Qe,s=Dr.transition;Dr.transition=null;try{Qe=1,nc(t,e,i,n)}finally{Qe=r,Dr.transition=s}}function t1(t,e,i,n){var r=Qe,s=Dr.transition;Dr.transition=null;try{Qe=4,nc(t,e,i,n)}finally{Qe=r,Dr.transition=s}}function nc(t,e,i,n){if(Ma){var r=Gh(t,e,i,n);if(r===null)ah(t,e,n,Ra,i),ap(t,n);else if(Zv(r,t,e,i,n))n.stopPropagation();else if(ap(t,n),e&4&&-1<Qv.indexOf(t)){for(;r!==null;){var s=wo(r);if(s!==null&&Wg(s),s=Gh(t,e,i,n),s===null&&ah(t,e,n,Ra,i),s===r)break;r=s}r!==null&&n.stopPropagation()}else ah(t,e,n,null,i)}}var Ra=null;function Gh(t,e,i,n){if(Ra=null,t=Ju(n),t=Wn(t),t!==null)if(e=or(t),e===null)t=null;else if(i=e.tag,i===13){if(t=Ng(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ra=t,null}function Yg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uv()){case ec:return 1;case Fg:return 4;case Ia:case Hv:return 16;case zg:return 536870912;default:return 16}default:return 16}}var un=null,rc=null,da=null;function Kg(){if(da)return da;var t,e=rc,i=e.length,n,r="value"in un?un.value:un.textContent,s=r.length;for(t=0;t<i&&e[t]===r[t];t++);var o=i-t;for(n=1;n<=o&&e[i-n]===r[s-n];n++);return da=r.slice(t,1<n?1-n:void 0)}function pa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xo(){return!0}function hp(){return!1}function hi(t){function e(i,n,r,s,o){this._reactName=i,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(i=t[l],this[l]=i?i(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xo:hp,this.isPropagationStopped=hp,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),e}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sc=hi(ts),xo=ut({},ts,{view:0,detail:0}),i1=hi(xo),Zl,Jl,Es,ll=ut({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Es&&(Es&&t.type==="mousemove"?(Zl=t.screenX-Es.screenX,Jl=t.screenY-Es.screenY):Jl=Zl=0,Es=t),Zl)},movementY:function(t){return"movementY"in t?t.movementY:Jl}}),up=hi(ll),n1=ut({},ll,{dataTransfer:0}),r1=hi(n1),s1=ut({},xo,{relatedTarget:0}),eh=hi(s1),o1=ut({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),a1=hi(o1),l1=ut({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),h1=hi(l1),u1=ut({},ts,{data:0}),cp=hi(u1),c1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p1[t])?!!e[t]:!1}function oc(){return f1}var g1=ut({},xo,{key:function(t){if(t.key){var e=c1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?d1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(t){return t.type==="keypress"?pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),m1=hi(g1),y1=ut({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dp=hi(y1),v1=ut({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),x1=hi(v1),w1=ut({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),_1=hi(w1),E1=ut({},ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T1=hi(E1),S1=[9,13,27,32],ac=Wi&&"CompositionEvent"in window,Os=null;Wi&&"documentMode"in document&&(Os=document.documentMode);var C1=Wi&&"TextEvent"in window&&!Os,Qg=Wi&&(!ac||Os&&8<Os&&11>=Os),pp=" ",fp=!1;function Zg(t,e){switch(t){case"keyup":return S1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wr=!1;function A1(t,e){switch(t){case"compositionend":return Jg(e);case"keypress":return e.which!==32?null:(fp=!0,pp);case"textInput":return t=e.data,t===pp&&fp?null:t;default:return null}}function k1(t,e){if(wr)return t==="compositionend"||!ac&&Zg(t,e)?(t=Kg(),da=rc=un=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qg&&e.locale!=="ko"?null:e.data;default:return null}}var b1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!b1[t.type]:e==="textarea"}function em(t,e,i,n){Mg(n),e=Da(e,"onChange"),0<e.length&&(i=new sc("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Ns=null,Zs=null;function I1(t){cm(t,0)}function hl(t){var e=Tr(t);if(Sg(e))return t}function P1(t,e){if(t==="change")return e}var tm=!1;if(Wi){var th;if(Wi){var ih="oninput"in document;if(!ih){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),ih=typeof mp.oninput=="function"}th=ih}else th=!1;tm=th&&(!document.documentMode||9<document.documentMode)}function yp(){Ns&&(Ns.detachEvent("onpropertychange",im),Zs=Ns=null)}function im(t){if(t.propertyName==="value"&&hl(Zs)){var e=[];em(e,Zs,t,Ju(t)),Og(I1,e)}}function M1(t,e,i){t==="focusin"?(yp(),Ns=e,Zs=i,Ns.attachEvent("onpropertychange",im)):t==="focusout"&&yp()}function R1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hl(Zs)}function D1(t,e){if(t==="click")return hl(e)}function L1(t,e){if(t==="input"||t==="change")return hl(e)}function O1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ci=typeof Object.is=="function"?Object.is:O1;function Js(t,e){if(Ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!kh.call(e,r)||!Ci(t[r],e[r]))return!1}return!0}function vp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xp(t,e){var i=vp(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=vp(i)}}function nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rm(){for(var t=window,e=Aa();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Aa(t.document)}return e}function lc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function N1(t){var e=rm(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&nm(i.ownerDocument.documentElement,i)){if(n!==null&&lc(i)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=i.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!t.extend&&s>n&&(r=n,n=s,s=r),r=xp(i,s);var o=xp(i,n);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var V1=Wi&&"documentMode"in document&&11>=document.documentMode,_r=null,$h=null,Vs=null,Xh=!1;function wp(t,e,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Xh||_r==null||_r!==Aa(n)||(n=_r,"selectionStart"in n&&lc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vs&&Js(Vs,n)||(Vs=n,n=Da($h,"onSelect"),0<n.length&&(e=new sc("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=_r)))}function qo(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Er={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},nh={},sm={};Wi&&(sm=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);function ul(t){if(nh[t])return nh[t];if(!Er[t])return t;var e=Er[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in sm)return nh[t]=e[i];return t}var om=ul("animationend"),am=ul("animationiteration"),lm=ul("animationstart"),hm=ul("transitionend"),um=new Map,_p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(t,e){um.set(t,e),sr(e,[t])}for(var rh=0;rh<_p.length;rh++){var sh=_p[rh],j1=sh.toLowerCase(),B1=sh[0].toUpperCase()+sh.slice(1);Mn(j1,"on"+B1)}Mn(om,"onAnimationEnd");Mn(am,"onAnimationIteration");Mn(lm,"onAnimationStart");Mn("dblclick","onDoubleClick");Mn("focusin","onFocus");Mn("focusout","onBlur");Mn(hm,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Ep(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,jv(n,e,void 0,t),t.currentTarget=null}function cm(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var n=t[i],r=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],f=l.instance,S=l.currentTarget;if(l=l.listener,f!==s&&r.isPropagationStopped())break e;Ep(r,l,S),s=f}else for(o=0;o<n.length;o++){if(l=n[o],f=l.instance,S=l.currentTarget,l=l.listener,f!==s&&r.isPropagationStopped())break e;Ep(r,l,S),s=f}}}if(ba)throw t=Uh,ba=!1,Uh=null,t}function it(t,e){var i=e[Zh];i===void 0&&(i=e[Zh]=new Set);var n=t+"__bubble";i.has(n)||(dm(e,t,2,!1),i.add(n))}function oh(t,e,i){var n=0;e&&(n|=4),dm(i,t,n,e)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function eo(t){if(!t[Yo]){t[Yo]=!0,xg.forEach(function(i){i!=="selectionchange"&&(F1.has(i)||oh(i,!1,t),oh(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yo]||(e[Yo]=!0,oh("selectionchange",!1,e))}}function dm(t,e,i,n){switch(Yg(e)){case 1:var r=e1;break;case 4:r=t1;break;default:r=nc}i=r.bind(null,e,i,t),r=void 0,!zh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?t.addEventListener(e,i,{capture:!0,passive:r}):t.addEventListener(e,i,!0):r!==void 0?t.addEventListener(e,i,{passive:r}):t.addEventListener(e,i,!1)}function ah(t,e,i,n,r){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=n.return;o!==null;){var f=o.tag;if((f===3||f===4)&&(f=o.stateNode.containerInfo,f===r||f.nodeType===8&&f.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Wn(l),o===null)return;if(f=o.tag,f===5||f===6){n=s=o;continue e}l=l.parentNode}}n=n.return}Og(function(){var S=s,z=Ju(i),j=[];e:{var F=um.get(t);if(F!==void 0){var q=sc,C=t;switch(t){case"keypress":if(pa(i)===0)break e;case"keydown":case"keyup":q=m1;break;case"focusin":C="focus",q=eh;break;case"focusout":C="blur",q=eh;break;case"beforeblur":case"afterblur":q=eh;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=r1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=x1;break;case om:case am:case lm:q=a1;break;case hm:q=_1;break;case"scroll":q=i1;break;case"wheel":q=T1;break;case"copy":case"cut":case"paste":q=h1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=dp}var W=(e&4)!==0,G=!W&&t==="scroll",A=W?F!==null?F+"Capture":null:F;W=[];for(var p=S,v;p!==null;){v=p;var b=v.stateNode;if(v.tag===5&&b!==null&&(v=b,A!==null&&(b=qs(p,A),b!=null&&W.push(to(p,b,v)))),G)break;p=p.return}0<W.length&&(F=new q(F,C,null,i,z),j.push({event:F,listeners:W}))}}if(!(e&7)){e:{if(F=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",F&&i!==Bh&&(C=i.relatedTarget||i.fromElement)&&(Wn(C)||C[Gi]))break e;if((q||F)&&(F=z.window===z?z:(F=z.ownerDocument)?F.defaultView||F.parentWindow:window,q?(C=i.relatedTarget||i.toElement,q=S,C=C?Wn(C):null,C!==null&&(G=or(C),C!==G||C.tag!==5&&C.tag!==6)&&(C=null)):(q=null,C=S),q!==C)){if(W=up,b="onMouseLeave",A="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(W=dp,b="onPointerLeave",A="onPointerEnter",p="pointer"),G=q==null?F:Tr(q),v=C==null?F:Tr(C),F=new W(b,p+"leave",q,i,z),F.target=G,F.relatedTarget=v,b=null,Wn(z)===S&&(W=new W(A,p+"enter",C,i,z),W.target=v,W.relatedTarget=G,b=W),G=b,q&&C)t:{for(W=q,A=C,p=0,v=W;v;v=pr(v))p++;for(v=0,b=A;b;b=pr(b))v++;for(;0<p-v;)W=pr(W),p--;for(;0<v-p;)A=pr(A),v--;for(;p--;){if(W===A||A!==null&&W===A.alternate)break t;W=pr(W),A=pr(A)}W=null}else W=null;q!==null&&Tp(j,F,q,W,!1),C!==null&&G!==null&&Tp(j,G,C,W,!0)}}e:{if(F=S?Tr(S):window,q=F.nodeName&&F.nodeName.toLowerCase(),q==="select"||q==="input"&&F.type==="file")var O=P1;else if(gp(F))if(tm)O=L1;else{O=R1;var T=M1}else(q=F.nodeName)&&q.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(O=D1);if(O&&(O=O(t,S))){em(j,O,i,z);break e}T&&T(t,F,S),t==="focusout"&&(T=F._wrapperState)&&T.controlled&&F.type==="number"&&Lh(F,"number",F.value)}switch(T=S?Tr(S):window,t){case"focusin":(gp(T)||T.contentEditable==="true")&&(_r=T,$h=S,Vs=null);break;case"focusout":Vs=$h=_r=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,wp(j,i,z);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":wp(j,i,z)}var m;if(ac)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else wr?Zg(t,i)&&(w="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(w="onCompositionStart");w&&(Qg&&i.locale!=="ko"&&(wr||w!=="onCompositionStart"?w==="onCompositionEnd"&&wr&&(m=Kg()):(un=z,rc="value"in un?un.value:un.textContent,wr=!0)),T=Da(S,w),0<T.length&&(w=new cp(w,t,null,i,z),j.push({event:w,listeners:T}),m?w.data=m:(m=Jg(i),m!==null&&(w.data=m)))),(m=C1?A1(t,i):k1(t,i))&&(S=Da(S,"onBeforeInput"),0<S.length&&(z=new cp("onBeforeInput","beforeinput",null,i,z),j.push({event:z,listeners:S}),z.data=m))}cm(j,e)})}function to(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Da(t,e){for(var i=e+"Capture",n=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=qs(t,i),s!=null&&n.unshift(to(t,s,r)),s=qs(t,e),s!=null&&n.push(to(t,s,r))),t=t.return}return n}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tp(t,e,i,n,r){for(var s=e._reactName,o=[];i!==null&&i!==n;){var l=i,f=l.alternate,S=l.stateNode;if(f!==null&&f===n)break;l.tag===5&&S!==null&&(l=S,r?(f=qs(i,s),f!=null&&o.unshift(to(i,f,l))):r||(f=qs(i,s),f!=null&&o.push(to(i,f,l)))),i=i.return}o.length!==0&&t.push({event:e,listeners:o})}var z1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Sp(t){return(typeof t=="string"?t:""+t).replace(z1,`
`).replace(U1,"")}function Ko(t,e,i){if(e=Sp(e),Sp(t)!==e&&i)throw Error(ke(425))}function La(){}var qh=null,Yh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,W1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(t){return Cp.resolve(null).then(t).catch(G1)}:Qh;function G1(t){setTimeout(function(){throw t})}function lh(t,e){var i=e,n=0;do{var r=i.nextSibling;if(t.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(n===0){t.removeChild(r),Qs(e);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=r}while(i);Qs(e)}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var is=Math.random().toString(36).slice(2),Pi="__reactFiber$"+is,io="__reactProps$"+is,Gi="__reactContainer$"+is,Zh="__reactEvents$"+is,$1="__reactListeners$"+is,X1="__reactHandles$"+is;function Wn(t){var e=t[Pi];if(e)return e;for(var i=t.parentNode;i;){if(e=i[Gi]||i[Pi]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=Ap(t);t!==null;){if(i=t[Pi])return i;t=Ap(t)}return e}t=i,i=t.parentNode}return null}function wo(t){return t=t[Pi]||t[Gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function cl(t){return t[io]||null}var Jh=[],Sr=-1;function Rn(t){return{current:t}}function nt(t){0>Sr||(t.current=Jh[Sr],Jh[Sr]=null,Sr--)}function Je(t,e){Sr++,Jh[Sr]=t.current,t.current=e}var Cn={},Gt=Rn(Cn),ei=Rn(!1),Jn=Cn;function zr(t,e){var i=t.type.contextTypes;if(!i)return Cn;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in i)r[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ti(t){return t=t.childContextTypes,t!=null}function Oa(){nt(ei),nt(Gt)}function kp(t,e,i){if(Gt.current!==Cn)throw Error(ke(168));Je(Gt,e),Je(ei,i)}function pm(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(ke(108,Mv(t)||"Unknown",r));return ut({},i,n)}function Na(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cn,Jn=Gt.current,Je(Gt,t),Je(ei,ei.current),!0}function bp(t,e,i){var n=t.stateNode;if(!n)throw Error(ke(169));i?(t=pm(t,e,Jn),n.__reactInternalMemoizedMergedChildContext=t,nt(ei),nt(Gt),Je(Gt,t)):nt(ei),Je(ei,i)}var Fi=null,dl=!1,hh=!1;function fm(t){Fi===null?Fi=[t]:Fi.push(t)}function q1(t){dl=!0,fm(t)}function Dn(){if(!hh&&Fi!==null){hh=!0;var t=0,e=Qe;try{var i=Fi;for(Qe=1;t<i.length;t++){var n=i[t];do n=n(!0);while(n!==null)}Fi=null,dl=!1}catch(r){throw Fi!==null&&(Fi=Fi.slice(t+1)),Bg(ec,Dn),r}finally{Qe=e,hh=!1}}return null}var Cr=[],Ar=0,Va=null,ja=0,ui=[],ci=0,er=null,zi=1,Ui="";function zn(t,e){Cr[Ar++]=ja,Cr[Ar++]=Va,Va=t,ja=e}function gm(t,e,i){ui[ci++]=zi,ui[ci++]=Ui,ui[ci++]=er,er=t;var n=zi;t=Ui;var r=32-Ti(n)-1;n&=~(1<<r),i+=1;var s=32-Ti(e)+r;if(30<s){var o=r-r%5;s=(n&(1<<o)-1).toString(32),n>>=o,r-=o,zi=1<<32-Ti(e)+r|i<<r|n,Ui=s+t}else zi=1<<s|i<<r|n,Ui=t}function hc(t){t.return!==null&&(zn(t,1),gm(t,1,0))}function uc(t){for(;t===Va;)Va=Cr[--Ar],Cr[Ar]=null,ja=Cr[--Ar],Cr[Ar]=null;for(;t===er;)er=ui[--ci],ui[ci]=null,Ui=ui[--ci],ui[ci]=null,zi=ui[--ci],ui[ci]=null}var oi=null,si=null,rt=!1,Ei=null;function mm(t,e){var i=di(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function Ip(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oi=t,si=yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oi=t,si=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=er!==null?{id:zi,overflow:Ui}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=di(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,oi=t,si=null,!0):!1;default:return!1}}function eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tu(t){if(rt){var e=si;if(e){var i=e;if(!Ip(t,e)){if(eu(t))throw Error(ke(418));e=yn(i.nextSibling);var n=oi;e&&Ip(t,e)?mm(n,i):(t.flags=t.flags&-4097|2,rt=!1,oi=t)}}else{if(eu(t))throw Error(ke(418));t.flags=t.flags&-4097|2,rt=!1,oi=t}}}function Pp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oi=t}function Qo(t){if(t!==oi)return!1;if(!rt)return Pp(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=si)){if(eu(t))throw ym(),Error(ke(418));for(;e;)mm(t,e),e=yn(e.nextSibling)}if(Pp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){si=yn(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}si=null}}else si=oi?yn(t.stateNode.nextSibling):null;return!0}function ym(){for(var t=si;t;)t=yn(t.nextSibling)}function Ur(){si=oi=null,rt=!1}function cc(t){Ei===null?Ei=[t]:Ei.push(t)}var Y1=Ki.ReactCurrentBatchConfig;function Ts(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(ke(309));var n=i.stateNode}if(!n)throw Error(ke(147,t));var r=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ke(284));if(!i._owner)throw Error(ke(290,t))}return t}function Zo(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mp(t){var e=t._init;return e(t._payload)}function vm(t){function e(A,p){if(t){var v=A.deletions;v===null?(A.deletions=[p],A.flags|=16):v.push(p)}}function i(A,p){if(!t)return null;for(;p!==null;)e(A,p),p=p.sibling;return null}function n(A,p){for(A=new Map;p!==null;)p.key!==null?A.set(p.key,p):A.set(p.index,p),p=p.sibling;return A}function r(A,p){return A=_n(A,p),A.index=0,A.sibling=null,A}function s(A,p,v){return A.index=v,t?(v=A.alternate,v!==null?(v=v.index,v<p?(A.flags|=2,p):v):(A.flags|=2,p)):(A.flags|=1048576,p)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function l(A,p,v,b){return p===null||p.tag!==6?(p=mh(v,A.mode,b),p.return=A,p):(p=r(p,v),p.return=A,p)}function f(A,p,v,b){var O=v.type;return O===xr?z(A,p,v.props.children,b,v.key):p!==null&&(p.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===on&&Mp(O)===p.type)?(b=r(p,v.props),b.ref=Ts(A,p,v),b.return=A,b):(b=wa(v.type,v.key,v.props,null,A.mode,b),b.ref=Ts(A,p,v),b.return=A,b)}function S(A,p,v,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=yh(v,A.mode,b),p.return=A,p):(p=r(p,v.children||[]),p.return=A,p)}function z(A,p,v,b,O){return p===null||p.tag!==7?(p=Yn(v,A.mode,b,O),p.return=A,p):(p=r(p,v),p.return=A,p)}function j(A,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=mh(""+p,A.mode,v),p.return=A,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zo:return v=wa(p.type,p.key,p.props,null,A.mode,v),v.ref=Ts(A,null,p),v.return=A,v;case vr:return p=yh(p,A.mode,v),p.return=A,p;case on:var b=p._init;return j(A,b(p._payload),v)}if(ks(p)||vs(p))return p=Yn(p,A.mode,v,null),p.return=A,p;Zo(A,p)}return null}function F(A,p,v,b){var O=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return O!==null?null:l(A,p,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zo:return v.key===O?f(A,p,v,b):null;case vr:return v.key===O?S(A,p,v,b):null;case on:return O=v._init,F(A,p,O(v._payload),b)}if(ks(v)||vs(v))return O!==null?null:z(A,p,v,b,null);Zo(A,v)}return null}function q(A,p,v,b,O){if(typeof b=="string"&&b!==""||typeof b=="number")return A=A.get(v)||null,l(p,A,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zo:return A=A.get(b.key===null?v:b.key)||null,f(p,A,b,O);case vr:return A=A.get(b.key===null?v:b.key)||null,S(p,A,b,O);case on:var T=b._init;return q(A,p,v,T(b._payload),O)}if(ks(b)||vs(b))return A=A.get(v)||null,z(p,A,b,O,null);Zo(p,b)}return null}function C(A,p,v,b){for(var O=null,T=null,m=p,w=p=0,_=null;m!==null&&w<v.length;w++){m.index>w?(_=m,m=null):_=m.sibling;var g=F(A,m,v[w],b);if(g===null){m===null&&(m=_);break}t&&m&&g.alternate===null&&e(A,m),p=s(g,p,w),T===null?O=g:T.sibling=g,T=g,m=_}if(w===v.length)return i(A,m),rt&&zn(A,w),O;if(m===null){for(;w<v.length;w++)m=j(A,v[w],b),m!==null&&(p=s(m,p,w),T===null?O=m:T.sibling=m,T=m);return rt&&zn(A,w),O}for(m=n(A,m);w<v.length;w++)_=q(m,A,w,v[w],b),_!==null&&(t&&_.alternate!==null&&m.delete(_.key===null?w:_.key),p=s(_,p,w),T===null?O=_:T.sibling=_,T=_);return t&&m.forEach(function(d){return e(A,d)}),rt&&zn(A,w),O}function W(A,p,v,b){var O=vs(v);if(typeof O!="function")throw Error(ke(150));if(v=O.call(v),v==null)throw Error(ke(151));for(var T=O=null,m=p,w=p=0,_=null,g=v.next();m!==null&&!g.done;w++,g=v.next()){m.index>w?(_=m,m=null):_=m.sibling;var d=F(A,m,g.value,b);if(d===null){m===null&&(m=_);break}t&&m&&d.alternate===null&&e(A,m),p=s(d,p,w),T===null?O=d:T.sibling=d,T=d,m=_}if(g.done)return i(A,m),rt&&zn(A,w),O;if(m===null){for(;!g.done;w++,g=v.next())g=j(A,g.value,b),g!==null&&(p=s(g,p,w),T===null?O=g:T.sibling=g,T=g);return rt&&zn(A,w),O}for(m=n(A,m);!g.done;w++,g=v.next())g=q(m,A,w,g.value,b),g!==null&&(t&&g.alternate!==null&&m.delete(g.key===null?w:g.key),p=s(g,p,w),T===null?O=g:T.sibling=g,T=g);return t&&m.forEach(function(y){return e(A,y)}),rt&&zn(A,w),O}function G(A,p,v,b){if(typeof v=="object"&&v!==null&&v.type===xr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case zo:e:{for(var O=v.key,T=p;T!==null;){if(T.key===O){if(O=v.type,O===xr){if(T.tag===7){i(A,T.sibling),p=r(T,v.props.children),p.return=A,A=p;break e}}else if(T.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===on&&Mp(O)===T.type){i(A,T.sibling),p=r(T,v.props),p.ref=Ts(A,T,v),p.return=A,A=p;break e}i(A,T);break}else e(A,T);T=T.sibling}v.type===xr?(p=Yn(v.props.children,A.mode,b,v.key),p.return=A,A=p):(b=wa(v.type,v.key,v.props,null,A.mode,b),b.ref=Ts(A,p,v),b.return=A,A=b)}return o(A);case vr:e:{for(T=v.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){i(A,p.sibling),p=r(p,v.children||[]),p.return=A,A=p;break e}else{i(A,p);break}else e(A,p);p=p.sibling}p=yh(v,A.mode,b),p.return=A,A=p}return o(A);case on:return T=v._init,G(A,p,T(v._payload),b)}if(ks(v))return C(A,p,v,b);if(vs(v))return W(A,p,v,b);Zo(A,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(i(A,p.sibling),p=r(p,v),p.return=A,A=p):(i(A,p),p=mh(v,A.mode,b),p.return=A,A=p),o(A)):i(A,p)}return G}var Hr=vm(!0),xm=vm(!1),Ba=Rn(null),Fa=null,kr=null,dc=null;function pc(){dc=kr=Fa=null}function fc(t){var e=Ba.current;nt(Ba),t._currentValue=e}function iu(t,e,i){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Lr(t,e){Fa=t,dc=kr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function fi(t){var e=t._currentValue;if(dc!==t)if(t={context:t,memoizedValue:e,next:null},kr===null){if(Fa===null)throw Error(ke(308));kr=t,Fa.dependencies={lanes:0,firstContext:t}}else kr=kr.next=t;return e}var Gn=null;function gc(t){Gn===null?Gn=[t]:Gn.push(t)}function wm(t,e,i,n){var r=e.interleaved;return r===null?(i.next=i,gc(e)):(i.next=r.next,r.next=i),e.interleaved=i,$i(t,n)}function $i(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var an=!1;function mc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _m(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vn(t,e,i){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Xe&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,$i(t,i)}return r=n.interleaved,r===null?(e.next=e,gc(n)):(e.next=r.next,r.next=e),n.interleaved=e,$i(t,i)}function fa(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,tc(t,i)}}function Rp(t,e){var i=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var r=null,s=null;if(i=i.firstBaseUpdate,i!==null){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};s===null?r=s=o:s=s.next=o,i=i.next}while(i!==null);s===null?r=s=e:s=s.next=e}else r=s=e;i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function za(t,e,i,n){var r=t.updateQueue;an=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var f=l,S=f.next;f.next=null,o===null?s=S:o.next=S,o=f;var z=t.alternate;z!==null&&(z=z.updateQueue,l=z.lastBaseUpdate,l!==o&&(l===null?z.firstBaseUpdate=S:l.next=S,z.lastBaseUpdate=f))}if(s!==null){var j=r.baseState;o=0,z=S=f=null,l=s;do{var F=l.lane,q=l.eventTime;if((n&F)===F){z!==null&&(z=z.next={eventTime:q,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,W=l;switch(F=e,q=i,W.tag){case 1:if(C=W.payload,typeof C=="function"){j=C.call(q,j,F);break e}j=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=W.payload,F=typeof C=="function"?C.call(q,j,F):C,F==null)break e;j=ut({},j,F);break e;case 2:an=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,F=r.effects,F===null?r.effects=[l]:F.push(l))}else q={eventTime:q,lane:F,tag:l.tag,payload:l.payload,callback:l.callback,next:null},z===null?(S=z=q,f=j):z=z.next=q,o|=F;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;F=l,l=F.next,F.next=null,r.lastBaseUpdate=F,r.shared.pending=null}}while(!0);if(z===null&&(f=j),r.baseState=f,r.firstBaseUpdate=S,r.lastBaseUpdate=z,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ir|=o,t.lanes=o,t.memoizedState=j}}function Dp(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=i,typeof r!="function")throw Error(ke(191,r));r.call(n)}}}var _o={},Di=Rn(_o),no=Rn(_o),ro=Rn(_o);function $n(t){if(t===_o)throw Error(ke(174));return t}function yc(t,e){switch(Je(ro,e),Je(no,t),Je(Di,_o),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nh(e,t)}nt(Di),Je(Di,e)}function Wr(){nt(Di),nt(no),nt(ro)}function Em(t){$n(ro.current);var e=$n(Di.current),i=Nh(e,t.type);e!==i&&(Je(no,t),Je(Di,i))}function vc(t){no.current===t&&(nt(Di),nt(no))}var ot=Rn(0);function Ua(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uh=[];function xc(){for(var t=0;t<uh.length;t++)uh[t]._workInProgressVersionPrimary=null;uh.length=0}var ga=Ki.ReactCurrentDispatcher,ch=Ki.ReactCurrentBatchConfig,tr=0,lt=null,_t=null,Ct=null,Ha=!1,js=!1,so=0,K1=0;function Vt(){throw Error(ke(321))}function wc(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Ci(t[i],e[i]))return!1;return!0}function _c(t,e,i,n,r,s){if(tr=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ga.current=t===null||t.memoizedState===null?ex:tx,t=i(n,r),js){s=0;do{if(js=!1,so=0,25<=s)throw Error(ke(301));s+=1,Ct=_t=null,e.updateQueue=null,ga.current=ix,t=i(n,r)}while(js)}if(ga.current=Wa,e=_t!==null&&_t.next!==null,tr=0,Ct=_t=lt=null,Ha=!1,e)throw Error(ke(300));return t}function Ec(){var t=so!==0;return so=0,t}function bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?lt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function gi(){if(_t===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Ct===null?lt.memoizedState:Ct.next;if(e!==null)Ct=e,_t=t;else{if(t===null)throw Error(ke(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Ct===null?lt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function oo(t,e){return typeof e=="function"?e(t):e}function dh(t){var e=gi(),i=e.queue;if(i===null)throw Error(ke(311));i.lastRenderedReducer=t;var n=_t,r=n.baseQueue,s=i.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}n.baseQueue=r=s,i.pending=null}if(r!==null){s=r.next,n=n.baseState;var l=o=null,f=null,S=s;do{var z=S.lane;if((tr&z)===z)f!==null&&(f=f.next={lane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),n=S.hasEagerState?S.eagerState:t(n,S.action);else{var j={lane:z,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null};f===null?(l=f=j,o=n):f=f.next=j,lt.lanes|=z,ir|=z}S=S.next}while(S!==null&&S!==s);f===null?o=n:f.next=l,Ci(n,e.memoizedState)||(Jt=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=f,i.lastRenderedState=n}if(t=i.interleaved,t!==null){r=t;do s=r.lane,lt.lanes|=s,ir|=s,r=r.next;while(r!==t)}else r===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function ph(t){var e=gi(),i=e.queue;if(i===null)throw Error(ke(311));i.lastRenderedReducer=t;var n=i.dispatch,r=i.pending,s=e.memoizedState;if(r!==null){i.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Ci(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),i.lastRenderedState=s}return[s,n]}function Tm(){}function Sm(t,e){var i=lt,n=gi(),r=e(),s=!Ci(n.memoizedState,r);if(s&&(n.memoizedState=r,Jt=!0),n=n.queue,Tc(km.bind(null,i,n,t),[t]),n.getSnapshot!==e||s||Ct!==null&&Ct.memoizedState.tag&1){if(i.flags|=2048,ao(9,Am.bind(null,i,n,r,e),void 0,null),At===null)throw Error(ke(349));tr&30||Cm(i,e,r)}return r}function Cm(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function Am(t,e,i,n){e.value=i,e.getSnapshot=n,bm(e)&&Im(t)}function km(t,e,i){return i(function(){bm(e)&&Im(t)})}function bm(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Ci(t,i)}catch{return!0}}function Im(t){var e=$i(t,1);e!==null&&Si(e,t,1,-1)}function Lp(t){var e=bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:t},e.queue=t,t=t.dispatch=J1.bind(null,lt,t),[e.memoizedState,t]}function ao(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function Pm(){return gi().memoizedState}function ma(t,e,i,n){var r=bi();lt.flags|=t,r.memoizedState=ao(1|e,i,void 0,n===void 0?null:n)}function pl(t,e,i,n){var r=gi();n=n===void 0?null:n;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,n!==null&&wc(n,o.deps)){r.memoizedState=ao(e,i,s,n);return}}lt.flags|=t,r.memoizedState=ao(1|e,i,s,n)}function Op(t,e){return ma(8390656,8,t,e)}function Tc(t,e){return pl(2048,8,t,e)}function Mm(t,e){return pl(4,2,t,e)}function Rm(t,e){return pl(4,4,t,e)}function Dm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lm(t,e,i){return i=i!=null?i.concat([t]):null,pl(4,4,Dm.bind(null,e,t),i)}function Sc(){}function Om(t,e){var i=gi();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&wc(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function Nm(t,e){var i=gi();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&wc(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function Vm(t,e,i){return tr&21?(Ci(i,e)||(i=Ug(),lt.lanes|=i,ir|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=i)}function Q1(t,e){var i=Qe;Qe=i!==0&&4>i?i:4,t(!0);var n=ch.transition;ch.transition={};try{t(!1),e()}finally{Qe=i,ch.transition=n}}function jm(){return gi().memoizedState}function Z1(t,e,i){var n=wn(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},Bm(t))Fm(e,i);else if(i=wm(t,e,i,n),i!==null){var r=qt();Si(i,t,n,r),zm(i,e,n)}}function J1(t,e,i){var n=wn(t),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(Bm(t))Fm(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,i);if(r.hasEagerState=!0,r.eagerState=l,Ci(l,o)){var f=e.interleaved;f===null?(r.next=r,gc(e)):(r.next=f.next,f.next=r),e.interleaved=r;return}}catch{}finally{}i=wm(t,e,r,n),i!==null&&(r=qt(),Si(i,t,n,r),zm(i,e,n))}}function Bm(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function Fm(t,e){js=Ha=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function zm(t,e,i){if(i&4194240){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,tc(t,i)}}var Wa={readContext:fi,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},ex={readContext:fi,useCallback:function(t,e){return bi().memoizedState=[t,e===void 0?null:e],t},useContext:fi,useEffect:Op,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,ma(4194308,4,Dm.bind(null,e,t),i)},useLayoutEffect:function(t,e){return ma(4194308,4,t,e)},useInsertionEffect:function(t,e){return ma(4,2,t,e)},useMemo:function(t,e){var i=bi();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=bi();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Z1.bind(null,lt,t),[n.memoizedState,t]},useRef:function(t){var e=bi();return t={current:t},e.memoizedState=t},useState:Lp,useDebugValue:Sc,useDeferredValue:function(t){return bi().memoizedState=t},useTransition:function(){var t=Lp(!1),e=t[0];return t=Q1.bind(null,t[1]),bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=lt,r=bi();if(rt){if(i===void 0)throw Error(ke(407));i=i()}else{if(i=e(),At===null)throw Error(ke(349));tr&30||Cm(n,e,i)}r.memoizedState=i;var s={value:i,getSnapshot:e};return r.queue=s,Op(km.bind(null,n,s,t),[t]),n.flags|=2048,ao(9,Am.bind(null,n,s,i,e),void 0,null),i},useId:function(){var t=bi(),e=At.identifierPrefix;if(rt){var i=Ui,n=zi;i=(n&~(1<<32-Ti(n)-1)).toString(32)+i,e=":"+e+"R"+i,i=so++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=K1++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tx={readContext:fi,useCallback:Om,useContext:fi,useEffect:Tc,useImperativeHandle:Lm,useInsertionEffect:Mm,useLayoutEffect:Rm,useMemo:Nm,useReducer:dh,useRef:Pm,useState:function(){return dh(oo)},useDebugValue:Sc,useDeferredValue:function(t){var e=gi();return Vm(e,_t.memoizedState,t)},useTransition:function(){var t=dh(oo)[0],e=gi().memoizedState;return[t,e]},useMutableSource:Tm,useSyncExternalStore:Sm,useId:jm,unstable_isNewReconciler:!1},ix={readContext:fi,useCallback:Om,useContext:fi,useEffect:Tc,useImperativeHandle:Lm,useInsertionEffect:Mm,useLayoutEffect:Rm,useMemo:Nm,useReducer:ph,useRef:Pm,useState:function(){return ph(oo)},useDebugValue:Sc,useDeferredValue:function(t){var e=gi();return _t===null?e.memoizedState=t:Vm(e,_t.memoizedState,t)},useTransition:function(){var t=ph(oo)[0],e=gi().memoizedState;return[t,e]},useMutableSource:Tm,useSyncExternalStore:Sm,useId:jm,unstable_isNewReconciler:!1};function wi(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function nu(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:ut({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var fl={isMounted:function(t){return(t=t._reactInternals)?or(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=qt(),r=wn(t),s=Hi(n,r);s.payload=e,i!=null&&(s.callback=i),e=vn(t,s,r),e!==null&&(Si(e,t,r,n),fa(e,t,r))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=qt(),r=wn(t),s=Hi(n,r);s.tag=1,s.payload=e,i!=null&&(s.callback=i),e=vn(t,s,r),e!==null&&(Si(e,t,r,n),fa(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=qt(),n=wn(t),r=Hi(i,n);r.tag=2,e!=null&&(r.callback=e),e=vn(t,r,n),e!==null&&(Si(e,t,n,i),fa(e,t,n))}};function Np(t,e,i,n,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Js(i,n)||!Js(r,s):!0}function Um(t,e,i){var n=!1,r=Cn,s=e.contextType;return typeof s=="object"&&s!==null?s=fi(s):(r=ti(e)?Jn:Gt.current,n=e.contextTypes,s=(n=n!=null)?zr(t,r):Cn),e=new e(i,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fl,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vp(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&fl.enqueueReplaceState(e,e.state,null)}function ru(t,e,i,n){var r=t.stateNode;r.props=i,r.state=t.memoizedState,r.refs={},mc(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=fi(s):(s=ti(e)?Jn:Gt.current,r.context=zr(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(nu(t,e,s,i),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&fl.enqueueReplaceState(r,r.state,null),za(t,i,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Gr(t,e){try{var i="",n=e;do i+=Pv(n),n=n.return;while(n);var r=i}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function fh(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function su(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var nx=typeof WeakMap=="function"?WeakMap:Map;function Hm(t,e,i){i=Hi(-1,i),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){$a||($a=!0,gu=n),su(t,e)},i}function Wm(t,e,i){i=Hi(-1,i),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;i.payload=function(){return n(r)},i.callback=function(){su(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(i.callback=function(){su(t,e),typeof n!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),i}function jp(t,e,i){var n=t.pingCache;if(n===null){n=t.pingCache=new nx;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(i)||(r.add(i),t=yx.bind(null,t,e,i),e.then(t,t))}function Bp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fp(t,e,i,n,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=Hi(-1,1),e.tag=2,vn(i,e,1))),i.lanes|=1),t)}var rx=Ki.ReactCurrentOwner,Jt=!1;function Xt(t,e,i,n){e.child=t===null?xm(e,null,i,n):Hr(e,t.child,i,n)}function zp(t,e,i,n,r){i=i.render;var s=e.ref;return Lr(e,r),n=_c(t,e,i,n,s,r),i=Ec(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Xi(t,e,r)):(rt&&i&&hc(e),e.flags|=1,Xt(t,e,n,r),e.child)}function Up(t,e,i,n,r){if(t===null){var s=i.type;return typeof s=="function"&&!Rc(s)&&s.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=s,Gm(t,e,s,n,r)):(t=wa(i.type,null,n,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(i=i.compare,i=i!==null?i:Js,i(o,n)&&t.ref===e.ref)return Xi(t,e,r)}return e.flags|=1,t=_n(s,n),t.ref=e.ref,t.return=e,e.child=t}function Gm(t,e,i,n,r){if(t!==null){var s=t.memoizedProps;if(Js(s,n)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=n=s,(t.lanes&r)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Xi(t,e,r)}return ou(t,e,i,n,r)}function $m(t,e,i){var n=e.pendingProps,r=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Ir,ri),ri|=i;else{if(!(i&1073741824))return t=s!==null?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(Ir,ri),ri|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:i,Je(Ir,ri),ri|=n}else s!==null?(n=s.baseLanes|i,e.memoizedState=null):n=i,Je(Ir,ri),ri|=n;return Xt(t,e,r,i),e.child}function Xm(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function ou(t,e,i,n,r){var s=ti(i)?Jn:Gt.current;return s=zr(e,s),Lr(e,r),i=_c(t,e,i,n,s,r),n=Ec(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Xi(t,e,r)):(rt&&n&&hc(e),e.flags|=1,Xt(t,e,i,r),e.child)}function Hp(t,e,i,n,r){if(ti(i)){var s=!0;Na(e)}else s=!1;if(Lr(e,r),e.stateNode===null)ya(t,e),Um(e,i,n),ru(e,i,n,r),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var f=o.context,S=i.contextType;typeof S=="object"&&S!==null?S=fi(S):(S=ti(i)?Jn:Gt.current,S=zr(e,S));var z=i.getDerivedStateFromProps,j=typeof z=="function"||typeof o.getSnapshotBeforeUpdate=="function";j||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||f!==S)&&Vp(e,o,n,S),an=!1;var F=e.memoizedState;o.state=F,za(e,n,o,r),f=e.memoizedState,l!==n||F!==f||ei.current||an?(typeof z=="function"&&(nu(e,i,z,n),f=e.memoizedState),(l=an||Np(e,i,l,n,F,f,S))?(j||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=f),o.props=n,o.state=f,o.context=S,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,_m(t,e),l=e.memoizedProps,S=e.type===e.elementType?l:wi(e.type,l),o.props=S,j=e.pendingProps,F=o.context,f=i.contextType,typeof f=="object"&&f!==null?f=fi(f):(f=ti(i)?Jn:Gt.current,f=zr(e,f));var q=i.getDerivedStateFromProps;(z=typeof q=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==j||F!==f)&&Vp(e,o,n,f),an=!1,F=e.memoizedState,o.state=F,za(e,n,o,r);var C=e.memoizedState;l!==j||F!==C||ei.current||an?(typeof q=="function"&&(nu(e,i,q,n),C=e.memoizedState),(S=an||Np(e,i,S,n,F,C,f)||!1)?(z||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,C,f),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,C,f)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&F===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&F===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=C),o.props=n,o.state=C,o.context=f,n=S):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&F===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&F===t.memoizedState||(e.flags|=1024),n=!1)}return au(t,e,i,n,s,r)}function au(t,e,i,n,r,s){Xm(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return r&&bp(e,i,!1),Xi(t,e,s);n=e.stateNode,rx.current=e;var l=o&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Hr(e,t.child,null,s),e.child=Hr(e,null,l,s)):Xt(t,e,l,s),e.memoizedState=n.state,r&&bp(e,i,!0),e.child}function qm(t){var e=t.stateNode;e.pendingContext?kp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kp(t,e.context,!1),yc(t,e.containerInfo)}function Wp(t,e,i,n,r){return Ur(),cc(r),e.flags|=256,Xt(t,e,i,n),e.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function hu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ym(t,e,i){var n=e.pendingProps,r=ot.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Je(ot,r&1),t===null)return tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=yl(o,n,0,null),t=Yn(t,n,i,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=hu(i),e.memoizedState=lu,t):Cc(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return sx(t,e,o,n,l,r,i);if(s){s=n.fallback,o=e.mode,r=t.child,l=r.sibling;var f={mode:"hidden",children:n.children};return!(o&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=f,e.deletions=null):(n=_n(r,f),n.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=_n(l,s):(s=Yn(s,o,i,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?hu(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~i,e.memoizedState=lu,n}return s=t.child,t=s.sibling,n=_n(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n}function Cc(t,e){return e=yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jo(t,e,i,n){return n!==null&&cc(n),Hr(e,t.child,null,i),t=Cc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sx(t,e,i,n,r,s,o){if(i)return e.flags&256?(e.flags&=-257,n=fh(Error(ke(422))),Jo(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,r=e.mode,n=yl({mode:"visible",children:n.children},r,0,null),s=Yn(s,r,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Hr(e,t.child,null,o),e.child.memoizedState=hu(o),e.memoizedState=lu,s);if(!(e.mode&1))return Jo(t,e,o,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ke(419)),n=fh(s,n,void 0),Jo(t,e,o,n)}if(l=(o&t.childLanes)!==0,Jt||l){if(n=At,n!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,$i(t,r),Si(n,t,r,-1))}return Mc(),n=fh(Error(ke(421))),Jo(t,e,o,n)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=vx.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,si=yn(r.nextSibling),oi=e,rt=!0,Ei=null,t!==null&&(ui[ci++]=zi,ui[ci++]=Ui,ui[ci++]=er,zi=t.id,Ui=t.overflow,er=e),e=Cc(e,n.children),e.flags|=4096,e)}function Gp(t,e,i){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),iu(t.return,e,i)}function gh(t,e,i,n,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=i,s.tailMode=r)}function Km(t,e,i){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(Xt(t,e,n.children,i),n=ot.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gp(t,i,e);else if(t.tag===19)Gp(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Je(ot,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(i=e.child,r=null;i!==null;)t=i.alternate,t!==null&&Ua(t)===null&&(r=i),i=i.sibling;i=r,i===null?(r=e.child,e.child=null):(r=i.sibling,i.sibling=null),gh(e,!1,r,i,s);break;case"backwards":for(i=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ua(t)===null){e.child=r;break}t=r.sibling,r.sibling=i,i=r,r=t}gh(e,!0,i,null,s);break;case"together":gh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ya(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,i=_n(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=_n(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function ox(t,e,i){switch(e.tag){case 3:qm(e),Ur();break;case 5:Em(e);break;case 1:ti(e.type)&&Na(e);break;case 4:yc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;Je(Ba,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Je(ot,ot.current&1),e.flags|=128,null):i&e.child.childLanes?Ym(t,e,i):(Je(ot,ot.current&1),t=Xi(t,e,i),t!==null?t.sibling:null);Je(ot,ot.current&1);break;case 19:if(n=(i&e.childLanes)!==0,t.flags&128){if(n)return Km(t,e,i);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Je(ot,ot.current),n)break;return null;case 22:case 23:return e.lanes=0,$m(t,e,i)}return Xi(t,e,i)}var Qm,uu,Zm,Jm;Qm=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};uu=function(){};Zm=function(t,e,i,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,$n(Di.current);var s=null;switch(i){case"input":r=Rh(t,r),n=Rh(t,n),s=[];break;case"select":r=ut({},r,{value:void 0}),n=ut({},n,{value:void 0}),s=[];break;case"textarea":r=Oh(t,r),n=Oh(t,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=La)}Vh(i,n);var o;i=null;for(S in r)if(!n.hasOwnProperty(S)&&r.hasOwnProperty(S)&&r[S]!=null)if(S==="style"){var l=r[S];for(o in l)l.hasOwnProperty(o)&&(i||(i={}),i[o]="")}else S!=="dangerouslySetInnerHTML"&&S!=="children"&&S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&($s.hasOwnProperty(S)?s||(s=[]):(s=s||[]).push(S,null));for(S in n){var f=n[S];if(l=r!=null?r[S]:void 0,n.hasOwnProperty(S)&&f!==l&&(f!=null||l!=null))if(S==="style")if(l){for(o in l)!l.hasOwnProperty(o)||f&&f.hasOwnProperty(o)||(i||(i={}),i[o]="");for(o in f)f.hasOwnProperty(o)&&l[o]!==f[o]&&(i||(i={}),i[o]=f[o])}else i||(s||(s=[]),s.push(S,i)),i=f;else S==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,l=l?l.__html:void 0,f!=null&&l!==f&&(s=s||[]).push(S,f)):S==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(S,""+f):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&($s.hasOwnProperty(S)?(f!=null&&S==="onScroll"&&it("scroll",t),s||l===f||(s=[])):(s=s||[]).push(S,f))}i&&(s=s||[]).push("style",i);var S=s;(e.updateQueue=S)&&(e.flags|=4)}};Jm=function(t,e,i,n){i!==n&&(e.flags|=4)};function Ss(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,n=0;if(e)for(var r=t.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function ax(t,e,i){var n=e.pendingProps;switch(uc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return ti(e.type)&&Oa(),jt(e),null;case 3:return n=e.stateNode,Wr(),nt(ei),nt(Gt),xc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ei!==null&&(vu(Ei),Ei=null))),uu(t,e),jt(e),null;case 5:vc(e);var r=$n(ro.current);if(i=e.type,t!==null&&e.stateNode!=null)Zm(t,e,i,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ke(166));return jt(e),null}if(t=$n(Di.current),Qo(e)){n=e.stateNode,i=e.type;var s=e.memoizedProps;switch(n[Pi]=e,n[io]=s,t=(e.mode&1)!==0,i){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(r=0;r<Is.length;r++)it(Is[r],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":ep(n,s),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},it("invalid",n);break;case"textarea":ip(n,s),it("invalid",n)}Vh(i,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Ko(n.textContent,l,t),r=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Ko(n.textContent,l,t),r=["children",""+l]):$s.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&it("scroll",n)}switch(i){case"input":Uo(n),tp(n,s,!0);break;case"textarea":Uo(n),np(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=La)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kg(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(i,{is:n.is}):(t=o.createElement(i),i==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,i),t[Pi]=e,t[io]=n,Qm(t,e,!1,!1),e.stateNode=t;e:{switch(o=jh(i,n),i){case"dialog":it("cancel",t),it("close",t),r=n;break;case"iframe":case"object":case"embed":it("load",t),r=n;break;case"video":case"audio":for(r=0;r<Is.length;r++)it(Is[r],t);r=n;break;case"source":it("error",t),r=n;break;case"img":case"image":case"link":it("error",t),it("load",t),r=n;break;case"details":it("toggle",t),r=n;break;case"input":ep(t,n),r=Rh(t,n),it("invalid",t);break;case"option":r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=ut({},n,{value:void 0}),it("invalid",t);break;case"textarea":ip(t,n),r=Oh(t,n),it("invalid",t);break;default:r=n}Vh(i,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];s==="style"?Pg(t,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&bg(t,f)):s==="children"?typeof f=="string"?(i!=="textarea"||f!=="")&&Xs(t,f):typeof f=="number"&&Xs(t,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($s.hasOwnProperty(s)?f!=null&&s==="onScroll"&&it("scroll",t):f!=null&&Yu(t,s,f,o))}switch(i){case"input":Uo(t),tp(t,n,!1);break;case"textarea":Uo(t),np(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Sn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Pr(t,!!n.multiple,s,!1):n.defaultValue!=null&&Pr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=La)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)Jm(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ke(166));if(i=$n(ro.current),$n(Di.current),Qo(e)){if(n=e.stateNode,i=e.memoizedProps,n[Pi]=e,(s=n.nodeValue!==i)&&(t=oi,t!==null))switch(t.tag){case 3:Ko(n.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ko(n.nodeValue,i,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[Pi]=e,e.stateNode=n}return jt(e),null;case 13:if(nt(ot),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&si!==null&&e.mode&1&&!(e.flags&128))ym(),Ur(),e.flags|=98560,s=!1;else if(s=Qo(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));s[Pi]=e}else Ur(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else Ei!==null&&(vu(Ei),Ei=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Et===0&&(Et=3):Mc())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Wr(),uu(t,e),t===null&&eo(e.stateNode.containerInfo),jt(e),null;case 10:return fc(e.type._context),jt(e),null;case 17:return ti(e.type)&&Oa(),jt(e),null;case 19:if(nt(ot),s=e.memoizedState,s===null)return jt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Ss(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ua(t),o!==null){for(e.flags|=128,Ss(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;i!==null;)s=i,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Je(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>$r&&(e.flags|=128,n=!0,Ss(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ua(o),t!==null){if(e.flags|=128,n=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),Ss(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rt)return jt(e),null}else 2*ft()-s.renderingStartTime>$r&&i!==1073741824&&(e.flags|=128,n=!0,Ss(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(i=s.last,i!==null?i.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,i=ot.current,Je(ot,n?i&1|2:i&1),e):(jt(e),null);case 22:case 23:return Pc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ri&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function lx(t,e){switch(uc(e),e.tag){case 1:return ti(e.type)&&Oa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wr(),nt(ei),nt(Gt),xc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vc(e),null;case 13:if(nt(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));Ur()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ot),null;case 4:return Wr(),null;case 10:return fc(e.type._context),null;case 22:case 23:return Pc(),null;case 24:return null;default:return null}}var ea=!1,Ut=!1,hx=typeof WeakSet=="function"?WeakSet:Set,Re=null;function br(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){dt(t,e,n)}else i.current=null}function cu(t,e,i){try{i()}catch(n){dt(t,e,n)}}var $p=!1;function ux(t,e){if(qh=Ma,t=rm(),lc(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{i.nodeType,s.nodeType}catch{i=null;break e}var o=0,l=-1,f=-1,S=0,z=0,j=t,F=null;t:for(;;){for(var q;j!==i||r!==0&&j.nodeType!==3||(l=o+r),j!==s||n!==0&&j.nodeType!==3||(f=o+n),j.nodeType===3&&(o+=j.nodeValue.length),(q=j.firstChild)!==null;)F=j,j=q;for(;;){if(j===t)break t;if(F===i&&++S===r&&(l=o),F===s&&++z===n&&(f=o),(q=j.nextSibling)!==null)break;j=F,F=j.parentNode}j=q}i=l===-1||f===-1?null:{start:l,end:f}}else i=null}i=i||{start:0,end:0}}else i=null;for(Yh={focusedElem:t,selectionRange:i},Ma=!1,Re=e;Re!==null;)if(e=Re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Re=t;else for(;Re!==null;){e=Re;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var W=C.memoizedProps,G=C.memoizedState,A=e.stateNode,p=A.getSnapshotBeforeUpdate(e.elementType===e.type?W:wi(e.type,W),G);A.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(b){dt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Re=t;break}Re=e.return}return C=$p,$p=!1,C}function Bs(t,e,i){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&cu(e,i,s)}r=r.next}while(r!==n)}}function gl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function du(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function ey(t){var e=t.alternate;e!==null&&(t.alternate=null,ey(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pi],delete e[io],delete e[Zh],delete e[$1],delete e[X1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ty(t){return t.tag===5||t.tag===3||t.tag===4}function Xp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pu(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=La));else if(n!==4&&(t=t.child,t!==null))for(pu(t,e,i),t=t.sibling;t!==null;)pu(t,e,i),t=t.sibling}function fu(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(fu(t,e,i),t=t.sibling;t!==null;)fu(t,e,i),t=t.sibling}var bt=null,_i=!1;function sn(t,e,i){for(i=i.child;i!==null;)iy(t,e,i),i=i.sibling}function iy(t,e,i){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(al,i)}catch{}switch(i.tag){case 5:Ut||br(i,e);case 6:var n=bt,r=_i;bt=null,sn(t,e,i),bt=n,_i=r,bt!==null&&(_i?(t=bt,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):bt.removeChild(i.stateNode));break;case 18:bt!==null&&(_i?(t=bt,i=i.stateNode,t.nodeType===8?lh(t.parentNode,i):t.nodeType===1&&lh(t,i),Qs(t)):lh(bt,i.stateNode));break;case 4:n=bt,r=_i,bt=i.stateNode.containerInfo,_i=!0,sn(t,e,i),bt=n,_i=r;break;case 0:case 11:case 14:case 15:if(!Ut&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&cu(i,e,o),r=r.next}while(r!==n)}sn(t,e,i);break;case 1:if(!Ut&&(br(i,e),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(l){dt(i,e,l)}sn(t,e,i);break;case 21:sn(t,e,i);break;case 22:i.mode&1?(Ut=(n=Ut)||i.memoizedState!==null,sn(t,e,i),Ut=n):sn(t,e,i);break;default:sn(t,e,i)}}function qp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new hx),e.forEach(function(n){var r=xx.bind(null,t,n);i.has(n)||(i.add(n),n.then(r,r))})}}function xi(t,e){var i=e.deletions;if(i!==null)for(var n=0;n<i.length;n++){var r=i[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:bt=l.stateNode,_i=!1;break e;case 3:bt=l.stateNode.containerInfo,_i=!0;break e;case 4:bt=l.stateNode.containerInfo,_i=!0;break e}l=l.return}if(bt===null)throw Error(ke(160));iy(s,o,r),bt=null,_i=!1;var f=r.alternate;f!==null&&(f.return=null),r.return=null}catch(S){dt(r,e,S)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ny(e,t),e=e.sibling}function ny(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xi(e,t),ki(t),n&4){try{Bs(3,t,t.return),gl(3,t)}catch(W){dt(t,t.return,W)}try{Bs(5,t,t.return)}catch(W){dt(t,t.return,W)}}break;case 1:xi(e,t),ki(t),n&512&&i!==null&&br(i,i.return);break;case 5:if(xi(e,t),ki(t),n&512&&i!==null&&br(i,i.return),t.flags&32){var r=t.stateNode;try{Xs(r,"")}catch(W){dt(t,t.return,W)}}if(n&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=i!==null?i.memoizedProps:s,l=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Cg(r,s),jh(l,o);var S=jh(l,s);for(o=0;o<f.length;o+=2){var z=f[o],j=f[o+1];z==="style"?Pg(r,j):z==="dangerouslySetInnerHTML"?bg(r,j):z==="children"?Xs(r,j):Yu(r,z,j,S)}switch(l){case"input":Dh(r,s);break;case"textarea":Ag(r,s);break;case"select":var F=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var q=s.value;q!=null?Pr(r,!!s.multiple,q,!1):F!==!!s.multiple&&(s.defaultValue!=null?Pr(r,!!s.multiple,s.defaultValue,!0):Pr(r,!!s.multiple,s.multiple?[]:"",!1))}r[io]=s}catch(W){dt(t,t.return,W)}}break;case 6:if(xi(e,t),ki(t),n&4){if(t.stateNode===null)throw Error(ke(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(W){dt(t,t.return,W)}}break;case 3:if(xi(e,t),ki(t),n&4&&i!==null&&i.memoizedState.isDehydrated)try{Qs(e.containerInfo)}catch(W){dt(t,t.return,W)}break;case 4:xi(e,t),ki(t);break;case 13:xi(e,t),ki(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(bc=ft())),n&4&&qp(t);break;case 22:if(z=i!==null&&i.memoizedState!==null,t.mode&1?(Ut=(S=Ut)||z,xi(e,t),Ut=S):xi(e,t),ki(t),n&8192){if(S=t.memoizedState!==null,(t.stateNode.isHidden=S)&&!z&&t.mode&1)for(Re=t,z=t.child;z!==null;){for(j=Re=z;Re!==null;){switch(F=Re,q=F.child,F.tag){case 0:case 11:case 14:case 15:Bs(4,F,F.return);break;case 1:br(F,F.return);var C=F.stateNode;if(typeof C.componentWillUnmount=="function"){n=F,i=F.return;try{e=n,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(W){dt(n,i,W)}}break;case 5:br(F,F.return);break;case 22:if(F.memoizedState!==null){Kp(j);continue}}q!==null?(q.return=F,Re=q):Kp(j)}z=z.sibling}e:for(z=null,j=t;;){if(j.tag===5){if(z===null){z=j;try{r=j.stateNode,S?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=j.stateNode,f=j.memoizedProps.style,o=f!=null&&f.hasOwnProperty("display")?f.display:null,l.style.display=Ig("display",o))}catch(W){dt(t,t.return,W)}}}else if(j.tag===6){if(z===null)try{j.stateNode.nodeValue=S?"":j.memoizedProps}catch(W){dt(t,t.return,W)}}else if((j.tag!==22&&j.tag!==23||j.memoizedState===null||j===t)&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===t)break e;for(;j.sibling===null;){if(j.return===null||j.return===t)break e;z===j&&(z=null),j=j.return}z===j&&(z=null),j.sibling.return=j.return,j=j.sibling}}break;case 19:xi(e,t),ki(t),n&4&&qp(t);break;case 21:break;default:xi(e,t),ki(t)}}function ki(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(ty(i)){var n=i;break e}i=i.return}throw Error(ke(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(Xs(r,""),n.flags&=-33);var s=Xp(t);fu(t,s,r);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Xp(t);pu(t,l,o);break;default:throw Error(ke(161))}}catch(f){dt(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cx(t,e,i){Re=t,ry(t)}function ry(t,e,i){for(var n=(t.mode&1)!==0;Re!==null;){var r=Re,s=r.child;if(r.tag===22&&n){var o=r.memoizedState!==null||ea;if(!o){var l=r.alternate,f=l!==null&&l.memoizedState!==null||Ut;l=ea;var S=Ut;if(ea=o,(Ut=f)&&!S)for(Re=r;Re!==null;)o=Re,f=o.child,o.tag===22&&o.memoizedState!==null?Qp(r):f!==null?(f.return=o,Re=f):Qp(r);for(;s!==null;)Re=s,ry(s),s=s.sibling;Re=r,ea=l,Ut=S}Yp(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Re=s):Yp(t)}}function Yp(t){for(;Re!==null;){var e=Re;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||gl(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ut)if(i===null)n.componentDidMount();else{var r=e.elementType===e.type?i.memoizedProps:wi(e.type,i.memoizedProps);n.componentDidUpdate(r,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Dp(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}Dp(e,o,i)}break;case 5:var l=e.stateNode;if(i===null&&e.flags&4){i=l;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&i.focus();break;case"img":f.src&&(i.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var S=e.alternate;if(S!==null){var z=S.memoizedState;if(z!==null){var j=z.dehydrated;j!==null&&Qs(j)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Ut||e.flags&512&&du(e)}catch(F){dt(e,e.return,F)}}if(e===t){Re=null;break}if(i=e.sibling,i!==null){i.return=e.return,Re=i;break}Re=e.return}}function Kp(t){for(;Re!==null;){var e=Re;if(e===t){Re=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Re=i;break}Re=e.return}}function Qp(t){for(;Re!==null;){var e=Re;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{gl(4,e)}catch(f){dt(e,i,f)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(f){dt(e,r,f)}}var s=e.return;try{du(e)}catch(f){dt(e,s,f)}break;case 5:var o=e.return;try{du(e)}catch(f){dt(e,o,f)}}}catch(f){dt(e,e.return,f)}if(e===t){Re=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Re=l;break}Re=e.return}}var dx=Math.ceil,Ga=Ki.ReactCurrentDispatcher,Ac=Ki.ReactCurrentOwner,pi=Ki.ReactCurrentBatchConfig,Xe=0,At=null,vt=null,Pt=0,ri=0,Ir=Rn(0),Et=0,lo=null,ir=0,ml=0,kc=0,Fs=null,Zt=null,bc=0,$r=1/0,Bi=null,$a=!1,gu=null,xn=null,ta=!1,cn=null,Xa=0,zs=0,mu=null,va=-1,xa=0;function qt(){return Xe&6?ft():va!==-1?va:va=ft()}function wn(t){return t.mode&1?Xe&2&&Pt!==0?Pt&-Pt:Y1.transition!==null?(xa===0&&(xa=Ug()),xa):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:Yg(t.type)),t):1}function Si(t,e,i,n){if(50<zs)throw zs=0,mu=null,Error(ke(185));vo(t,i,n),(!(Xe&2)||t!==At)&&(t===At&&(!(Xe&2)&&(ml|=i),Et===4&&hn(t,Pt)),ii(t,n),i===1&&Xe===0&&!(e.mode&1)&&($r=ft()+500,dl&&Dn()))}function ii(t,e){var i=t.callbackNode;Yv(t,e);var n=Pa(t,t===At?Pt:0);if(n===0)i!==null&&op(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(i!=null&&op(i),e===1)t.tag===0?q1(Zp.bind(null,t)):fm(Zp.bind(null,t)),W1(function(){!(Xe&6)&&Dn()}),i=null;else{switch(Hg(n)){case 1:i=ec;break;case 4:i=Fg;break;case 16:i=Ia;break;case 536870912:i=zg;break;default:i=Ia}i=dy(i,sy.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function sy(t,e){if(va=-1,xa=0,Xe&6)throw Error(ke(327));var i=t.callbackNode;if(Or()&&t.callbackNode!==i)return null;var n=Pa(t,t===At?Pt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=qa(t,n);else{e=n;var r=Xe;Xe|=2;var s=ay();(At!==t||Pt!==e)&&(Bi=null,$r=ft()+500,qn(t,e));do try{gx();break}catch(l){oy(t,l)}while(!0);pc(),Ga.current=s,Xe=r,vt!==null?e=0:(At=null,Pt=0,e=Et)}if(e!==0){if(e===2&&(r=Hh(t),r!==0&&(n=r,e=yu(t,r))),e===1)throw i=lo,qn(t,0),hn(t,n),ii(t,ft()),i;if(e===6)hn(t,n);else{if(r=t.current.alternate,!(n&30)&&!px(r)&&(e=qa(t,n),e===2&&(s=Hh(t),s!==0&&(n=s,e=yu(t,s))),e===1))throw i=lo,qn(t,0),hn(t,n),ii(t,ft()),i;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(ke(345));case 2:Un(t,Zt,Bi);break;case 3:if(hn(t,n),(n&130023424)===n&&(e=bc+500-ft(),10<e)){if(Pa(t,0)!==0)break;if(r=t.suspendedLanes,(r&n)!==n){qt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Qh(Un.bind(null,t,Zt,Bi),e);break}Un(t,Zt,Bi);break;case 4:if(hn(t,n),(n&4194240)===n)break;for(e=t.eventTimes,r=-1;0<n;){var o=31-Ti(n);s=1<<o,o=e[o],o>r&&(r=o),n&=~s}if(n=r,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*dx(n/1960))-n,10<n){t.timeoutHandle=Qh(Un.bind(null,t,Zt,Bi),n);break}Un(t,Zt,Bi);break;case 5:Un(t,Zt,Bi);break;default:throw Error(ke(329))}}}return ii(t,ft()),t.callbackNode===i?sy.bind(null,t):null}function yu(t,e){var i=Fs;return t.current.memoizedState.isDehydrated&&(qn(t,e).flags|=256),t=qa(t,e),t!==2&&(e=Zt,Zt=i,e!==null&&vu(e)),t}function vu(t){Zt===null?Zt=t:Zt.push.apply(Zt,t)}function px(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var r=i[n],s=r.getSnapshot;r=r.value;try{if(!Ci(s(),r))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hn(t,e){for(e&=~kc,e&=~ml,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-Ti(e),n=1<<i;t[i]=-1,e&=~n}}function Zp(t){if(Xe&6)throw Error(ke(327));Or();var e=Pa(t,0);if(!(e&1))return ii(t,ft()),null;var i=qa(t,e);if(t.tag!==0&&i===2){var n=Hh(t);n!==0&&(e=n,i=yu(t,n))}if(i===1)throw i=lo,qn(t,0),hn(t,e),ii(t,ft()),i;if(i===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Un(t,Zt,Bi),ii(t,ft()),null}function Ic(t,e){var i=Xe;Xe|=1;try{return t(e)}finally{Xe=i,Xe===0&&($r=ft()+500,dl&&Dn())}}function nr(t){cn!==null&&cn.tag===0&&!(Xe&6)&&Or();var e=Xe;Xe|=1;var i=pi.transition,n=Qe;try{if(pi.transition=null,Qe=1,t)return t()}finally{Qe=n,pi.transition=i,Xe=e,!(Xe&6)&&Dn()}}function Pc(){ri=Ir.current,nt(Ir)}function qn(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,H1(i)),vt!==null)for(i=vt.return;i!==null;){var n=i;switch(uc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oa();break;case 3:Wr(),nt(ei),nt(Gt),xc();break;case 5:vc(n);break;case 4:Wr();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:fc(n.type._context);break;case 22:case 23:Pc()}i=i.return}if(At=t,vt=t=_n(t.current,null),Pt=ri=e,Et=0,lo=null,kc=ml=ir=0,Zt=Fs=null,Gn!==null){for(e=0;e<Gn.length;e++)if(i=Gn[e],n=i.interleaved,n!==null){i.interleaved=null;var r=n.next,s=i.pending;if(s!==null){var o=s.next;s.next=r,n.next=o}i.pending=n}Gn=null}return t}function oy(t,e){do{var i=vt;try{if(pc(),ga.current=Wa,Ha){for(var n=lt.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ha=!1}if(tr=0,Ct=_t=lt=null,js=!1,so=0,Ac.current=null,i===null||i.return===null){Et=1,lo=e,vt=null;break}e:{var s=t,o=i.return,l=i,f=e;if(e=Pt,l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var S=f,z=l,j=z.tag;if(!(z.mode&1)&&(j===0||j===11||j===15)){var F=z.alternate;F?(z.updateQueue=F.updateQueue,z.memoizedState=F.memoizedState,z.lanes=F.lanes):(z.updateQueue=null,z.memoizedState=null)}var q=Bp(o);if(q!==null){q.flags&=-257,Fp(q,o,l,s,e),q.mode&1&&jp(s,S,e),e=q,f=S;var C=e.updateQueue;if(C===null){var W=new Set;W.add(f),e.updateQueue=W}else C.add(f);break e}else{if(!(e&1)){jp(s,S,e),Mc();break e}f=Error(ke(426))}}else if(rt&&l.mode&1){var G=Bp(o);if(G!==null){!(G.flags&65536)&&(G.flags|=256),Fp(G,o,l,s,e),cc(Gr(f,l));break e}}s=f=Gr(f,l),Et!==4&&(Et=2),Fs===null?Fs=[s]:Fs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=Hm(s,f,e);Rp(s,A);break e;case 1:l=f;var p=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(xn===null||!xn.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=Wm(s,l,e);Rp(s,b);break e}}s=s.return}while(s!==null)}hy(i)}catch(O){e=O,vt===i&&i!==null&&(vt=i=i.return);continue}break}while(!0)}function ay(){var t=Ga.current;return Ga.current=Wa,t===null?Wa:t}function Mc(){(Et===0||Et===3||Et===2)&&(Et=4),At===null||!(ir&268435455)&&!(ml&268435455)||hn(At,Pt)}function qa(t,e){var i=Xe;Xe|=2;var n=ay();(At!==t||Pt!==e)&&(Bi=null,qn(t,e));do try{fx();break}catch(r){oy(t,r)}while(!0);if(pc(),Xe=i,Ga.current=n,vt!==null)throw Error(ke(261));return At=null,Pt=0,Et}function fx(){for(;vt!==null;)ly(vt)}function gx(){for(;vt!==null&&!Fv();)ly(vt)}function ly(t){var e=cy(t.alternate,t,ri);t.memoizedProps=t.pendingProps,e===null?hy(t):vt=e,Ac.current=null}function hy(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=lx(i,e),i!==null){i.flags&=32767,vt=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,vt=null;return}}else if(i=ax(i,e,ri),i!==null){vt=i;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);Et===0&&(Et=5)}function Un(t,e,i){var n=Qe,r=pi.transition;try{pi.transition=null,Qe=1,mx(t,e,i,n)}finally{pi.transition=r,Qe=n}return null}function mx(t,e,i,n){do Or();while(cn!==null);if(Xe&6)throw Error(ke(327));i=t.finishedWork;var r=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var s=i.lanes|i.childLanes;if(Kv(t,s),t===At&&(vt=At=null,Pt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ta||(ta=!0,dy(Ia,function(){return Or(),null})),s=(i.flags&15990)!==0,i.subtreeFlags&15990||s){s=pi.transition,pi.transition=null;var o=Qe;Qe=1;var l=Xe;Xe|=4,Ac.current=null,ux(t,i),ny(i,t),N1(Yh),Ma=!!qh,Yh=qh=null,t.current=i,cx(i),zv(),Xe=l,Qe=o,pi.transition=s}else t.current=i;if(ta&&(ta=!1,cn=t,Xa=r),s=t.pendingLanes,s===0&&(xn=null),Wv(i.stateNode),ii(t,ft()),e!==null)for(n=t.onRecoverableError,i=0;i<e.length;i++)r=e[i],n(r.value,{componentStack:r.stack,digest:r.digest});if($a)throw $a=!1,t=gu,gu=null,t;return Xa&1&&t.tag!==0&&Or(),s=t.pendingLanes,s&1?t===mu?zs++:(zs=0,mu=t):zs=0,Dn(),null}function Or(){if(cn!==null){var t=Hg(Xa),e=pi.transition,i=Qe;try{if(pi.transition=null,Qe=16>t?16:t,cn===null)var n=!1;else{if(t=cn,cn=null,Xa=0,Xe&6)throw Error(ke(331));var r=Xe;for(Xe|=4,Re=t.current;Re!==null;){var s=Re,o=s.child;if(Re.flags&16){var l=s.deletions;if(l!==null){for(var f=0;f<l.length;f++){var S=l[f];for(Re=S;Re!==null;){var z=Re;switch(z.tag){case 0:case 11:case 15:Bs(8,z,s)}var j=z.child;if(j!==null)j.return=z,Re=j;else for(;Re!==null;){z=Re;var F=z.sibling,q=z.return;if(ey(z),z===S){Re=null;break}if(F!==null){F.return=q,Re=F;break}Re=q}}}var C=s.alternate;if(C!==null){var W=C.child;if(W!==null){C.child=null;do{var G=W.sibling;W.sibling=null,W=G}while(W!==null)}}Re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Re=o;else e:for(;Re!==null;){if(s=Re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Bs(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,Re=A;break e}Re=s.return}}var p=t.current;for(Re=p;Re!==null;){o=Re;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,Re=v;else e:for(o=p;Re!==null;){if(l=Re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gl(9,l)}}catch(O){dt(l,l.return,O)}if(l===o){Re=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,Re=b;break e}Re=l.return}}if(Xe=r,Dn(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(al,t)}catch{}n=!0}return n}finally{Qe=i,pi.transition=e}}return!1}function Jp(t,e,i){e=Gr(i,e),e=Hm(t,e,1),t=vn(t,e,1),e=qt(),t!==null&&(vo(t,1,e),ii(t,e))}function dt(t,e,i){if(t.tag===3)Jp(t,t,i);else for(;e!==null;){if(e.tag===3){Jp(e,t,i);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xn===null||!xn.has(n))){t=Gr(i,t),t=Wm(e,t,1),e=vn(e,t,1),t=qt(),e!==null&&(vo(e,1,t),ii(e,t));break}}e=e.return}}function yx(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&i,At===t&&(Pt&i)===i&&(Et===4||Et===3&&(Pt&130023424)===Pt&&500>ft()-bc?qn(t,0):kc|=i),ii(t,e)}function uy(t,e){e===0&&(t.mode&1?(e=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):e=1);var i=qt();t=$i(t,e),t!==null&&(vo(t,e,i),ii(t,i))}function vx(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),uy(t,i)}function xx(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;r!==null&&(i=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ke(314))}n!==null&&n.delete(e),uy(t,i)}var cy;cy=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||ei.current)Jt=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return Jt=!1,ox(t,e,i);Jt=!!(t.flags&131072)}else Jt=!1,rt&&e.flags&1048576&&gm(e,ja,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ya(t,e),t=e.pendingProps;var r=zr(e,Gt.current);Lr(e,i),r=_c(null,e,n,t,r,i);var s=Ec();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ti(n)?(s=!0,Na(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,mc(e),r.updater=fl,e.stateNode=r,r._reactInternals=e,ru(e,n,t,i),e=au(null,e,n,!0,s,i)):(e.tag=0,rt&&s&&hc(e),Xt(null,e,r,i),e=e.child),e;case 16:n=e.elementType;e:{switch(ya(t,e),t=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=_x(n),t=wi(n,t),r){case 0:e=ou(null,e,n,t,i);break e;case 1:e=Hp(null,e,n,t,i);break e;case 11:e=zp(null,e,n,t,i);break e;case 14:e=Up(null,e,n,wi(n.type,t),i);break e}throw Error(ke(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:wi(n,r),ou(t,e,n,r,i);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:wi(n,r),Hp(t,e,n,r,i);case 3:e:{if(qm(e),t===null)throw Error(ke(387));n=e.pendingProps,s=e.memoizedState,r=s.element,_m(t,e),za(e,n,null,i);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Gr(Error(ke(423)),e),e=Wp(t,e,n,i,r);break e}else if(n!==r){r=Gr(Error(ke(424)),e),e=Wp(t,e,n,i,r);break e}else for(si=yn(e.stateNode.containerInfo.firstChild),oi=e,rt=!0,Ei=null,i=xm(e,null,n,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ur(),n===r){e=Xi(t,e,i);break e}Xt(t,e,n,i)}e=e.child}return e;case 5:return Em(e),t===null&&tu(e),n=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Kh(n,r)?o=null:s!==null&&Kh(n,s)&&(e.flags|=32),Xm(t,e),Xt(t,e,o,i),e.child;case 6:return t===null&&tu(e),null;case 13:return Ym(t,e,i);case 4:return yc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Hr(e,null,n,i):Xt(t,e,n,i),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:wi(n,r),zp(t,e,n,r,i);case 7:return Xt(t,e,e.pendingProps,i),e.child;case 8:return Xt(t,e,e.pendingProps.children,i),e.child;case 12:return Xt(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Je(Ba,n._currentValue),n._currentValue=o,s!==null)if(Ci(s.value,o)){if(s.children===r.children&&!ei.current){e=Xi(t,e,i);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var f=l.firstContext;f!==null;){if(f.context===n){if(s.tag===1){f=Hi(-1,i&-i),f.tag=2;var S=s.updateQueue;if(S!==null){S=S.shared;var z=S.pending;z===null?f.next=f:(f.next=z.next,z.next=f),S.pending=f}}s.lanes|=i,f=s.alternate,f!==null&&(f.lanes|=i),iu(s.return,i,e),l.lanes|=i;break}f=f.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ke(341));o.lanes|=i,l=o.alternate,l!==null&&(l.lanes|=i),iu(o,i,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Xt(t,e,r.children,i),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,Lr(e,i),r=fi(r),n=n(r),e.flags|=1,Xt(t,e,n,i),e.child;case 14:return n=e.type,r=wi(n,e.pendingProps),r=wi(n.type,r),Up(t,e,n,r,i);case 15:return Gm(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:wi(n,r),ya(t,e),e.tag=1,ti(n)?(t=!0,Na(e)):t=!1,Lr(e,i),Um(e,n,r),ru(e,n,r,i),au(null,e,n,!0,t,i);case 19:return Km(t,e,i);case 22:return $m(t,e,i)}throw Error(ke(156,e.tag))};function dy(t,e){return Bg(t,e)}function wx(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(t,e,i,n){return new wx(t,e,i,n)}function Rc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _x(t){if(typeof t=="function")return Rc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qu)return 11;if(t===Zu)return 14}return 2}function _n(t,e){var i=t.alternate;return i===null?(i=di(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function wa(t,e,i,n,r,s){var o=2;if(n=t,typeof t=="function")Rc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xr:return Yn(i.children,r,s,e);case Ku:o=8,r|=8;break;case bh:return t=di(12,i,e,r|2),t.elementType=bh,t.lanes=s,t;case Ih:return t=di(13,i,e,r),t.elementType=Ih,t.lanes=s,t;case Ph:return t=di(19,i,e,r),t.elementType=Ph,t.lanes=s,t;case Eg:return yl(i,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wg:o=10;break e;case _g:o=9;break e;case Qu:o=11;break e;case Zu:o=14;break e;case on:o=16,n=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=di(o,i,e,r),e.elementType=t,e.type=n,e.lanes=s,e}function Yn(t,e,i,n){return t=di(7,t,n,e),t.lanes=i,t}function yl(t,e,i,n){return t=di(22,t,n,e),t.elementType=Eg,t.lanes=i,t.stateNode={isHidden:!1},t}function mh(t,e,i){return t=di(6,t,null,e),t.lanes=i,t}function yh(t,e,i){return e=di(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ex(t,e,i,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Dc(t,e,i,n,r,s,o,l,f){return t=new Ex(t,e,i,l,f),e===1?(e=1,s===!0&&(e|=8)):e=0,s=di(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(s),t}function Tx(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}function py(t){if(!t)return Cn;t=t._reactInternals;e:{if(or(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ti(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var i=t.type;if(ti(i))return pm(t,i,e)}return e}function fy(t,e,i,n,r,s,o,l,f){return t=Dc(i,n,!0,t,r,s,o,l,f),t.context=py(null),i=t.current,n=qt(),r=wn(i),s=Hi(n,r),s.callback=e??null,vn(i,s,r),t.current.lanes=r,vo(t,r,n),ii(t,n),t}function vl(t,e,i,n){var r=e.current,s=qt(),o=wn(r);return i=py(i),e.context===null?e.context=i:e.pendingContext=i,e=Hi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=vn(r,e,o),t!==null&&(Si(t,r,o,s),fa(t,r,o)),o}function Ya(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ef(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function Lc(t,e){ef(t,e),(t=t.alternate)&&ef(t,e)}function Sx(){return null}var gy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oc(t){this._internalRoot=t}xl.prototype.render=Oc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));vl(t,e,null,null)};xl.prototype.unmount=Oc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nr(function(){vl(null,t,null,null)}),e[Gi]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=$g();t={blockedOn:null,target:t,priority:e};for(var i=0;i<ln.length&&e!==0&&e<ln[i].priority;i++);ln.splice(i,0,t),i===0&&qg(t)}};function Nc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tf(){}function Cx(t,e,i,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var S=Ya(o);s.call(S)}}var o=fy(e,n,t,0,null,!1,!1,"",tf);return t._reactRootContainer=o,t[Gi]=o.current,eo(t.nodeType===8?t.parentNode:t),nr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof n=="function"){var l=n;n=function(){var S=Ya(f);l.call(S)}}var f=Dc(t,0,!1,null,null,!1,!1,"",tf);return t._reactRootContainer=f,t[Gi]=f.current,eo(t.nodeType===8?t.parentNode:t),nr(function(){vl(e,f,i,n)}),f}function _l(t,e,i,n,r){var s=i._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var f=Ya(o);l.call(f)}}vl(e,o,t,r)}else o=Cx(i,e,t,r,n);return Ya(o)}Wg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=bs(e.pendingLanes);i!==0&&(tc(e,i|1),ii(e,ft()),!(Xe&6)&&($r=ft()+500,Dn()))}break;case 13:nr(function(){var n=$i(t,1);if(n!==null){var r=qt();Si(n,t,1,r)}}),Lc(t,1)}};ic=function(t){if(t.tag===13){var e=$i(t,134217728);if(e!==null){var i=qt();Si(e,t,134217728,i)}Lc(t,134217728)}};Gg=function(t){if(t.tag===13){var e=wn(t),i=$i(t,e);if(i!==null){var n=qt();Si(i,t,e,n)}Lc(t,e)}};$g=function(){return Qe};Xg=function(t,e){var i=Qe;try{return Qe=t,e()}finally{Qe=i}};Fh=function(t,e,i){switch(e){case"input":if(Dh(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var r=cl(n);if(!r)throw Error(ke(90));Sg(n),Dh(n,r)}}}break;case"textarea":Ag(t,i);break;case"select":e=i.value,e!=null&&Pr(t,!!i.multiple,e,!1)}};Dg=Ic;Lg=nr;var Ax={usingClientEntryPoint:!1,Events:[wo,Tr,cl,Mg,Rg,Ic]},Cs={findFiberByHostInstance:Wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kx={bundleType:Cs.bundleType,version:Cs.version,rendererPackageName:Cs.rendererPackageName,rendererConfig:Cs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vg(t),t===null?null:t.stateNode},findFiberByHostInstance:Cs.findFiberByHostInstance||Sx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ia.isDisabled&&ia.supportsFiber)try{al=ia.inject(kx),Ri=ia}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ax;li.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nc(e))throw Error(ke(200));return Tx(t,e,null,i)};li.createRoot=function(t,e){if(!Nc(t))throw Error(ke(299));var i=!1,n="",r=gy;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Dc(t,1,!1,null,null,i,!1,n,r),t[Gi]=e.current,eo(t.nodeType===8?t.parentNode:t),new Oc(e)};li.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=Vg(e),t=t===null?null:t.stateNode,t};li.flushSync=function(t){return nr(t)};li.hydrate=function(t,e,i){if(!wl(e))throw Error(ke(200));return _l(null,t,e,!0,i)};li.hydrateRoot=function(t,e,i){if(!Nc(t))throw Error(ke(405));var n=i!=null&&i.hydratedSources||null,r=!1,s="",o=gy;if(i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onRecoverableError!==void 0&&(o=i.onRecoverableError)),e=fy(e,null,t,1,i??null,r,!1,s,o),t[Gi]=e.current,eo(t),n)for(t=0;t<n.length;t++)i=n[t],r=i._getVersion,r=r(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,r]:e.mutableSourceEagerHydrationData.push(i,r);return new xl(e)};li.render=function(t,e,i){if(!wl(e))throw Error(ke(200));return _l(null,t,e,!1,i)};li.unmountComponentAtNode=function(t){if(!wl(t))throw Error(ke(40));return t._reactRootContainer?(nr(function(){_l(null,null,t,!1,function(){t._reactRootContainer=null,t[Gi]=null})}),!0):!1};li.unstable_batchedUpdates=Ic;li.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!wl(i))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return _l(t,e,i,!1,n)};li.version="18.3.1-next-f1338f8080-20240426";function my(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(my)}catch(t){console.error(t)}}my(),mg.exports=li;var bx=mg.exports,yy,nf=bx;yy=nf.createRoot,nf.hydrateRoot;var vy={exports:{}};(function(t,e){(function(i,n){t.exports=n(Ii)})(typeof self<"u"?self:ng,function(i){return function(n){function r(o){if(s[o])return s[o].exports;var l=s[o]={i:o,l:!1,exports:{}};return n[o].call(l.exports,l,l.exports,r),l.l=!0,l.exports}var s={};return r.m=n,r.c=s,r.d=function(o,l,f){r.o(o,l)||Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:f})},r.n=function(o){var l=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(l,"a",l),l},r.o=function(o,l){return Object.prototype.hasOwnProperty.call(o,l)},r.p="",r(r.s=0)}([function(n,r,s){function o(){return o=Object.assign?Object.assign.bind():function(p){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&(p[O]=b[O])}return p},o.apply(this,arguments)}function l(p){return j(p)||z(p)||S(p)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(p,v){if(p){if(typeof p=="string")return F(p,v);var b=Object.prototype.toString.call(p).slice(8,-1);return b==="Object"&&p.constructor&&(b=p.constructor.name),b==="Map"||b==="Set"?Array.from(p):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?F(p,v):void 0}}function z(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)}function j(p){if(Array.isArray(p))return F(p)}function F(p,v){(v==null||v>p.length)&&(v=p.length);for(var b=0,O=new Array(v);b<v;b++)O[b]=p[b];return O}function q(p){"@babel/helpers - typeof";return(q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(p)}Object.defineProperty(r,"__esModule",{value:!0}),s.d(r,"HighchartsReact",function(){return A});var C=s(1),W=s.n(C),G=typeof window<"u"?C.useLayoutEffect:C.useEffect,A=Object(C.memo)(Object(C.forwardRef)(function(p,v){var b=Object(C.useRef)(),O=Object(C.useRef)(),T=Object(C.useRef)(p.constructorType),m=Object(C.useRef)(p.highcharts);return G(function(){function w(){var g=p.highcharts||(typeof window>"u"?"undefined":q(window))==="object"&&window.Highcharts,d=p.constructorType||"chart";g?g[d]?p.options?O.current=g[d](b.current,p.options,p.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(O.current){if(p.allowChartUpdate!==!1)if(p.constructorType!==T.current||p.highcharts!==m.current)T.current=p.constructorType,m.current=p.highcharts,w();else if(!p.immutable&&O.current){var _;(_=O.current).update.apply(_,[p.options].concat(l(p.updateArgs||[!0,!0])))}else w()}else w()},[p.options,p.allowChartUpdate,p.updateArgs,p.containerProps,p.highcharts,p.constructorType]),G(function(){return function(){O.current&&(O.current.destroy(),O.current=null)}},[]),Object(C.useImperativeHandle)(v,function(){return{get chart(){return O.current},container:b}},[]),W.a.createElement("div",o({},p.containerProps,{ref:b}))}));r.default=A},function(n,r){n.exports=i}])})})(vy);var Ix=vy.exports;const Px=rg(Ix);var xy={exports:{}};(function(t){(function(e,i){t.exports?(i.default=i,t.exports=e&&e.document?i(e):i):(e.Highcharts&&e.Highcharts.error(16,!0),e.Highcharts=i(e))})(typeof window<"u"?window:ng,function(e){var i={};function n(r,s,o,l){!r.hasOwnProperty(s)&&(r[s]=l.apply(null,o),e&&typeof CustomEvent=="function"&&e.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:s,module:r[s]}})))}return n(i,"Core/Globals.js",[],function(){var r,s;return(s=r||(r={})).SVG_NS="http://www.w3.org/2000/svg",s.product="Highcharts",s.version="11.4.8",s.win=e!==void 0?e:{},s.doc=s.win.document,s.svg=s.doc&&s.doc.createElementNS&&!!s.doc.createElementNS(s.SVG_NS,"svg").createSVGRect,s.userAgent=s.win.navigator&&s.win.navigator.userAgent||"",s.isChrome=s.win.chrome,s.isFirefox=s.userAgent.indexOf("Firefox")!==-1,s.isMS=/(edge|msie|trident)/i.test(s.userAgent)&&!s.win.opera,s.isSafari=!s.isChrome&&s.userAgent.indexOf("Safari")!==-1,s.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(s.userAgent),s.isWebKit=s.userAgent.indexOf("AppleWebKit")!==-1,s.deg2rad=2*Math.PI/360,s.hasBidiBug=s.isFirefox&&4>parseInt(s.userAgent.split("Firefox/")[1],10),s.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],s.noop=function(){},s.supportsPassiveEvents=function(){let o=!1;if(!s.isMS){let l=Object.defineProperty({},"passive",{get:function(){o=!0}});s.win.addEventListener&&s.win.removeEventListener&&(s.win.addEventListener("testPassive",s.noop,l),s.win.removeEventListener("testPassive",s.noop,l))}return o}(),s.charts=[],s.composed=[],s.dateFormats={},s.seriesTypes={},s.symbolSizes={},s.chartCount=0,r}),n(i,"Core/Utilities.js",[i["Core/Globals.js"]],function(r){let s,{charts:o,doc:l,win:f}=r;function S(c,u,k,P){let R=u?"Highcharts error":"Highcharts warning";c===32&&(c=`${R}: Deprecated member`);let B=G(c),I=B?`${R} #${c}: www.highcharts.com/errors/${c}/`:c.toString();if(P!==void 0){let Y="";B&&(I+="?"),g(P,function(re,V){Y+=`
 - ${V}: ${re}`,B&&(I+=encodeURI(V)+"="+encodeURI(re))}),I+=Y}y(r,"displayError",{chart:k,code:c,message:I,params:P},function(){if(u)throw Error(I);f.console&&S.messages.indexOf(I)===-1&&console.warn(I)}),S.messages.push(I)}function z(c,u){return parseInt(c,u||10)}function j(c){return typeof c=="string"}function F(c){let u=Object.prototype.toString.call(c);return u==="[object Array]"||u==="[object Array Iterator]"}function q(c,u){return!!c&&typeof c=="object"&&(!u||!F(c))}function C(c){return q(c)&&typeof c.nodeType=="number"}function W(c){let u=c&&c.constructor;return!!(q(c,!0)&&!C(c)&&u&&u.name&&u.name!=="Object")}function G(c){return typeof c=="number"&&!isNaN(c)&&c<1/0&&c>-1/0}function A(c){return c!=null}function p(c,u,k){let P,R=j(u)&&!A(k),B=(I,Y)=>{A(I)?c.setAttribute(Y,I):R?(P=c.getAttribute(Y))||Y!=="class"||(P=c.getAttribute(Y+"Name")):c.removeAttribute(Y)};return j(u)?B(k,u):g(u,B),P}function v(c){return F(c)?c:[c]}function b(c,u){let k;for(k in c||(c={}),u)c[k]=u[k];return c}function O(){let c=arguments,u=c.length;for(let k=0;k<u;k++){let P=c[k];if(P!=null)return P}}function T(c,u){b(c.style,u)}function m(c){return Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function w(c,u){return c>1e14?c:parseFloat(c.toPrecision(u||14))}(S||(S={})).messages=[],Math.easeInOutSine=function(c){return-.5*(Math.cos(Math.PI*c)-1)};let _=Array.prototype.find?function(c,u){return c.find(u)}:function(c,u){let k,P=c.length;for(k=0;k<P;k++)if(u(c[k],k))return c[k]};function g(c,u,k){for(let P in c)Object.hasOwnProperty.call(c,P)&&u.call(k||c[P],c[P],P,c)}function d(c,u,k){function P(I,Y){let re=c.removeEventListener;re&&re.call(c,I,Y,!1)}function R(I){let Y,re;c.nodeName&&(u?(Y={})[u]=!0:Y=I,g(Y,function(V,K){if(I[K])for(re=I[K].length;re--;)P(K,I[K][re].fn)}))}let B=typeof c=="function"&&c.prototype||c;if(Object.hasOwnProperty.call(B,"hcEvents")){let I=B.hcEvents;if(u){let Y=I[u]||[];k?(I[u]=Y.filter(function(re){return k!==re.fn}),P(u,k)):(R(I),I[u]=[])}else R(I),delete B.hcEvents}}function y(c,u,k,P){if(k=k||{},l.createEvent&&(c.dispatchEvent||c.fireEvent&&c!==r)){let R=l.createEvent("Events");R.initEvent(u,!0,!0),k=b(R,k),c.dispatchEvent?c.dispatchEvent(k):c.fireEvent(u,k)}else if(c.hcEvents){k.target||b(k,{preventDefault:function(){k.defaultPrevented=!0},target:c,type:u});let R=[],B=c,I=!1;for(;B.hcEvents;)Object.hasOwnProperty.call(B,"hcEvents")&&B.hcEvents[u]&&(R.length&&(I=!0),R.unshift.apply(R,B.hcEvents[u])),B=Object.getPrototypeOf(B);I&&R.sort((Y,re)=>Y.order-re.order),R.forEach(Y=>{Y.fn.call(c,k)===!1&&k.preventDefault()})}P&&!k.defaultPrevented&&P.call(c,k)}g({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(c,u){r[u]=function(k){return S(32,!1,void 0,{[`Highcharts.${u}`]:`use Array.${c}`}),Array.prototype[c].apply(k,[].slice.call(arguments,1))}});let h=function(){let c=Math.random().toString(36).substring(2,9)+"-",u=0;return function(){return"highcharts-"+(s?"":c)+u++}}();return f.jQuery&&(f.jQuery.fn.highcharts=function(){let c=[].slice.call(arguments);if(this[0])return c[0]?(new r[j(c[0])?c.shift():"Chart"](this[0],c[0],c[1]),this):o[p(this[0],"data-highcharts-chart")]}),{addEvent:function(c,u,k,P={}){let R=typeof c=="function"&&c.prototype||c;Object.hasOwnProperty.call(R,"hcEvents")||(R.hcEvents={});let B=R.hcEvents;r.Point&&c instanceof r.Point&&c.series&&c.series.chart&&(c.series.chart.runTrackerClick=!0);let I=c.addEventListener;I&&I.call(c,u,k,!!r.supportsPassiveEvents&&{passive:P.passive===void 0?u.indexOf("touch")!==-1:P.passive,capture:!1}),B[u]||(B[u]=[]);let Y={fn:k,order:typeof P.order=="number"?P.order:1/0};return B[u].push(Y),B[u].sort((re,V)=>re.order-V.order),function(){d(c,u,k)}},arrayMax:function(c){let u=c.length,k=c[0];for(;u--;)c[u]>k&&(k=c[u]);return k},arrayMin:function(c){let u=c.length,k=c[0];for(;u--;)c[u]<k&&(k=c[u]);return k},attr:p,clamp:function(c,u,k){return c>u?c<k?c:k:u},clearTimeout:function(c){A(c)&&clearTimeout(c)},correctFloat:w,createElement:function(c,u,k,P,R){let B=l.createElement(c);return u&&b(B,u),R&&T(B,{padding:"0",border:"none",margin:"0"}),k&&T(B,k),P&&P.appendChild(B),B},crisp:(c,u=0,k)=>{let P=u%2/2,R=k?-1:1;return(Math.round(c*R-P)+P)*R},css:T,defined:A,destroyObjectProperties:function(c,u,k){g(c,function(P,R){P!==u&&(P!=null&&P.destroy)&&P.destroy(),(P!=null&&P.destroy||!k)&&delete c[R]})},diffObjects:function(c,u,k,P){let R={};return function B(I,Y,re,V){let K=k?Y:I;g(I,function(J,ie){if(!V&&P&&P.indexOf(ie)>-1&&Y[ie]){J=v(J),re[ie]=[];for(let ce=0;ce<Math.max(J.length,Y[ie].length);ce++)Y[ie][ce]&&(J[ce]===void 0?re[ie][ce]=Y[ie][ce]:(re[ie][ce]={},B(J[ce],Y[ie][ce],re[ie][ce],V+1)))}else q(J,!0)&&!J.nodeType?(re[ie]=F(J)?[]:{},B(J,Y[ie]||{},re[ie],V+1),Object.keys(re[ie]).length!==0||ie==="colorAxis"&&V===0||delete re[ie]):(I[ie]!==Y[ie]||ie in I&&!(ie in Y))&&ie!=="__proto__"&&ie!=="constructor"&&(re[ie]=K[ie])})}(c,u,R,0),R},discardElement:function(c){c&&c.parentElement&&c.parentElement.removeChild(c)},erase:function(c,u){let k=c.length;for(;k--;)if(c[k]===u){c.splice(k,1);break}},error:S,extend:b,extendClass:function(c,u){let k=function(){};return k.prototype=new c,b(k.prototype,u),k},find:_,fireEvent:y,getClosestDistance:function(c,u){let k,P,R,B=!u;return c.forEach(I=>{if(I.length>1)for(R=I.length-1;R>0;R--)(P=I[R]-I[R-1])<0&&!B?(u==null||u(),u=void 0):P&&(k===void 0||P<k)&&(k=P)}),k},getMagnitude:m,getNestedProperty:function(c,u){let k=c.split(".");for(;k.length&&A(u);){let P=k.shift();if(P===void 0||P==="__proto__")return;if(P==="this"){let B;return q(u)&&(B=u["@this"]),B??u}let R=u[P];if(!A(R)||typeof R=="function"||typeof R.nodeType=="number"||R===f)return;u=R}return u},getStyle:function c(u,k,P){let R;if(k==="width"){let I=Math.min(u.offsetWidth,u.scrollWidth),Y=u.getBoundingClientRect&&u.getBoundingClientRect().width;return Y<I&&Y>=I-1&&(I=Math.floor(Y)),Math.max(0,I-(c(u,"padding-left",!0)||0)-(c(u,"padding-right",!0)||0))}if(k==="height")return Math.max(0,Math.min(u.offsetHeight,u.scrollHeight)-(c(u,"padding-top",!0)||0)-(c(u,"padding-bottom",!0)||0));let B=f.getComputedStyle(u,void 0);return B&&(R=B.getPropertyValue(k),O(P,k!=="opacity")&&(R=z(R))),R},inArray:function(c,u,k){return S(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),u.indexOf(c,k)},insertItem:function(c,u){let k,P=c.options.index,R=u.length;for(k=c.options.isInternal?R:0;k<R+1;k++)if(!u[k]||G(P)&&P<O(u[k].options.index,u[k]._i)||u[k].options.isInternal){u.splice(k,0,c);break}return k},isArray:F,isClass:W,isDOMElement:C,isFunction:function(c){return typeof c=="function"},isNumber:G,isObject:q,isString:j,keys:function(c){return S(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(c)},merge:function(){let c,u=arguments,k={},P=function(B,I){return typeof B!="object"&&(B={}),g(I,function(Y,re){re!=="__proto__"&&re!=="constructor"&&(!q(Y,!0)||W(Y)||C(Y)?B[re]=I[re]:B[re]=P(B[re]||{},Y))}),B};u[0]===!0&&(k=u[1],u=Array.prototype.slice.call(u,2));let R=u.length;for(c=0;c<R;c++)k=P(k,u[c]);return k},normalizeTickInterval:function(c,u,k,P,R){let B,I=c;k=O(k,m(c));let Y=c/k;for(!u&&(u=R?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],P===!1&&(k===1?u=u.filter(function(re){return re%1==0}):k<=.1&&(u=[1/k]))),B=0;B<u.length&&(I=u[B],(!R||!(I*k>=c))&&(R||!(Y<=(u[B]+(u[B+1]||u[B]))/2)));B++);return w(I*k,-Math.round(Math.log(.001)/Math.LN10))},objectEach:g,offset:function(c){let u=l.documentElement,k=c.parentElement||c.parentNode?c.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:k.top+(f.pageYOffset||u.scrollTop)-(u.clientTop||0),left:k.left+(f.pageXOffset||u.scrollLeft)-(u.clientLeft||0),width:k.width,height:k.height}},pad:function(c,u,k){return Array((u||2)+1-String(c).replace("-","").length).join(k||"0")+c},pick:O,pInt:z,pushUnique:function(c,u){return 0>c.indexOf(u)&&!!c.push(u)},relativeLength:function(c,u,k){return/%$/.test(c)?u*parseFloat(c)/100+(k||0):parseFloat(c)},removeEvent:d,replaceNested:function(c,...u){let k,P;do for(P of(k=c,u))c=c.replace(P[0],P[1]);while(c!==k);return c},splat:v,stableSort:function(c,u){let k,P,R=c.length;for(P=0;P<R;P++)c[P].safeI=P;for(c.sort(function(B,I){return(k=u(B,I))===0?B.safeI-I.safeI:k}),P=0;P<R;P++)delete c[P].safeI},syncTimeout:function(c,u,k){return u>0?setTimeout(c,u,k):(c.call(0,k),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:h,useSerialIds:function(c){return s=O(c,s)},wrap:function(c,u,k){let P=c[u];c[u]=function(){let R=arguments,B=this;return k.apply(this,[function(){return P.apply(B,arguments.length?arguments:R)}].concat([].slice.call(arguments)))}}}}),n(i,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),n(i,"Core/Color/Palettes.js",[],function(){return{colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"]}}),n(i,"Core/Time.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s){let{win:o}=r,{defined:l,error:f,extend:S,isNumber:z,isObject:j,merge:F,objectEach:q,pad:C,pick:W,splat:G,timeUnits:A}=s,p=r.isSafari&&o.Intl&&o.Intl.DateTimeFormat.prototype.formatRange,v=r.isSafari&&o.Intl&&!o.Intl.DateTimeFormat.prototype.formatRange;class b{constructor(T){this.options={},this.useUTC=!1,this.variableTimezone=!1,this.Date=o.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(T)}get(T,m){if(this.variableTimezone||this.timezoneOffset){let w=m.getTime(),_=w-this.getTimezoneOffset(m);m.setTime(_);let g=m["getUTC"+T]();return m.setTime(w),g}return this.useUTC?m["getUTC"+T]():m["get"+T]()}set(T,m,w){if(this.variableTimezone||this.timezoneOffset){if(T==="Milliseconds"||T==="Seconds"||T==="Minutes"&&this.getTimezoneOffset(m)%36e5==0)return m["setUTC"+T](w);let _=this.getTimezoneOffset(m),g=m.getTime()-_;m.setTime(g),m["setUTC"+T](w);let d=this.getTimezoneOffset(m);return g=m.getTime()+d,m.setTime(g)}return this.useUTC||p&&T==="FullYear"?m["setUTC"+T](w):m["set"+T](w)}update(T={}){let m=W(T.useUTC,!0);this.options=T=F(!0,this.options,T),this.Date=T.Date||o.Date||Date,this.useUTC=m,this.timezoneOffset=m&&T.timezoneOffset||void 0,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=m&&!!(T.getTimezoneOffset||T.timezone)}makeTime(T,m,w,_,g,d){let y,h,c;return this.useUTC?(y=this.Date.UTC.apply(0,arguments),h=this.getTimezoneOffset(y),y+=h,h!==(c=this.getTimezoneOffset(y))?y+=c-h:h-36e5!==this.getTimezoneOffset(y-36e5)||v||(y-=36e5)):y=new this.Date(T,m,W(w,1),W(_,0),W(g,0),W(d,0)).getTime(),y}timezoneOffsetFunction(){let T=this,m=this.options,w=m.getTimezoneOffset;return this.useUTC?m.timezone?_=>{try{let g=`shortOffset,${m.timezone||""}`,[d,y,h,c,u=0]=(b.formatCache[g]=b.formatCache[g]||Intl.DateTimeFormat("en",{timeZone:m.timezone,timeZoneName:"shortOffset"})).format(_).split(/(GMT|:)/).map(Number),k=-(36e5*(h+u/60));if(z(k))return k}catch{f(34)}return 0}:this.useUTC&&w?_=>6e4*w(_.valueOf()):()=>6e4*(T.timezoneOffset||0):_=>6e4*new Date(_.toString()).getTimezoneOffset()}dateFormat(T,m,w){if(!l(m)||isNaN(m))return r.defaultOptions.lang&&r.defaultOptions.lang.invalidDate||"";T=W(T,"%Y-%m-%d %H:%M:%S");let _=this,g=new this.Date(m),d=this.get("Hours",g),y=this.get("Day",g),h=this.get("Date",g),c=this.get("Month",g),u=this.get("FullYear",g),k=r.defaultOptions.lang,P=k&&k.weekdays,R=k&&k.shortWeekdays;return q(S({a:R?R[y]:P[y].substr(0,3),A:P[y],d:C(h),e:C(h,2," "),w:y,b:k.shortMonths[c],B:k.months[c],m:C(c+1),o:c+1,y:u.toString().substr(2,2),Y:u,H:C(d),k:d,I:C(d%12||12),l:d%12||12,M:C(this.get("Minutes",g)),p:d<12?"AM":"PM",P:d<12?"am":"pm",S:C(this.get("Seconds",g)),L:C(Math.floor(m%1e3),3)},r.dateFormats),function(B,I){for(;T.indexOf("%"+I)!==-1;)T=T.replace("%"+I,typeof B=="function"?B.call(_,m):B)}),w?T.substr(0,1).toUpperCase()+T.substr(1):T}resolveDTLFormat(T){return j(T,!0)?T:{main:(T=G(T))[0],from:T[1],to:T[2]}}getTimeTicks(T,m,w,_){let g,d,y,h,c=this,u=c.Date,k=[],P={},R=new u(m),B=T.unitRange,I=T.count||1;if(_=W(_,1),l(m)){c.set("Milliseconds",R,B>=A.second?0:I*Math.floor(c.get("Milliseconds",R)/I)),B>=A.second&&c.set("Seconds",R,B>=A.minute?0:I*Math.floor(c.get("Seconds",R)/I)),B>=A.minute&&c.set("Minutes",R,B>=A.hour?0:I*Math.floor(c.get("Minutes",R)/I)),B>=A.hour&&c.set("Hours",R,B>=A.day?0:I*Math.floor(c.get("Hours",R)/I)),B>=A.day&&c.set("Date",R,B>=A.month?1:Math.max(1,I*Math.floor(c.get("Date",R)/I))),B>=A.month&&(c.set("Month",R,B>=A.year?0:I*Math.floor(c.get("Month",R)/I)),d=c.get("FullYear",R)),B>=A.year&&(d-=d%I,c.set("FullYear",R,d)),B===A.week&&(h=c.get("Day",R),c.set("Date",R,c.get("Date",R)-h+_+(h<_?-7:0))),d=c.get("FullYear",R);let Y=c.get("Month",R),re=c.get("Date",R),V=c.get("Hours",R);m=R.getTime(),(c.variableTimezone||!c.useUTC)&&l(w)&&(y=w-m>4*A.month||c.getTimezoneOffset(m)!==c.getTimezoneOffset(w));let K=R.getTime();for(g=1;K<w;)k.push(K),B===A.year?K=c.makeTime(d+g*I,0):B===A.month?K=c.makeTime(d,Y+g*I):y&&(B===A.day||B===A.week)?K=c.makeTime(d,Y,re+g*I*(B===A.day?1:7)):y&&B===A.hour&&I>1?K=c.makeTime(d,Y,re,V+g*I):K+=B*I,g++;k.push(K),B<=A.hour&&k.length<1e4&&k.forEach(function(J){J%18e5==0&&c.dateFormat("%H%M%S%L",J)==="000000000"&&(P[J]="day")})}return k.info=S(T,{higherRanks:P,totalRange:B*I}),k}getDateFormat(T,m,w,_){let g=this.dateFormat("%m-%d %H:%M:%S.%L",m),d="01-01 00:00:00.000",y={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond",c=h;for(h in A){if(T===A.week&&+this.dateFormat("%w",m)===w&&g.substr(6)===d.substr(6)){h="week";break}if(A[h]>T){h=c;break}if(y[h]&&g.substr(y[h])!==d.substr(y[h]))break;h!=="week"&&(c=h)}return this.resolveDTLFormat(_[h]).main}}return b.formatCache={},b}),n(i,"Core/Defaults.js",[i["Core/Chart/ChartDefaults.js"],i["Core/Globals.js"],i["Core/Color/Palettes.js"],i["Core/Time.js"],i["Core/Utilities.js"]],function(r,s,o,l,f){let{isTouchDevice:S}=s,{fireEvent:z,merge:j}=f,F={colors:o.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:r,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:C=>Math.sqrt(1-Math.pow(C-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:S?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};F.chart.styledMode=!1;let q=new l(F.time);return{defaultOptions:F,defaultTime:q,getOptions:function(){return F},setOptions:function(C){return z(s,"setOptions",{options:C}),j(!0,F,C),(C.time||C.global)&&(s.time?s.time.update(j(F.global,F.time,C.global,C.time)):s.time=q),F}}}),n(i,"Core/Color/Color.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s){let{isNumber:o,merge:l,pInt:f}=s;class S{static parse(j){return j?new S(j):S.None}constructor(j){let F,q,C,W;this.rgba=[NaN,NaN,NaN,NaN],this.input=j;let G=r.Color;if(G&&G!==S)return new G(j);if(typeof j=="object"&&j.stops!==void 0)this.stops=j.stops.map(A=>new S(A[1]));else if(typeof j=="string"){if(this.input=j=S.names[j.toLowerCase()]||j,j.charAt(0)==="#"){let A=j.length,p=parseInt(j.substr(1),16);A===7?q=[(16711680&p)>>16,(65280&p)>>8,255&p,1]:A===4&&(q=[(3840&p)>>4|(3840&p)>>8,(240&p)>>4|240&p,(15&p)<<4|15&p,1])}if(!q)for(C=S.parsers.length;C--&&!q;)(F=(W=S.parsers[C]).regex.exec(j))&&(q=W.parse(F))}q&&(this.rgba=q)}get(j){let F=this.input,q=this.rgba;if(typeof F=="object"&&this.stops!==void 0){let C=l(F);return C.stops=[].slice.call(C.stops),this.stops.forEach((W,G)=>{C.stops[G]=[C.stops[G][0],W.get(j)]}),C}return q&&o(q[0])?j!=="rgb"&&(j||q[3]!==1)?j==="a"?`${q[3]}`:"rgba("+q.join(",")+")":"rgb("+q[0]+","+q[1]+","+q[2]+")":F}brighten(j){let F=this.rgba;if(this.stops)this.stops.forEach(function(q){q.brighten(j)});else if(o(j)&&j!==0)for(let q=0;q<3;q++)F[q]+=f(255*j),F[q]<0&&(F[q]=0),F[q]>255&&(F[q]=255);return this}setOpacity(j){return this.rgba[3]=j,this}tweenTo(j,F){let q=this.rgba,C=j.rgba;if(!o(q[0])||!o(C[0]))return j.input||"none";let W=C[3]!==1||q[3]!==1;return(W?"rgba(":"rgb(")+Math.round(C[0]+(q[0]-C[0])*(1-F))+","+Math.round(C[1]+(q[1]-C[1])*(1-F))+","+Math.round(C[2]+(q[2]-C[2])*(1-F))+(W?","+(C[3]+(q[3]-C[3])*(1-F)):"")+")"}}return S.names={white:"#ffffff",black:"#000000"},S.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(z){return[f(z[1]),f(z[2]),f(z[3]),parseFloat(z[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(z){return[f(z[1]),f(z[2]),f(z[3]),1]}}],S.None=new S(""),S}),n(i,"Core/Animation/Fx.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s,o){let{parse:l}=r,{win:f}=s,{isNumber:S,objectEach:z}=o;class j{constructor(q,C,W){this.pos=NaN,this.options=C,this.elem=q,this.prop=W}dSetter(){let q=this.paths,C=q&&q[0],W=q&&q[1],G=this.now||0,A=[];if(G!==1&&C&&W)if(C.length===W.length&&G<1)for(let p=0;p<W.length;p++){let v=C[p],b=W[p],O=[];for(let T=0;T<b.length;T++){let m=v[T],w=b[T];S(m)&&S(w)&&!(b[0]==="A"&&(T===4||T===5))?O[T]=m+G*(w-m):O[T]=w}A.push(O)}else A=W;else A=this.toD||[];this.elem.attr("d",A,void 0,!0)}update(){let q=this.elem,C=this.prop,W=this.now,G=this.options.step;this[C+"Setter"]?this[C+"Setter"]():q.attr?q.element&&q.attr(C,W,null,!0):q.style[C]=W+this.unit,G&&G.call(q,W,this)}run(q,C,W){let G=this,A=G.options,p=function(O){return!p.stopped&&G.step(O)},v=f.requestAnimationFrame||function(O){setTimeout(O,13)},b=function(){for(let O=0;O<j.timers.length;O++)j.timers[O]()||j.timers.splice(O--,1);j.timers.length&&v(b)};q!==C||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=q,this.end=C,this.unit=W,this.now=this.start,this.pos=0,p.elem=this.elem,p.prop=this.prop,p()&&j.timers.push(p)===1&&v(b)):(delete A.curAnim[this.prop],A.complete&&Object.keys(A.curAnim).length===0&&A.complete.call(this.elem))}step(q){let C,W,G=+new Date,A=this.options,p=this.elem,v=A.complete,b=A.duration,O=A.curAnim;return p.attr&&!p.element?C=!1:q||G>=b+this.startTime?(this.now=this.end,this.pos=1,this.update(),O[this.prop]=!0,W=!0,z(O,function(T){T!==!0&&(W=!1)}),W&&v&&v.call(p),C=!1):(this.pos=A.easing((G-this.startTime)/b),this.now=this.start+(this.end-this.start)*this.pos,this.update(),C=!0),C}initPath(q,C,W){let G=q.startX,A=q.endX,p=W.slice(),v=q.isArea,b=v?2:1,O=C&&W.length>C.length&&W.hasStackedCliffs,T,m,w,_,g=C&&C.slice();if(!g||O)return[p,p];function d(h,c){for(;h.length<m;){let u=h[0],k=c[m-h.length];if(k&&u[0]==="M"&&(k[0]==="C"?h[0]=["C",u[1],u[2],u[1],u[2],u[1],u[2]]:h[0]=["L",u[1],u[2]]),h.unshift(u),v){let P=h.pop();h.push(h[h.length-1],P)}}}function y(h){for(;h.length<m;){let c=h[Math.floor(h.length/b)-1].slice();if(c[0]==="C"&&(c[1]=c[5],c[2]=c[6]),v){let u=h[Math.floor(h.length/b)].slice();h.splice(h.length/2,0,c,u)}else h.push(c)}}if(G&&A&&A.length){for(w=0;w<G.length;w++){if(G[w]===A[0]){T=w;break}if(G[0]===A[A.length-G.length+w]){T=w,_=!0;break}if(G[G.length-1]===A[A.length-G.length+w]){T=G.length-w;break}}T===void 0&&(g=[])}return g.length&&S(T)&&(m=p.length+T*b,_?(d(g,p),y(p)):(d(p,g),y(g))),[g,p]}fillSetter(){j.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,l(this.start).tweenTo(l(this.end),this.pos),void 0,!0)}}return j.timers=[],j}),n(i,"Core/Animation/AnimationUtilities.js",[i["Core/Animation/Fx.js"],i["Core/Utilities.js"]],function(r,s){let{defined:o,getStyle:l,isArray:f,isNumber:S,isObject:z,merge:j,objectEach:F,pick:q}=s;function C(G){return z(G)?j({duration:500,defer:0},G):{duration:G?500:0,defer:0}}function W(G,A){let p=r.timers.length;for(;p--;)r.timers[p].elem!==G||A&&A!==r.timers[p].prop||(r.timers[p].stopped=!0)}return{animate:function(G,A,p){let v,b="",O,T,m;z(p)||(m=arguments,p={duration:m[2],easing:m[3],complete:m[4]}),S(p.duration)||(p.duration=400),p.easing=typeof p.easing=="function"?p.easing:Math[p.easing]||Math.easeInOutSine,p.curAnim=j(A),F(A,function(w,_){W(G,_),T=new r(G,p,_),O=void 0,_==="d"&&f(A.d)?(T.paths=T.initPath(G,G.pathArray,A.d),T.toD=A.d,v=0,O=1):G.attr?v=G.attr(_):(v=parseFloat(l(G,_))||0,_!=="opacity"&&(b="px")),O||(O=w),typeof O=="string"&&O.match("px")&&(O=O.replace(/px/g,"")),T.run(v,O,b)})},animObject:C,getDeferredAnimation:function(G,A,p){let v=C(A),b=p?[p]:G.series,O=0,T=0;return b.forEach(m=>{let w=C(m.options.animation);O=z(A)&&o(A.defer)?v.defer:Math.max(O,w.duration+w.defer),T=Math.min(v.duration,w.duration)}),G.renderer.forExport&&(O=0),{defer:Math.max(0,O-T),duration:Math.min(O,T)}},setAnimation:function(G,A){A.renderer.globalAnimation=q(G,A.options.chart.animation,!0)},stop:W}}),n(i,"Core/Renderer/HTML/AST.js",[i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s){let{SVG_NS:o,win:l}=r,{attr:f,createElement:S,css:z,error:j,isFunction:F,isString:q,objectEach:C,splat:W}=s,{trustedTypes:G}=l,A=G&&F(G.createPolicy)&&G.createPolicy("highcharts",{createHTML:O=>O}),p=A?A.createHTML(""):"",v=function(){try{return!!new DOMParser().parseFromString(p,"text/html")}catch{return!1}}();class b{static filterUserAttributes(T){return C(T,(m,w)=>{let _=!0;b.allowedAttributes.indexOf(w)===-1&&(_=!1),["background","dynsrc","href","lowsrc","src"].indexOf(w)!==-1&&(_=q(m)&&b.allowedReferences.some(g=>m.indexOf(g)===0)),_||(j(33,!1,void 0,{"Invalid attribute in config":`${w}`}),delete T[w]),q(m)&&T[w]&&(T[w]=m.replace(/</g,"&lt;"))}),T}static parseStyle(T){return T.split(";").reduce((m,w)=>{let _=w.split(":").map(d=>d.trim()),g=_.shift();return g&&_.length&&(m[g.replace(/-([a-z])/g,d=>d[1].toUpperCase())]=_.join(":")),m},{})}static setElementHTML(T,m){T.innerHTML=b.emptyHTML,m&&new b(m).addToDOM(T)}constructor(T){this.nodes=typeof T=="string"?this.parseMarkup(T):T}addToDOM(T){return function m(w,_){let g;return W(w).forEach(function(d){let y,h=d.tagName,c=d.textContent?r.doc.createTextNode(d.textContent):void 0,u=b.bypassHTMLFiltering;if(h)if(h==="#text")y=c;else if(b.allowedTags.indexOf(h)!==-1||u){let k=h==="svg"?o:_.namespaceURI||o,P=r.doc.createElementNS(k,h),R=d.attributes||{};C(d,function(B,I){I!=="tagName"&&I!=="attributes"&&I!=="children"&&I!=="style"&&I!=="textContent"&&(R[I]=B)}),f(P,u?R:b.filterUserAttributes(R)),d.style&&z(P,d.style),c&&P.appendChild(c),m(d.children||[],P),y=P}else j(33,!1,void 0,{"Invalid tagName in config":h});y&&_.appendChild(y),g=y}),g}(this.nodes,T)}parseMarkup(T){let m,w=[];if(T=T.trim().replace(/ style=(["'])/g," data-style=$1"),v)m=new DOMParser().parseFromString(A?A.createHTML(T):T,"text/html");else{let g=S("div");g.innerHTML=T,m={body:g}}let _=(g,d)=>{let y=g.nodeName.toLowerCase(),h={tagName:y};y==="#text"&&(h.textContent=g.textContent||"");let c=g.attributes;if(c){let u={};[].forEach.call(c,k=>{k.name==="data-style"?h.style=b.parseStyle(k.value):u[k.name]=k.value}),h.attributes=u}if(g.childNodes.length){let u=[];[].forEach.call(g.childNodes,k=>{_(k,u)}),u.length&&(h.children=u)}d.push(h)};return[].forEach.call(m.body.childNodes,g=>_(g,w)),w}}return b.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],b.allowedReferences=["https://","http://","mailto:","/","../","./","#"],b.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMorphology","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],b.emptyHTML=p,b.bypassHTMLFiltering=!1,b}),n(i,"Core/Templating.js",[i["Core/Defaults.js"],i["Core/Utilities.js"]],function(r,s){let{defaultOptions:o,defaultTime:l}=r,{extend:f,getNestedProperty:S,isArray:z,isNumber:j,isObject:F,pick:q,pInt:C}=s,W={add:(p,v)=>p+v,divide:(p,v)=>v!==0?p/v:"",eq:(p,v)=>p==v,each:function(p){let v=arguments[arguments.length-1];return!!z(p)&&p.map((b,O)=>G(v.body,f(F(b)?b:{"@this":b},{"@index":O,"@first":O===0,"@last":O===p.length-1}))).join("")},ge:(p,v)=>p>=v,gt:(p,v)=>p>v,if:p=>!!p,le:(p,v)=>p<=v,lt:(p,v)=>p<v,multiply:(p,v)=>p*v,ne:(p,v)=>p!=v,subtract:(p,v)=>p-v,unless:p=>!p};function G(p="",v,b){let O=/\{([\w\:\.\,;\-\/<>%@"'’= #\(\)]+)\}/g,T=/\(([\w\:\.\,;\-\/<>%@"'= ]+)\)/g,m=[],w=/f$/,_=/\.(\d)/,g=o.lang,d=b&&b.time||l,y=b&&b.numberFormatter||A,h=(R="")=>{let B;return R==="true"||R!=="false"&&((B=Number(R)).toString()===R?B:S(R,v))},c,u,k=0,P;for(;(c=O.exec(p))!==null;){let R=T.exec(c[1]);R&&(c=R,P=!0),u&&u.isBlock||(u={ctx:v,expression:c[1],find:c[0],isBlock:c[1].charAt(0)==="#",start:c.index,startInner:c.index+c[0].length,length:c[0].length});let B=c[1].split(" ")[0].replace("#","");W[B]&&(u.isBlock&&B===u.fn&&k++,u.fn||(u.fn=B));let I=c[1]==="else";if(u.isBlock&&u.fn&&(c[1]===`/${u.fn}`||I))if(k)!I&&k--;else{let Y=u.startInner,re=p.substr(Y,c.index-Y);u.body===void 0?(u.body=re,u.startInner=c.index+c[0].length):u.elseBody=re,u.find+=re+c[0],I||(m.push(u),u=void 0)}else u.isBlock||m.push(u);if(R&&!(u!=null&&u.isBlock))break}return m.forEach(R=>{let B,I,{body:Y,elseBody:re,expression:V,fn:K}=R;if(K){let J=[R],ie=V.split(" ");for(I=W[K].length;I--;)J.unshift(h(ie[I+1]));B=W[K].apply(v,J),R.isBlock&&typeof B=="boolean"&&(B=G(B?Y:re,v,b))}else{let J=V.split(":");if(B=h(J.shift()||""),J.length&&typeof B=="number"){let ie=J.join(":");if(w.test(ie)){let ce=parseInt((ie.match(_)||["","-1"])[1],10);B!==null&&(B=y(B,ce,g.decimalPoint,ie.indexOf(",")>-1?g.thousandsSep:""))}else B=d.dateFormat(ie,B)}}p=p.replace(R.find,q(B,""))}),P?G(p,v,b):p}function A(p,v,b,O){let T,m;p=+p||0,v=+v;let w=o.lang,_=(p.toString().split(".")[1]||"").split("e")[0].length,g=p.toString().split("e"),d=v;v===-1?v=Math.min(_,20):j(v)?v&&g[1]&&g[1]<0&&((m=v+ +g[1])>=0?(g[0]=(+g[0]).toExponential(m).split("e")[0],v=m):(g[0]=g[0].split(".")[0]||0,p=v<20?(g[0]*Math.pow(10,g[1])).toFixed(v):0,g[1]=0)):v=2;let y=(Math.abs(g[1]?g[0]:p)+Math.pow(10,-Math.max(v,_)-1)).toFixed(v),h=String(C(y)),c=h.length>3?h.length%3:0;return b=q(b,w.decimalPoint),O=q(O,w.thousandsSep),T=(p<0?"-":"")+(c?h.substr(0,c)+O:""),0>+g[1]&&!d?T="0":T+=h.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+O),v?T+=b+y.slice(-v):+T==0&&(T="0"),g[1]&&+T!=0&&(T+="e"+g[1]),T}return{dateFormat:function(p,v,b){return l.dateFormat(p,v,b)},format:G,helpers:W,numberFormat:A}}),n(i,"Core/Renderer/RendererRegistry.js",[i["Core/Globals.js"]],function(r){var s,o;let l;return(o=s||(s={})).rendererTypes={},o.getRendererType=function(f=l){return o.rendererTypes[f]||o.rendererTypes[l]},o.registerRendererType=function(f,S,z){o.rendererTypes[f]=S,(!l||z)&&(l=f,r.Renderer=S)},s}),n(i,"Core/Renderer/RendererUtilities.js",[i["Core/Utilities.js"]],function(r){var s;let{clamp:o,pick:l,pushUnique:f,stableSort:S}=r;return(s||(s={})).distribute=function z(j,F,q){let C=j,W=C.reducedLen||F,G=(h,c)=>h.target-c.target,A=[],p=j.length,v=[],b=A.push,O,T,m,w=!0,_,g,d=0,y;for(O=p;O--;)d+=j[O].size;if(d>W){for(S(j,(h,c)=>(c.rank||0)-(h.rank||0)),m=(y=j[0].rank===j[j.length-1].rank)?p/2:-1,T=y?m:p-1;m&&d>W;)_=j[O=Math.floor(T)],f(v,O)&&(d-=_.size),T+=m,y&&T>=j.length&&(m/=2,T=m);v.sort((h,c)=>c-h).forEach(h=>b.apply(A,j.splice(h,1)))}for(S(j,G),j=j.map(h=>({size:h.size,targets:[h.target],align:l(h.align,.5)}));w;){for(O=j.length;O--;)_=j[O],g=(Math.min.apply(0,_.targets)+Math.max.apply(0,_.targets))/2,_.pos=o(g-_.size*_.align,0,F-_.size);for(O=j.length,w=!1;O--;)O>0&&j[O-1].pos+j[O-1].size>j[O].pos&&(j[O-1].size+=j[O].size,j[O-1].targets=j[O-1].targets.concat(j[O].targets),j[O-1].align=.5,j[O-1].pos+j[O-1].size>F&&(j[O-1].pos=F-j[O-1].size),j.splice(O,1),w=!0)}return b.apply(C,A),O=0,j.some(h=>{let c=0;return(h.targets||[]).some(()=>(C[O].pos=h.pos+c,q!==void 0&&Math.abs(C[O].pos-C[O].target)>q?(C.slice(0,O+1).forEach(u=>delete u.pos),C.reducedLen=(C.reducedLen||F)-.1*F,C.reducedLen>.1*F&&z(C,F,q),!0):(c+=C[O].size,O++,!1)))}),S(C,G),C},s}),n(i,"Core/Renderer/SVG/SVGElement.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s,o,l){let{animate:f,animObject:S,stop:z}=r,{deg2rad:j,doc:F,svg:q,SVG_NS:C,win:W}=o,{addEvent:G,attr:A,createElement:p,crisp:v,css:b,defined:O,erase:T,extend:m,fireEvent:w,isArray:_,isFunction:g,isObject:d,isString:y,merge:h,objectEach:c,pick:u,pInt:k,pushUnique:P,replaceNested:R,syncTimeout:B,uniqueKey:I}=l;class Y{_defaultGetter(V){let K=u(this[V+"Value"],this[V],this.element?this.element.getAttribute(V):null,0);return/^-?[\d\.]+$/.test(K)&&(K=parseFloat(K)),K}_defaultSetter(V,K,J){J.setAttribute(K,V)}add(V){let K,J=this.renderer,ie=this.element;return V&&(this.parentGroup=V),this.textStr!==void 0&&this.element.nodeName==="text"&&J.buildText(this),this.added=!0,(!V||V.handleZ||this.zIndex)&&(K=this.zIndexSetter()),K||(V?V.element:J.box).appendChild(ie),this.onAdd&&this.onAdd(),this}addClass(V,K){let J=K?"":this.attr("class")||"";return(V=(V||"").split(/ /g).reduce(function(ie,ce){return J.indexOf(ce)===-1&&ie.push(ce),ie},J?[J]:[]).join(" "))!==J&&this.attr("class",V),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(V,K,J,ie=!0){let ce,D,M,U,Z={},x=this.renderer,N=x.alignedObjects,L=!!V;V?(this.alignOptions=V,this.alignByTranslate=K,this.alignTo=J):(V=this.alignOptions||{},K=this.alignByTranslate,J=this.alignTo);let X=!J||y(J)?J||"renderer":void 0;X&&(L&&P(N,this),J=void 0);let $=u(J,x[X],x),te=V.align,oe=V.verticalAlign;return ce=($.x||0)+(V.x||0),D=($.y||0)+(V.y||0),te==="right"?M=1:te==="center"&&(M=2),M&&(ce+=(($.width||0)-(V.width||0))/M),Z[K?"translateX":"x"]=Math.round(ce),oe==="bottom"?U=1:oe==="middle"&&(U=2),U&&(D+=(($.height||0)-(V.height||0))/U),Z[K?"translateY":"y"]=Math.round(D),ie&&(this[this.placed?"animate":"attr"](Z),this.placed=!0),this.alignAttr=Z,this}alignSetter(V){let K={left:"start",center:"middle",right:"end"};K[V]&&(this.alignValue=V,this.element.setAttribute("text-anchor",K[V]))}animate(V,K,J){let ie=S(u(K,this.renderer.globalAnimation,!0)),ce=ie.defer;return F.hidden&&(ie.duration=0),ie.duration!==0?(J&&(ie.complete=J),B(()=>{this.element&&f(this,V,ie)},ce)):(this.attr(V,void 0,J||ie.complete),c(V,function(D,M){ie.step&&ie.step.call(this,D,{prop:M,pos:1,elem:this})},this)),this}applyTextOutline(V){let K=this.element;V.indexOf("contrast")!==-1&&(V=V.replace(/contrast/g,this.renderer.getContrast(K.style.fill)));let J=V.split(" "),ie=J[J.length-1],ce=J[0];if(ce&&ce!=="none"&&o.svg){this.fakeTS=!0,ce=ce.replace(/(^[\d\.]+)(.*?)$/g,function(x,N,L){return 2*Number(N)+L}),this.removeTextOutline();let D=F.createElementNS(C,"tspan");A(D,{class:"highcharts-text-outline",fill:ie,stroke:ie,"stroke-width":ce,"stroke-linejoin":"round"});let M=K.querySelector("textPath")||K;[].forEach.call(M.childNodes,x=>{let N=x.cloneNode(!0);N.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(L=>N.removeAttribute(L)),D.appendChild(N)});let U=0;[].forEach.call(M.querySelectorAll("text tspan"),x=>{U+=Number(x.getAttribute("dy"))});let Z=F.createElementNS(C,"tspan");Z.textContent="​",A(Z,{x:Number(K.getAttribute("x")),dy:-U}),D.appendChild(Z),M.insertBefore(D,M.firstChild)}}attr(V,K,J,ie){let{element:ce}=this,D=Y.symbolCustomAttribs,M,U,Z=this,x;return typeof V=="string"&&K!==void 0&&(M=V,(V={})[M]=K),typeof V=="string"?Z=(this[V+"Getter"]||this._defaultGetter).call(this,V,ce):(c(V,function(N,L){x=!1,ie||z(this,L),this.symbolName&&D.indexOf(L)!==-1&&(U||(this.symbolAttr(V),U=!0),x=!0),this.rotation&&(L==="x"||L==="y")&&(this.doTransform=!0),x||(this[L+"Setter"]||this._defaultSetter).call(this,N,L,ce)},this),this.afterSetters()),J&&J.call(this),Z}clip(V){if(V&&!V.clipPath){let K=I()+"-",J=this.renderer.createElement("clipPath").attr({id:K}).add(this.renderer.defs);m(V,{clipPath:J,id:K,count:0}),V.add(J)}return this.attr("clip-path",V?`url(${this.renderer.url}#${V.id})`:"none")}crisp(V,K){K=Math.round(K||V.strokeWidth||0);let J=V.x||this.x||0,ie=V.y||this.y||0,ce=(V.width||this.width||0)+J,D=(V.height||this.height||0)+ie,M=v(J,K),U=v(ie,K);return m(V,{x:M,y:U,width:v(ce,K)-M,height:v(D,K)-U}),O(V.strokeWidth)&&(V.strokeWidth=K),V}complexColor(V,K,J){let ie=this.renderer,ce,D,M,U,Z,x,N,L,X,$,te=[],oe;w(this.renderer,"complexColor",{args:arguments},function(){if(V.radialGradient?D="radialGradient":V.linearGradient&&(D="linearGradient"),D){if(M=V[D],Z=ie.gradients,x=V.stops,X=J.radialReference,_(M)&&(V[D]=M={x1:M[0],y1:M[1],x2:M[2],y2:M[3],gradientUnits:"userSpaceOnUse"}),D==="radialGradient"&&X&&!O(M.gradientUnits)&&(U=M,M=h(M,ie.getRadialAttr(X,U),{gradientUnits:"userSpaceOnUse"})),c(M,function(le,he){he!=="id"&&te.push(he,le)}),c(x,function(le){te.push(le)}),Z[te=te.join(",")])$=Z[te].attr("id");else{M.id=$=I();let le=Z[te]=ie.createElement(D).attr(M).add(ie.defs);le.radAttr=U,le.stops=[],x.forEach(function(he){he[1].indexOf("rgba")===0?(N=(ce=s.parse(he[1])).get("rgb"),L=ce.get("a")):(N=he[1],L=1);let me=ie.createElement("stop").attr({offset:he[0],"stop-color":N,"stop-opacity":L}).add(le);le.stops.push(me)})}oe="url("+ie.url+"#"+$+")",J.setAttribute(K,oe),J.gradient=te,V.toString=function(){return oe}}})}css(V){let K=this.styles,J={},ie=this.element,ce,D=!K;if(K&&c(V,function(M,U){K&&K[U]!==M&&(J[U]=M,D=!0)}),D){K&&(V=m(K,J)),V.width===null||V.width==="auto"?delete this.textWidth:ie.nodeName.toLowerCase()==="text"&&V.width&&(ce=this.textWidth=k(V.width)),m(this.styles,V),ce&&!q&&this.renderer.forExport&&delete V.width;let M=h(V);ie.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","width"].forEach(U=>M&&delete M[U]),M.color&&(M.fill=M.color)),b(ie,M)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),V.textOutline&&this.applyTextOutline(V.textOutline)),this}dashstyleSetter(V){let K,J=this["stroke-width"];if(J==="inherit"&&(J=1),V=V&&V.toLowerCase()){let ie=V.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(K=ie.length;K--;)ie[K]=""+k(ie[K])*u(J,NaN);V=ie.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",V)}}destroy(){var U;let V=this,K=V.element||{},J=V.renderer,ie=K.ownerSVGElement,ce=K.nodeName==="SPAN"&&V.parentGroup||void 0,D,M;if(K.onclick=K.onmouseout=K.onmouseover=K.onmousemove=K.point=null,z(V),V.clipPath&&ie){let Z=V.clipPath;[].forEach.call(ie.querySelectorAll("[clip-path],[CLIP-PATH]"),function(x){x.getAttribute("clip-path").indexOf(Z.element.id)>-1&&x.removeAttribute("clip-path")}),V.clipPath=Z.destroy()}if(V.connector=(U=V.connector)==null?void 0:U.destroy(),V.stops){for(M=0;M<V.stops.length;M++)V.stops[M].destroy();V.stops.length=0,V.stops=void 0}for(V.safeRemoveChild(K);ce&&ce.div&&ce.div.childNodes.length===0;)D=ce.parentGroup,V.safeRemoveChild(ce.div),delete ce.div,ce=D;V.alignOptions&&T(J.alignedObjects,V),c(V,function(Z,x){V[x]&&V[x].parentGroup===V&&V[x].destroy&&V[x].destroy(),delete V[x]})}dSetter(V,K,J){_(V)&&(typeof V[0]=="string"&&(V=this.renderer.pathToSegments(V)),this.pathArray=V,V=V.reduce((ie,ce,D)=>ce&&ce.join?(D?ie+" ":"")+ce.join(" "):(ce||"").toString(),"")),/(NaN| {2}|^$)/.test(V)&&(V="M 0 0"),this[K]!==V&&(J.setAttribute(K,V),this[K]=V)}fillSetter(V,K,J){typeof V=="string"?J.setAttribute(K,V):V&&this.complexColor(V,K,J)}hrefSetter(V,K,J){J.setAttributeNS("http://www.w3.org/1999/xlink",K,V)}getBBox(V,K){let J,ie,ce,D,{alignValue:M,element:U,renderer:Z,styles:x,textStr:N}=this,{cache:L,cacheKeys:X}=Z,$=U.namespaceURI===this.SVG_NS,te=u(K,this.rotation,0),oe=Z.styledMode?U&&Y.prototype.getStyle.call(U,"font-size"):x.fontSize;if(O(N)&&((D=N.toString()).indexOf("<")===-1&&(D=D.replace(/\d/g,"0")),D+=["",Z.rootFontSize,oe,te,this.textWidth,M,x.textOverflow,x.fontWeight].join(",")),D&&!V&&(J=L[D]),!J||J.polygon){if($||Z.forExport){try{ce=this.fakeTS&&function(he){let me=U.querySelector(".highcharts-text-outline");me&&b(me,{display:he})},g(ce)&&ce("none"),J=U.getBBox?m({},U.getBBox()):{width:U.offsetWidth,height:U.offsetHeight,x:0,y:0},g(ce)&&ce("")}catch{}(!J||J.width<0)&&(J={x:0,y:0,width:0,height:0})}else J=this.htmlGetBBox();ie=J.height,$&&(J.height=ie={"11px,17":14,"13px,20":16}[`${oe||""},${Math.round(ie)}`]||ie),te&&(J=this.getRotatedBox(J,te));let le={bBox:J};w(this,"afterGetBBox",le),J=le.bBox}if(D&&(N===""||J.height>0)){for(;X.length>250;)delete L[X.shift()];L[D]||X.push(D),L[D]=J}return J}getRotatedBox(V,K){let{x:J,y:ie,width:ce,height:D}=V,{alignValue:M,translateY:U,rotationOriginX:Z=0,rotationOriginY:x=0}=this,N={right:1,center:.5}[M||0]||0,L=Number(this.element.getAttribute("y")||0)-(U?0:ie),X=K*j,$=(K-90)*j,te=Math.cos(X),oe=Math.sin(X),le=ce*te,he=ce*oe,me=Math.cos($),fe=Math.sin($),[[ee,Q],[ne,se]]=[Z,x].map(Oe=>[Oe-Oe*te,Oe*oe]),ue=J+N*(ce-le)+ee+se+L*me,pe=ue+le,de=pe-D*me,ge=de-le,ye=ie+L-N*he-Q+ne+L*fe,xe=ye+he,we=xe-D*fe,Ee=we-he,Ce=Math.min(ue,pe,de,ge),Ie=Math.min(ye,xe,we,Ee),Ae=Math.max(ue,pe,de,ge)-Ce,Se=Math.max(ye,xe,we,Ee)-Ie;return{x:Ce,y:Ie,width:Ae,height:Se,polygon:[[ue,ye],[pe,xe],[de,we],[ge,Ee]]}}getStyle(V){return W.getComputedStyle(this.element||this,"").getPropertyValue(V)}hasClass(V){return(""+this.attr("class")).split(" ").indexOf(V)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(V,K){this.onEvents={},this.opacity=1,this.SVG_NS=C,this.element=K==="span"||K==="body"?p(K):F.createElementNS(this.SVG_NS,K),this.renderer=V,this.styles={},w(this,"afterInit")}on(V,K){let{onEvents:J}=this;return J[V]&&J[V](),J[V]=G(this.element,V,K),this}opacitySetter(V,K,J){let ie=Number(Number(V).toFixed(3));this.opacity=ie,J.setAttribute(K,ie)}reAlign(){var V;(V=this.alignOptions)!=null&&V.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(V){return this.attr("class",(""+this.attr("class")).replace(y(V)?RegExp(`(^| )${V}( |$)`):V," ").replace(/ +/g," ").trim())}removeTextOutline(){let V=this.element.querySelector("tspan.highcharts-text-outline");V&&this.safeRemoveChild(V)}safeRemoveChild(V){let K=V.parentNode;K&&K.removeChild(V)}setRadialReference(V){let K=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=V,K&&K.radAttr&&K.animate(this.renderer.getRadialAttr(V,K.radAttr)),this}shadow(V){var ce;let{renderer:K}=this,J=h(((ce=this.parentGroup)==null?void 0:ce.rotation)===90?{offsetX:-1,offsetY:-1}:{},d(V)?V:{}),ie=K.shadowDefinition(J);return this.attr({filter:V?`url(${K.url}#${ie})`:"none"})}show(V=!0){return this.attr({visibility:V?"inherit":"visible"})}"stroke-widthSetter"(V,K,J){this[K]=V,J.setAttribute(K,V)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let V=this.getStyle("stroke-width"),K=0,J;return/px$/.test(V)?K=k(V):V!==""&&(A(J=F.createElementNS(C,"rect"),{width:V,"stroke-width":0}),this.element.parentNode.appendChild(J),K=J.getBBox().width,J.parentNode.removeChild(J)),K}symbolAttr(V){let K=this;Y.symbolCustomAttribs.forEach(function(J){K[J]=u(V[J],K[J])}),K.attr({d:K.renderer.symbols[K.symbolName](K.x,K.y,K.width,K.height,K)})}textSetter(V){V!==this.textStr&&(delete this.textPxLength,this.textStr=V,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(V){let K=this.element,J=K.getElementsByTagName("title")[0]||F.createElementNS(this.SVG_NS,"title");K.insertBefore?K.insertBefore(J,K.firstChild):K.appendChild(J),J.textContent=R(u(V,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let V=this.element;return V.parentNode.appendChild(V),this}translate(V,K){return this.attr({translateX:V,translateY:K})}updateTransform(V="transform"){var L;let{element:K,matrix:J,rotation:ie=0,rotationOriginX:ce,rotationOriginY:D,scaleX:M,scaleY:U,translateX:Z=0,translateY:x=0}=this,N=["translate("+Z+","+x+")"];O(J)&&N.push("matrix("+J.join(",")+")"),ie&&(N.push("rotate("+ie+" "+u(ce,K.getAttribute("x"),0)+" "+u(D,K.getAttribute("y")||0)+")"),((L=this.text)==null?void 0:L.element.tagName)==="SPAN"&&this.text.attr({rotation:ie,rotationOriginX:(ce||0)-this.padding,rotationOriginY:(D||0)-this.padding})),(O(M)||O(U))&&N.push("scale("+u(M,1)+" "+u(U,1)+")"),N.length&&!(this.text||this).textPath&&K.setAttribute(V,N.join(" "))}visibilitySetter(V,K,J){V==="inherit"?J.removeAttribute(K):this[K]!==V&&J.setAttribute(K,V),this[K]=V}xGetter(V){return this.element.nodeName==="circle"&&(V==="x"?V="cx":V==="y"&&(V="cy")),this._defaultGetter(V)}zIndexSetter(V,K){let J=this.renderer,ie=this.parentGroup,ce=(ie||J).element||J.box,D=this.element,M=ce===J.box,U,Z,x,N=!1,L,X=this.added,$;if(O(V)?(D.setAttribute("data-z-index",V),V=+V,this[K]===V&&(X=!1)):O(this[K])&&D.removeAttribute("data-z-index"),this[K]=V,X){for((V=this.zIndex)&&ie&&(ie.handleZ=!0),$=(U=ce.childNodes).length-1;$>=0&&!N;$--)L=!O(x=(Z=U[$]).getAttribute("data-z-index")),Z!==D&&(V<0&&L&&!M&&!$?(ce.insertBefore(D,U[$]),N=!0):(k(x)<=V||L&&(!O(V)||V>=0))&&(ce.insertBefore(D,U[$+1]),N=!0));N||(ce.insertBefore(D,U[M?3:0]),N=!0)}return N}}return Y.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],Y.prototype.strokeSetter=Y.prototype.fillSetter,Y.prototype.yGetter=Y.prototype.xGetter,Y.prototype.matrixSetter=Y.prototype.rotationOriginXSetter=Y.prototype.rotationOriginYSetter=Y.prototype.rotationSetter=Y.prototype.scaleXSetter=Y.prototype.scaleYSetter=Y.prototype.translateXSetter=Y.prototype.translateYSetter=Y.prototype.verticalAlignSetter=function(re,V){this[V]=re,this.doTransform=!0},Y}),n(i,"Core/Renderer/SVG/SVGLabel.js",[i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(r,s){let{defined:o,extend:l,isNumber:f,merge:S,pick:z,removeEvent:j}=s;class F extends r{constructor(C,W,G,A,p,v,b,O,T,m){let w;super(C,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=W,this.x=G,this.y=A,this.anchorX=v,this.anchorY=b,this.baseline=T,this.className=m,this.addClass(m==="button"?"highcharts-no-tooltip":"highcharts-label"),m&&this.addClass("highcharts-"+m),this.text=C.text(void 0,0,0,O).attr({zIndex:1}),typeof p=="string"&&((w=/^url\((.*?)\)$/.test(p))||this.renderer.symbols[p])&&(this.symbolKey=p),this.bBox=F.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=C.styledMode||w,this.deferredAttr={},this.alignFactor=0}alignSetter(C){let W={left:0,center:.5,right:1}[C];W!==this.alignFactor&&(this.alignFactor=W,this.bBox&&f(this.xSetting)&&this.attr({x:this.xSetting}))}anchorXSetter(C,W){this.anchorX=C,this.boxAttr(W,Math.round(C)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(C,W){this.anchorY=C,this.boxAttr(W,C-this.ySetting)}boxAttr(C,W){this.box?this.box.attr(C,W):this.deferredAttr[C]=W}css(C){if(C){let W={};C=S(C),F.textProps.forEach(G=>{C[G]!==void 0&&(W[G]=C[G],delete C[G])}),this.text.css(W),"fontSize"in W||"fontWeight"in W?this.updateTextPadding():("width"in W||"textOverflow"in W)&&this.updateBoxSize()}return r.prototype.css.call(this,C)}destroy(){j(this.element,"mouseenter"),j(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),r.prototype.destroy.call(this)}fillSetter(C,W){C&&(this.needsBox=!0),this.fill=C,this.boxAttr(W,C)}getBBox(C,W){this.textStr&&this.bBox.width===0&&this.bBox.height===0&&this.updateBoxSize();let{padding:G,height:A=0,translateX:p=0,translateY:v=0,width:b=0}=this,O=z(this.paddingLeft,G),T=W??(this.rotation||0),m={width:b,height:A,x:p+this.bBox.x-O,y:v+this.bBox.y-G+this.baselineOffset};return T&&(m=this.getRotatedBox(m,T)),m}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(C){this.heightSetting=C,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:z(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&o(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(C,W){f(C)?C!==this[W]&&(this[W]=C,this.updateTextPadding()):this[W]=void 0}rSetter(C,W){this.boxAttr(W,C)}strokeSetter(C,W){this.stroke=C,this.boxAttr(W,C)}"stroke-widthSetter"(C,W){C&&(this.needsBox=!0),this["stroke-width"]=C,this.boxAttr(W,C)}"text-alignSetter"(C){this.textAlign=C}textSetter(C){C!==void 0&&this.text.attr({text:C}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let C,W=this.text,G={},A=this.padding,p=this.bBox=(!f(this.widthSetting)||!f(this.heightSetting)||this.textAlign)&&o(W.textStr)?W.getBBox(void 0,0):F.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||p.height||0)+2*A;let v=this.renderer.fontMetrics(W);if(this.baselineOffset=A+Math.min((this.text.firstLineMetrics||v).b,p.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-v.h)/2),this.needsBox&&!W.textPath){if(!this.box){let b=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();b.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),b.add(this)}C=this.getCrispAdjust(),G.x=C,G.y=(this.baseline?-this.baselineOffset:0)+C,G.width=Math.round(this.width),G.height=Math.round(this.height),this.box.attr(l(G,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let C=this.text;if(!C.textPath){this.updateBoxSize();let W=this.baseline?0:this.baselineOffset,G=z(this.paddingLeft,this.padding);o(this.widthSetting)&&this.bBox&&(this.textAlign==="center"||this.textAlign==="right")&&(G+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(G!==C.x||W!==C.y)&&(C.attr("x",G),C.hasBoxWidthChanged&&(this.bBox=C.getBBox(!0)),W!==void 0&&C.attr("y",W)),C.x=G,C.y=W}}widthSetter(C){this.widthSetting=f(C)?C:void 0,this.doUpdate=!0}getPaddedWidth(){let C=this.padding,W=z(this.paddingLeft,C),G=z(this.paddingRight,C);return(this.widthSetting||this.bBox.width||0)+W+G}xSetter(C){this.x=C,this.alignFactor&&(C-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(C),this.attr("translateX",this.xSetting)}ySetter(C){this.ySetting=this.y=Math.round(C),this.attr("translateY",this.ySetting)}}return F.emptyBBox={width:0,height:0,x:0,y:0},F.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"],F}),n(i,"Core/Renderer/SVG/Symbols.js",[i["Core/Utilities.js"]],function(r){let{defined:s,isNumber:o,pick:l}=r;function f(j,F,q,C,W){let G=[];if(W){let A=W.start||0,p=l(W.r,q),v=l(W.r,C||q),b=2e-4/(W.borderRadius?1:Math.max(p,1)),O=Math.abs((W.end||0)-A-2*Math.PI)<b,T=(W.end||0)-(O?b:0),m=W.innerR,w=l(W.open,O),_=Math.cos(A),g=Math.sin(A),d=Math.cos(T),y=Math.sin(T),h=l(W.longArc,T-A-Math.PI<b?0:1),c=["A",p,v,0,h,l(W.clockwise,1),j+p*d,F+v*y];c.params={start:A,end:T,cx:j,cy:F},G.push(["M",j+p*_,F+v*g],c),s(m)&&((c=["A",m,m,0,h,s(W.clockwise)?1-W.clockwise:0,j+m*_,F+m*g]).params={start:T,end:A,cx:j,cy:F},G.push(w?["M",j+m*d,F+m*y]:["L",j+m*d,F+m*y],c)),w||G.push(["Z"])}return G}function S(j,F,q,C,W){return W&&W.r?z(j,F,q,C,W):[["M",j,F],["L",j+q,F],["L",j+q,F+C],["L",j,F+C],["Z"]]}function z(j,F,q,C,W){let G=(W==null?void 0:W.r)||0;return[["M",j+G,F],["L",j+q-G,F],["A",G,G,0,0,1,j+q,F+G],["L",j+q,F+C-G],["A",G,G,0,0,1,j+q-G,F+C],["L",j+G,F+C],["A",G,G,0,0,1,j,F+C-G],["L",j,F+G],["A",G,G,0,0,1,j+G,F],["Z"]]}return{arc:f,callout:function(j,F,q,C,W){let G=Math.min(W&&W.r||0,q,C),A=G+6,p=W&&W.anchorX,v=W&&W.anchorY||0,b=z(j,F,q,C,{r:G});if(!o(p)||p<q&&p>0&&v<C&&v>0)return b;if(j+p>q-A)if(v>F+A&&v<F+C-A)b.splice(3,1,["L",j+q,v-6],["L",j+q+6,v],["L",j+q,v+6],["L",j+q,F+C-G]);else if(p<q){let O=v<F+A,T=O?F:F+C;b.splice(O?2:5,0,["L",p,v],["L",j+q-G,T])}else b.splice(3,1,["L",j+q,C/2],["L",p,v],["L",j+q,C/2],["L",j+q,F+C-G]);else if(j+p<A)if(v>F+A&&v<F+C-A)b.splice(7,1,["L",j,v+6],["L",j-6,v],["L",j,v-6],["L",j,F+G]);else if(p>0){let O=v<F+A,T=O?F:F+C;b.splice(O?1:6,0,["L",p,v],["L",j+G,T])}else b.splice(7,1,["L",j,C/2],["L",p,v],["L",j,C/2],["L",j,F+G]);else v>C&&p<q-A?b.splice(5,1,["L",p+6,F+C],["L",p,F+C+6],["L",p-6,F+C],["L",j+G,F+C]):v<0&&p>A&&b.splice(1,1,["L",p-6,F],["L",p,F-6],["L",p+6,F],["L",q-G,F]);return b},circle:function(j,F,q,C){return f(j+q/2,F+C/2,q/2,C/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(j,F,q,C){return[["M",j+q/2,F],["L",j+q,F+C/2],["L",j+q/2,F+C],["L",j,F+C/2],["Z"]]},rect:S,roundedRect:z,square:S,triangle:function(j,F,q,C){return[["M",j+q/2,F],["L",j+q,F+C],["L",j,F+C],["Z"]]},"triangle-down":function(j,F,q,C){return[["M",j,F],["L",j+q,F],["L",j+q/2,F+C],["Z"]]}}}),n(i,"Core/Renderer/SVG/TextBuilder.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s,o){let{doc:l,SVG_NS:f,win:S}=s,{attr:z,extend:j,fireEvent:F,isString:q,objectEach:C,pick:W}=o;return class{constructor(G){let A=G.styles;this.renderer=G.renderer,this.svgElement=G,this.width=G.textWidth,this.textLineHeight=A&&A.lineHeight,this.textOutline=A&&A.textOutline,this.ellipsis=!!(A&&A.textOverflow==="ellipsis"),this.noWrap=!!(A&&A.whiteSpace==="nowrap")}buildSVG(){let G=this.svgElement,A=G.element,p=G.renderer,v=W(G.textStr,"").toString(),b=v.indexOf("<")!==-1,O=A.childNodes,T=!G.added&&p.box,m=[v,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,G.getStyle("font-size"),this.width].join(",");if(m!==G.textCache){G.textCache=m,delete G.actualWidth;for(let w=O.length;w--;)A.removeChild(O[w]);if(b||this.ellipsis||this.width||G.textPath||v.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(v))){if(v!==""){T&&T.appendChild(A);let w=new r(v);this.modifyTree(w.nodes),w.addToDOM(A),this.modifyDOM(),this.ellipsis&&(A.textContent||"").indexOf("…")!==-1&&G.attr("title",this.unescapeEntities(G.textStr||"",["&lt;","&gt;"])),T&&T.removeChild(A)}}else A.appendChild(l.createTextNode(this.unescapeEntities(v)));q(this.textOutline)&&G.applyTextOutline&&G.applyTextOutline(this.textOutline)}}modifyDOM(){let G,A=this.svgElement,p=z(A.element,"x");for(A.firstLineMetrics=void 0;(G=A.element.firstChild)&&/^[\s\u200B]*$/.test(G.textContent||" ");)A.element.removeChild(G);[].forEach.call(A.element.querySelectorAll("tspan.highcharts-br"),(T,m)=>{T.nextSibling&&T.previousSibling&&(m===0&&T.previousSibling.nodeType===1&&(A.firstLineMetrics=A.renderer.fontMetrics(T.previousSibling)),z(T,{dy:this.getLineHeight(T.nextSibling),x:p}))});let v=this.width||0;if(!v)return;let b=(T,m)=>{let w=T.textContent||"",_=w.replace(/([^\^])-/g,"$1- ").split(" "),g=!this.noWrap&&(_.length>1||A.element.childNodes.length>1),d=this.getLineHeight(m),y=0,h=A.actualWidth;if(this.ellipsis)w&&this.truncate(T,w,void 0,0,Math.max(0,v-.8*d),(c,u)=>c.substring(0,u)+"…");else if(g){let c=[],u=[];for(;m.firstChild&&m.firstChild!==T;)u.push(m.firstChild),m.removeChild(m.firstChild);for(;_.length;)_.length&&!this.noWrap&&y>0&&(c.push(T.textContent||""),T.textContent=_.join(" ").replace(/- /g,"-")),this.truncate(T,void 0,_,y===0&&h||0,v,(k,P)=>_.slice(0,P).join(" ").replace(/- /g,"-")),h=A.actualWidth,y++;u.forEach(k=>{m.insertBefore(k,T)}),c.forEach(k=>{m.insertBefore(l.createTextNode(k),T);let P=l.createElementNS(f,"tspan");P.textContent="​",z(P,{dy:d,x:p}),m.insertBefore(P,T)})}},O=T=>{[].slice.call(T.childNodes).forEach(m=>{m.nodeType===S.Node.TEXT_NODE?b(m,T):(m.className.baseVal.indexOf("highcharts-br")!==-1&&(A.actualWidth=0),O(m))})};O(A.element)}getLineHeight(G){let A=G.nodeType===S.Node.TEXT_NODE?G.parentElement:G;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(A||this.svgElement.element).h}modifyTree(G){let A=(p,v)=>{let{attributes:b={},children:O,style:T={},tagName:m}=p,w=this.renderer.styledMode;if(m==="b"||m==="strong"?w?b.class="highcharts-strong":T.fontWeight="bold":(m==="i"||m==="em")&&(w?b.class="highcharts-emphasized":T.fontStyle="italic"),T&&T.color&&(T.fill=T.color),m==="br"){b.class="highcharts-br",p.textContent="​";let _=G[v+1];_&&_.textContent&&(_.textContent=_.textContent.replace(/^ +/gm,""))}else m==="a"&&O&&O.some(_=>_.tagName==="#text")&&(p.children=[{children:O,tagName:"tspan"}]);m!=="#text"&&m!=="a"&&(p.tagName="tspan"),j(p,{attributes:b,style:T}),O&&O.filter(_=>_.tagName!=="#text").forEach(A)};G.forEach(A),F(this.svgElement,"afterModifyTree",{nodes:G})}truncate(G,A,p,v,b,O){let T,m,w=this.svgElement,{rotation:_}=w,g=[],d=p?1:0,y=(A||p||"").length,h=y,c=function(u,k){let P=k||u,R=G.parentNode;if(R&&g[P]===void 0&&R.getSubStringLength)try{g[P]=v+R.getSubStringLength(0,p?P+1:P)}catch{}return g[P]};if(w.rotation=0,v+(m=c(G.textContent.length))>b){for(;d<=y;)h=Math.ceil((d+y)/2),p&&(T=O(p,h)),m=c(h,T&&T.length-1),d===y?d=y+1:m>b?y=h-1:d=h;y===0?G.textContent="":A&&y===A.length-1||(G.textContent=T||O(A||p,h))}p&&p.splice(0,h),w.actualWidth=m,w.rotation=_}unescapeEntities(G,A){return C(this.renderer.escapes,function(p,v){A&&A.indexOf(p)!==-1||(G=G.toString().replace(RegExp(p,"g"),v))}),G}}}),n(i,"Core/Renderer/SVG/SVGRenderer.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Defaults.js"],i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGLabel.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Renderer/SVG/TextBuilder.js"],i["Core/Utilities.js"]],function(r,s,o,l,f,S,z,j,F,q){let C,{defaultOptions:W}=s,{charts:G,deg2rad:A,doc:p,isFirefox:v,isMS:b,isWebKit:O,noop:T,SVG_NS:m,symbolSizes:w,win:_}=l,{addEvent:g,attr:d,createElement:y,crisp:h,css:c,defined:u,destroyObjectProperties:k,extend:P,isArray:R,isNumber:B,isObject:I,isString:Y,merge:re,pick:V,pInt:K,replaceNested:J,uniqueKey:ie}=q;class ce{constructor(M,U,Z,x,N,L,X){let $,te,oe=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),le=oe.element;X||oe.css(this.getStyle(x||{})),M.appendChild(le),d(M,"dir","ltr"),M.innerHTML.indexOf("xmlns")===-1&&d(le,"xmlns",this.SVG_NS),this.box=le,this.boxWrapper=oe,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 11.4.8")),this.defs=this.createElement("defs").add(),this.allowHTML=L,this.forExport=N,this.styledMode=X,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=oe.getStyle("font-size"),this.setSize(U,Z,!1),v&&M.getBoundingClientRect&&(($=function(){c(M,{left:0,top:0}),te=M.getBoundingClientRect(),c(M,{left:Math.ceil(te.left)-te.left+"px",top:Math.ceil(te.top)-te.top+"px"})})(),this.unSubPixelFix=g(_,"resize",$))}definition(M){return new r([M]).addToDOM(this.defs.element)}getReferenceURL(){if((v||O)&&p.getElementsByTagName("base").length){if(!u(C)){let M=ie(),U=new r([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:M},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${M})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(p.body);c(U,{position:"fixed",top:0,left:0,zIndex:9e5});let Z=p.elementFromPoint(6,6);C=(Z&&Z.id)==="hitme",p.body.removeChild(U)}if(C)return J(_.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(M){return this.style=P({fontFamily:"Helvetica, Arial, sans-serif",fontSize:"1rem"},M),this.style}setStyle(M){this.boxWrapper.css(this.getStyle(M))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let M=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),k(this.gradients||{}),this.gradients=null,this.defs=M.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(M){return new this.Element(this,M)}getRadialAttr(M,U){return{cx:M[0]-M[2]/2+(U.cx||0)*M[2],cy:M[1]-M[2]/2+(U.cy||0)*M[2],r:(U.r||0)*M[2]}}shadowDefinition(M){let U=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(M).map(x=>`${x}-${M[x]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),Z=re({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},M);return this.defs.element.querySelector(`#${U}`)||this.definition({tagName:"filter",attributes:{id:U,filterUnits:Z.filterUnits},children:this.getShadowFilterContent(Z)}),U}getShadowFilterContent(M){return[{tagName:"feDropShadow",attributes:{dx:M.offsetX,dy:M.offsetY,"flood-color":M.color,"flood-opacity":Math.min(5*M.opacity,1),stdDeviation:M.width/2}}]}buildText(M){new F(M).buildSVG()}getContrast(M){let U=o.parse(M).rgba.map(x=>{let N=x/255;return N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4)}),Z=.2126*U[0]+.7152*U[1]+.0722*U[2];return 1.05/(Z+.05)>(Z+.05)/.05?"#FFFFFF":"#000000"}button(M,U,Z,x,N={},L,X,$,te,oe){let le=this.label(M,U,Z,te,void 0,void 0,oe,void 0,"button"),he=this.styledMode,me=arguments,fe=0;N=re(W.global.buttonTheme,N),he&&(delete N.fill,delete N.stroke,delete N["stroke-width"]);let ee=N.states||{},Q=N.style||{};delete N.states,delete N.style;let ne=[r.filterUserAttributes(N)],se=[Q];return he||["hover","select","disabled"].forEach((ue,pe)=>{ne.push(re(ne[0],r.filterUserAttributes(me[pe+5]||ee[ue]||{}))),se.push(ne[pe+1].style),delete ne[pe+1].style}),g(le.element,b?"mouseover":"mouseenter",function(){fe!==3&&le.setState(1)}),g(le.element,b?"mouseout":"mouseleave",function(){fe!==3&&le.setState(fe)}),le.setState=(ue=0)=>{if(ue!==1&&(le.state=fe=ue),le.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ue]),!he){le.attr(ne[ue]);let pe=se[ue];I(pe)&&le.css(pe)}},le.attr(ne[0]),!he&&(le.css(P({cursor:"default"},Q)),oe&&le.text.css({pointerEvents:"none"})),le.on("touchstart",ue=>ue.stopPropagation()).on("click",function(ue){fe!==3&&x.call(le,ue)})}crispLine(M,U){let[Z,x]=M;return u(Z[1])&&Z[1]===x[1]&&(Z[1]=x[1]=h(Z[1],U)),u(Z[2])&&Z[2]===x[2]&&(Z[2]=x[2]=h(Z[2],U)),M}path(M){let U=this.styledMode?{}:{fill:"none"};return R(M)?U.d=M:I(M)&&P(U,M),this.createElement("path").attr(U)}circle(M,U,Z){let x=I(M)?M:M===void 0?{}:{x:M,y:U,r:Z},N=this.createElement("circle");return N.xSetter=N.ySetter=function(L,X,$){$.setAttribute("c"+X,L)},N.attr(x)}arc(M,U,Z,x,N,L){let X;I(M)?(U=(X=M).y,Z=X.r,x=X.innerR,N=X.start,L=X.end,M=X.x):X={innerR:x,start:N,end:L};let $=this.symbol("arc",M,U,Z,Z,X);return $.r=Z,$}rect(M,U,Z,x,N,L){let X=I(M)?M:M===void 0?{}:{x:M,y:U,r:N,width:Math.max(Z||0,0),height:Math.max(x||0,0)},$=this.createElement("rect");return this.styledMode||(L!==void 0&&(X["stroke-width"]=L,P(X,$.crisp(X))),X.fill="none"),$.rSetter=function(te,oe,le){$.r=te,d(le,{rx:te,ry:te})},$.rGetter=function(){return $.r||0},$.attr(X)}roundedRect(M){return this.symbol("roundedRect").attr(M)}setSize(M,U,Z){this.width=M,this.height=U,this.boxWrapper.animate({width:M,height:U},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:V(Z,!0)?void 0:0}),this.alignElements()}g(M){let U=this.createElement("g");return M?U.attr({class:"highcharts-"+M}):U}image(M,U,Z,x,N,L){let X={preserveAspectRatio:"none"};B(U)&&(X.x=U),B(Z)&&(X.y=Z),B(x)&&(X.width=x),B(N)&&(X.height=N);let $=this.createElement("image").attr(X),te=function(oe){$.attr({href:M}),L.call($,oe)};if(L){$.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let oe=new _.Image;g(oe,"load",te),oe.src=M,oe.complete&&te({})}else $.attr({href:M});return $}symbol(M,U,Z,x,N,L){let X,$,te,oe,le=this,he=/^url\((.*?)\)$/,me=he.test(M),fe=!me&&(this.symbols[M]?M:"circle"),ee=fe&&this.symbols[fe];if(ee)typeof U=="number"&&($=ee.call(this.symbols,U||0,Z||0,x||0,N||0,L)),X=this.path($),le.styledMode||X.attr("fill","none"),P(X,{symbolName:fe||void 0,x:U,y:Z,width:x,height:N}),L&&P(X,L);else if(me){te=M.match(he)[1];let Q=X=this.image(te);Q.imgwidth=V(L&&L.width,w[te]&&w[te].width),Q.imgheight=V(L&&L.height,w[te]&&w[te].height),oe=ne=>ne.attr({width:ne.width,height:ne.height}),["width","height"].forEach(ne=>{Q[`${ne}Setter`]=function(se,ue){this[ue]=se;let{alignByTranslate:pe,element:de,width:ge,height:ye,imgwidth:xe,imgheight:we}=this,Ee=ue==="width"?xe:we,Ce=1;L&&L.backgroundSize==="within"&&ge&&ye&&xe&&we?(Ce=Math.min(ge/xe,ye/we),d(de,{width:Math.round(xe*Ce),height:Math.round(we*Ce)})):de&&Ee&&de.setAttribute(ue,Ee),!pe&&xe&&we&&this.translate(((ge||0)-xe*Ce)/2,((ye||0)-we*Ce)/2)}}),u(U)&&Q.attr({x:U,y:Z}),Q.isImg=!0,Q.symbolUrl=M,u(Q.imgwidth)&&u(Q.imgheight)?oe(Q):(Q.attr({width:0,height:0}),y("img",{onload:function(){let ne=G[le.chartIndex];this.width===0&&(c(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),w[te]={width:this.width,height:this.height},Q.imgwidth=this.width,Q.imgheight=this.height,Q.element&&oe(Q),this.parentNode&&this.parentNode.removeChild(this),le.imgCount--,le.imgCount||!ne||ne.hasLoaded||ne.onload()},src:te}),this.imgCount++)}return X}clipRect(M,U,Z,x){return this.rect(M,U,Z,x,0)}text(M,U,Z,x){let N={};if(x&&(this.allowHTML||!this.forExport))return this.html(M,U,Z);N.x=Math.round(U||0),Z&&(N.y=Math.round(Z)),u(M)&&(N.text=M);let L=this.createElement("text").attr(N);return x&&(!this.forExport||this.allowHTML)||(L.xSetter=function(X,$,te){let oe=te.getElementsByTagName("tspan"),le=te.getAttribute($);for(let he=0,me;he<oe.length;he++)(me=oe[he]).getAttribute($)===le&&me.setAttribute($,X);te.setAttribute($,X)}),L}fontMetrics(M){let U=K(S.prototype.getStyle.call(M,"font-size")||0),Z=U<24?U+3:Math.round(1.2*U),x=Math.round(.8*Z);return{h:Z,b:x,f:U}}rotCorr(M,U,Z){let x=M;return U&&Z&&(x=Math.max(x*Math.cos(U*A),4)),{x:-M/3*Math.sin(U*A),y:x}}pathToSegments(M){let U=[],Z=[],x={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let N=0;N<M.length;N++)Y(Z[0])&&B(M[N])&&Z.length===x[Z[0].toUpperCase()]&&M.splice(N,0,Z[0].replace("M","L").replace("m","l")),typeof M[N]=="string"&&(Z.length&&U.push(Z.slice(0)),Z.length=0),Z.push(M[N]);return U.push(Z.slice(0)),U}label(M,U,Z,x,N,L,X,$,te){return new z(this,M,U,Z,x,N,L,X,$,te)}alignElements(){this.alignedObjects.forEach(M=>M.align())}}return P(ce.prototype,{Element:S,SVG_NS:m,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:j,draw:T}),f.registerRendererType("svg",ce,!0),ce}),n(i,"Core/Renderer/HTML/HTMLElement.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Globals.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(r,s,o,l){let{composed:f}=s,{attr:S,css:z,createElement:j,defined:F,extend:q,pInt:C,pushUnique:W}=l;function G(b,O,T){var w;let m=((w=this.div)==null?void 0:w.style)||T.style;o.prototype[`${O}Setter`].call(this,b,O,T),m&&(m[O]=b)}let A=(b,O)=>{var T;if(!b.div){let m=S(b.element,"class"),w=b.css,_=j("div",m?{className:m}:void 0,{position:"absolute",left:`${b.translateX||0}px`,top:`${b.translateY||0}px`,...b.styles,display:b.display,opacity:b.opacity,visibility:b.visibility},((T=b.parentGroup)==null?void 0:T.div)||O);b.classSetter=(g,d,y)=>{y.setAttribute("class",g),_.className=g},b.translateXSetter=b.translateYSetter=(g,d)=>{b[d]=g,_.style[d==="translateX"?"left":"top"]=`${g}px`,b.doTransform=!0},b.opacitySetter=b.visibilitySetter=G,b.css=g=>(w.call(b,g),g.cursor&&(_.style.cursor=g.cursor),g.pointerEvents&&(_.style.pointerEvents=g.pointerEvents),b),b.on=function(){return o.prototype.on.apply({element:_,onEvents:b.onEvents},arguments),b},b.div=_}return b.div};class p extends o{static compose(O){W(f,this.compose)&&(O.prototype.html=function(T,m,w){return new p(this,"span").attr({text:T,x:Math.round(m),y:Math.round(w)})})}constructor(O,T){super(O,T),this.css({position:"absolute",...O.styledMode?{}:{fontFamily:O.style.fontFamily,fontSize:O.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(O,T,m){this.xCorr=-O*m,this.yCorr=-T}css(O){let T,{element:m}=this,w=m.tagName==="SPAN"&&O&&"width"in O,_=w&&O.width;return w&&(delete O.width,this.textWidth=C(_)||void 0,T=!0),(O==null?void 0:O.textOverflow)==="ellipsis"&&(O.whiteSpace="nowrap",O.overflow="hidden"),q(this.styles,O),z(m,O),T&&this.updateTransform(),this}htmlGetBBox(){let{element:O}=this;return{x:O.offsetLeft,y:O.offsetTop,width:O.offsetWidth,height:O.offsetHeight}}updateTransform(){var B;if(!this.added){this.alignOnAdd=!0;return}let{element:O,renderer:T,rotation:m,rotationOriginX:w,rotationOriginY:_,styles:g,textAlign:d="left",textWidth:y,translateX:h=0,translateY:c=0,x:u=0,y:k=0}=this,P={left:0,center:.5,right:1}[d],R=g.whiteSpace;if(z(O,{marginLeft:`${h}px`,marginTop:`${c}px`}),O.tagName==="SPAN"){let I=[m,d,O.innerHTML,y,this.textAlign].join(","),Y=-(((B=this.parentGroup)==null?void 0:B.padding)*1)||0,re,V=!1;if(y!==this.oldTextWidth){let D=this.textPxLength?this.textPxLength:(z(O,{width:"",whiteSpace:R||"nowrap"}),O.offsetWidth),M=y||0;(M>this.oldTextWidth||D>M)&&(/[ \-]/.test(O.textContent||O.innerText)||O.style.textOverflow==="ellipsis")&&(z(O,{width:D>M||m?y+"px":"auto",display:"block",whiteSpace:R||"normal"}),this.oldTextWidth=y,V=!0)}this.hasBoxWidthChanged=V,I!==this.cTT&&(re=T.fontMetrics(O).b,F(m)&&(m!==(this.oldRotation||0)||d!==this.oldAlign)&&this.setSpanRotation(m,Y,Y),this.getSpanCorrection(!F(m)&&this.textPxLength||O.offsetWidth,re,P));let{xCorr:K=0,yCorr:J=0}=this,ie=(w??u)-K-u-Y,ce=(_??k)-J-k-Y;z(O,{left:`${u+K}px`,top:`${k+J}px`,transformOrigin:`${ie}px ${ce}px`}),this.cTT=I,this.oldRotation=m,this.oldAlign=d}}setSpanRotation(O,T,m){z(this.element,{transform:`rotate(${O}deg)`,transformOrigin:`${T}% ${m}px`})}add(O){let T,m=this.renderer.box.parentNode,w=[];if(this.parentGroup=O,O&&!(T=O.div)){let _=O;for(;_;)w.push(_),_=_.parentGroup;for(let g of w.reverse())T=A(g,m)}return(T||m).appendChild(this.element),this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(O){O!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,r.setElementHTML(this.element,O??""),this.textStr=O,this.doTransform=!0)}alignSetter(O){this.alignValue=this.textAlign=O,this.doTransform=!0}xSetter(O,T){this[T]=O,this.doTransform=!0}}let v=p.prototype;return v.visibilitySetter=v.opacitySetter=G,v.ySetter=v.rotationSetter=v.rotationOriginXSetter=v.rotationOriginYSetter=v.xSetter,p}),n(i,"Core/Axis/AxisDefaults.js",[],function(){var r,s;return(s=r||(r={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e %b"},week:{main:"%e %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},s.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:o}=this.axis.chart;return o(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},r}),n(i,"Core/Foundation.js",[i["Core/Utilities.js"]],function(r){var s;let{addEvent:o,isFunction:l,objectEach:f,removeEvent:S}=r;return(s||(s={})).registerEventOptions=function(z,j){z.eventOptions=z.eventOptions||{},f(j.events,function(F,q){z.eventOptions[q]!==F&&(z.eventOptions[q]&&(S(z,q,z.eventOptions[q]),delete z.eventOptions[q]),l(F)&&(z.eventOptions[q]=F,o(z,q,F,{order:0})))})},s}),n(i,"Core/Axis/Tick.js",[i["Core/Templating.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s,o){let{deg2rad:l}=s,{clamp:f,correctFloat:S,defined:z,destroyObjectProperties:j,extend:F,fireEvent:q,isNumber:C,merge:W,objectEach:G,pick:A}=o;return class{constructor(p,v,b,O,T){this.isNew=!0,this.isNewLabel=!0,this.axis=p,this.pos=v,this.type=b||"",this.parameters=T||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,q(this,"init"),b||O||this.addLabel()}addLabel(){let p=this,v=p.axis,b=v.options,O=v.chart,T=v.categories,m=v.logarithmic,w=v.names,_=p.pos,g=A(p.options&&p.options.labels,b.labels),d=v.tickPositions,y=_===d[0],h=_===d[d.length-1],c=(!g.step||g.step===1)&&v.tickInterval===1,u=d.info,k=p.label,P,R,B,I=this.parameters.category||(T?A(T[_],w[_],_):_);m&&C(I)&&(I=S(m.lin2log(I))),v.dateTime&&(u?P=(R=O.time.resolveDTLFormat(b.dateTimeLabelFormats[!b.grid&&u.higherRanks[_]||u.unitName])).main:C(I)&&(P=v.dateTime.getXDateFormat(I,b.dateTimeLabelFormats||{}))),p.isFirst=y,p.isLast=h;let Y={axis:v,chart:O,dateTimeLabelFormat:P,isFirst:y,isLast:h,pos:_,tick:p,tickPositionInfo:u,value:I};q(this,"labelFormat",Y);let re=J=>g.formatter?g.formatter.call(J,J):g.format?(J.text=v.defaultLabelFormatter.call(J),r.format(g.format,J,O)):v.defaultLabelFormatter.call(J),V=re.call(Y,Y),K=R&&R.list;K?p.shortenLabel=function(){for(B=0;B<K.length;B++)if(F(Y,{dateTimeLabelFormat:K[B]}),k.attr({text:re.call(Y,Y)}),k.getBBox().width<v.getSlotWidth(p)-2*(g.padding||0))return;k.attr({text:""})}:p.shortenLabel=void 0,c&&v._addedPlotLB&&p.moveLabel(V,g),z(k)||p.movedLabel?k&&k.textStr!==V&&!c&&(!k.textWidth||g.style.width||k.styles.width||k.css({width:null}),k.attr({text:V}),k.textPxLength=k.getBBox().width):(p.label=k=p.createLabel(V,g),p.rotation=0)}createLabel(p,v,b){let O=this.axis,T=O.chart,m=z(p)&&v.enabled?T.renderer.text(p,b==null?void 0:b.x,b==null?void 0:b.y,v.useHTML).add(O.labelGroup):void 0;return m&&(T.styledMode||m.css(W(v.style)),m.textPxLength=m.getBBox().width),m}destroy(){j(this,this.axis)}getPosition(p,v,b,O){let T=this.axis,m=T.chart,w=O&&m.oldChartHeight||m.chartHeight,_={x:p?S(T.translate(v+b,void 0,void 0,O)+T.transB):T.left+T.offset+(T.opposite?(O&&m.oldChartWidth||m.chartWidth)-T.right-T.left:0),y:p?w-T.bottom+T.offset-(T.opposite?T.height:0):S(w-T.translate(v+b,void 0,void 0,O)-T.transB)};return _.y=f(_.y,-1e9,1e9),q(this,"afterGetPosition",{pos:_}),_}getLabelPosition(p,v,b,O,T,m,w,_){let g,d,y=this.axis,h=y.transA,c=y.isLinked&&y.linkedParent?y.linkedParent.reversed:y.reversed,u=y.staggerLines,k=y.tickRotCorr||{x:0,y:0},P=O||y.reserveSpaceDefault?0:-y.labelOffset*(y.labelAlign==="center"?.5:1),R=T.distance,B={};return g=y.side===0?b.rotation?-R:-b.getBBox().height:y.side===2?k.y+R:Math.cos(b.rotation*l)*(k.y-b.getBBox(!1,0).height/2),z(T.y)&&(g=y.side===0&&y.horiz?T.y+g:T.y),p=p+A(T.x,[0,1,0,-1][y.side]*R)+P+k.x-(m&&O?m*h*(c?-1:1):0),v=v+g-(m&&!O?m*h*(c?1:-1):0),u&&(d=w/(_||1)%u,y.opposite&&(d=u-d-1),v+=d*(y.labelOffset/u)),B.x=p,B.y=Math.round(v),q(this,"afterGetLabelPosition",{pos:B,tickmarkOffset:m,index:w}),B}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(p,v,b,O,T=!1,m){return m.crispLine([["M",p,v],["L",p+(T?0:-b),v+(T?b:0)]],O)}handleOverflow(p){let v=this.axis,b=v.options.labels,O=p.x,T=v.chart.chartWidth,m=v.chart.spacing,w=A(v.labelLeft,Math.min(v.pos,m[3])),_=A(v.labelRight,Math.max(v.isRadial?0:v.pos+v.len,T-m[1])),g=this.label,d=this.rotation,y={left:0,center:.5,right:1}[v.labelAlign||g.attr("align")],h=g.getBBox().width,c=v.getSlotWidth(this),u={},k=c,P=1,R,B,I;d||b.overflow!=="justify"?d<0&&O-y*h<w?I=Math.round(O/Math.cos(d*l)-w):d>0&&O+y*h>_&&(I=Math.round((T-O)/Math.cos(d*l))):(R=O-y*h,B=O+(1-y)*h,R<w?k=p.x+k*(1-y)-w:B>_&&(k=_-p.x+k*y,P=-1),(k=Math.min(c,k))<c&&v.labelAlign==="center"&&(p.x+=P*(c-k-y*(c-Math.min(h,k)))),(h>k||v.autoRotation&&(g.styles||{}).width)&&(I=k)),I&&(this.shortenLabel?this.shortenLabel():(u.width=Math.floor(I)+"px",(b.style||{}).textOverflow||(u.textOverflow="ellipsis"),g.css(u)))}moveLabel(p,v){let b=this,O=b.label,T=b.axis,m=!1,w;O&&O.textStr===p?(b.movedLabel=O,m=!0,delete b.label):G(T.ticks,function(_){m||_.isNew||_===b||!_.label||_.label.textStr!==p||(b.movedLabel=_.label,m=!0,_.labelPos=b.movedLabel.xy,delete _.label)}),!m&&(b.labelPos||O)&&(w=b.labelPos||O.xy,b.movedLabel=b.createLabel(p,v,w),b.movedLabel&&b.movedLabel.attr({opacity:0}))}render(p,v,b){let O=this.axis,T=O.horiz,m=this.pos,w=A(this.tickmarkOffset,O.tickmarkOffset),_=this.getPosition(T,m,w,v),g=_.x,d=_.y,y=O.pos,h=y+O.len,c=T?g:d;!O.chart.polar&&this.isNew&&(S(c)<y||c>h)&&(b=0);let u=A(b,this.label&&this.label.newOpacity,1);b=A(b,1),this.isActive=!0,this.renderGridLine(v,b),this.renderMark(_,b),this.renderLabel(_,v,u,p),this.isNew=!1,q(this,"afterRender")}renderGridLine(p,v){let b=this.axis,O=b.options,T={},m=this.pos,w=this.type,_=A(this.tickmarkOffset,b.tickmarkOffset),g=b.chart.renderer,d=this.gridLine,y,h=O.gridLineWidth,c=O.gridLineColor,u=O.gridLineDashStyle;this.type==="minor"&&(h=O.minorGridLineWidth,c=O.minorGridLineColor,u=O.minorGridLineDashStyle),d||(b.chart.styledMode||(T.stroke=c,T["stroke-width"]=h||0,T.dashstyle=u),w||(T.zIndex=1),p&&(v=0),this.gridLine=d=g.path().attr(T).addClass("highcharts-"+(w?w+"-":"")+"grid-line").add(b.gridGroup)),d&&(y=b.getPlotLinePath({value:m+_,lineWidth:d.strokeWidth(),force:"pass",old:p,acrossPanes:!1}))&&d[p||this.isNew?"attr":"animate"]({d:y,opacity:v})}renderMark(p,v){let b=this.axis,O=b.options,T=b.chart.renderer,m=this.type,w=b.tickSize(m?m+"Tick":"tick"),_=p.x,g=p.y,d=A(O[m!=="minor"?"tickWidth":"minorTickWidth"],!m&&b.isXAxis?1:0),y=O[m!=="minor"?"tickColor":"minorTickColor"],h=this.mark,c=!h;w&&(b.opposite&&(w[0]=-w[0]),h||(this.mark=h=T.path().addClass("highcharts-"+(m?m+"-":"")+"tick").add(b.axisGroup),b.chart.styledMode||h.attr({stroke:y,"stroke-width":d})),h[c?"attr":"animate"]({d:this.getMarkPath(_,g,w[0],h.strokeWidth(),b.horiz,T),opacity:v}))}renderLabel(p,v,b,O){let T=this.axis,m=T.horiz,w=T.options,_=this.label,g=w.labels,d=g.step,y=A(this.tickmarkOffset,T.tickmarkOffset),h=p.x,c=p.y,u=!0;_&&C(h)&&(_.xy=p=this.getLabelPosition(h,c,_,m,g,y,O,d),(!this.isFirst||this.isLast||w.showFirstLabel)&&(!this.isLast||this.isFirst||w.showLastLabel)?!m||g.step||g.rotation||v||b===0||this.handleOverflow(p):u=!1,d&&O%d&&(u=!1),u&&C(p.y)?(p.opacity=b,_[this.isNewLabel?"attr":"animate"](p).show(!0),this.isNewLabel=!1):(_.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let p=this.label,v=this.axis;p&&!this.isNew&&(p.animate({opacity:0},void 0,p.destroy),delete this.label),v.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}}}),n(i,"Core/Axis/Axis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/AxisDefaults.js"],i["Core/Color/Color.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Axis/Tick.js"],i["Core/Utilities.js"]],function(r,s,o,l,f,S,z,j){let{animObject:F}=r,{xAxis:q,yAxis:C}=s,{defaultOptions:W}=l,{registerEventOptions:G}=f,{deg2rad:A}=S,{arrayMax:p,arrayMin:v,clamp:b,correctFloat:O,defined:T,destroyObjectProperties:m,erase:w,error:_,extend:g,fireEvent:d,getClosestDistance:y,insertItem:h,isArray:c,isNumber:u,isString:k,merge:P,normalizeTickInterval:R,objectEach:B,pick:I,relativeLength:Y,removeEvent:re,splat:V,syncTimeout:K}=j,J=(ce,D)=>R(D,void 0,void 0,I(ce.options.allowDecimals,D<.5||ce.tickAmount!==void 0),!!ce.tickAmount);g(W,{xAxis:q,yAxis:P(q,C)});class ie{constructor(D,M,U){this.init(D,M,U)}init(D,M,U=this.coll){let Z=U==="xAxis",x=this.isZAxis||(D.inverted?!Z:Z);this.chart=D,this.horiz=x,this.isXAxis=Z,this.coll=U,d(this,"init",{userOptions:M}),this.opposite=I(M.opposite,this.opposite),this.side=I(M.side,this.side,x?this.opposite?0:2:this.opposite?1:3),this.setOptions(M);let N=this.options,L=N.labels;this.type??(this.type=N.type||"linear"),this.uniqueNames??(this.uniqueNames=N.uniqueNames??!0),d(this,"afterSetType"),this.userOptions=M,this.minPixelPadding=0,this.reversed=I(N.reversed,this.reversed),this.visible=N.visible,this.zoomEnabled=N.zoomEnabled,this.hasNames=this.type==="category"||N.categories===!0,this.categories=c(N.categories)&&N.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=T(N.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=N.minRange||N.maxZoom,this.range=N.range,this.offset=N.offset||0,this.max=void 0,this.min=void 0;let X=I(N.crosshair,V(D.options.tooltip.crosshairs)[Z?0:1]);this.crosshair=X===!0?{}:X,D.axes.indexOf(this)===-1&&(Z?D.axes.splice(D.xAxis.length,0,this):D.axes.push(this),h(this,D[this.coll])),D.orderItems(this.coll),this.series=this.series||[],D.inverted&&!this.isZAxis&&Z&&!T(this.reversed)&&(this.reversed=!0),this.labelRotation=u(L.rotation)?L.rotation:void 0,G(this,N),d(this,"afterInit")}setOptions(D){let M=this.horiz?{labels:{autoRotation:[-45],padding:4},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=P(M,W[this.coll],D),d(this,"afterSetOptions",{userOptions:D})}defaultLabelFormatter(){let D=this.axis,{numberFormatter:M}=this.chart,U=u(this.value)?this.value:NaN,Z=D.chart.time,x=D.categories,N=this.dateTimeLabelFormat,L=W.lang,X=L.numericSymbols,$=L.numericSymbolMagnitude||1e3,te=D.logarithmic?Math.abs(U):D.tickInterval,oe=X&&X.length,le,he;if(x)he=`${this.value}`;else if(N)he=Z.dateFormat(N,U);else if(oe&&X&&te>=1e3)for(;oe--&&he===void 0;)te>=(le=Math.pow($,oe+1))&&10*U%le==0&&X[oe]!==null&&U!==0&&(he=M(U/le,-1)+X[oe]);return he===void 0&&(he=Math.abs(U)>=1e4?M(U,-1):M(U,-1,void 0,"")),he}getSeriesExtremes(){let D,M=this;d(this,"getSeriesExtremes",null,function(){M.hasVisibleSeries=!1,M.dataMin=M.dataMax=M.threshold=void 0,M.softThreshold=!M.isXAxis,M.series.forEach(U=>{if(U.reserveSpace()){let Z=U.options,x,N=Z.threshold,L,X;if(M.hasVisibleSeries=!0,M.positiveValuesOnly&&0>=(N||0)&&(N=void 0),M.isXAxis)(x=U.xData)&&x.length&&(x=M.logarithmic?x.filter($=>$>0):x,L=(D=U.getXExtremes(x)).min,X=D.max,u(L)||L instanceof Date||(x=x.filter(u),L=(D=U.getXExtremes(x)).min,X=D.max),x.length&&(M.dataMin=Math.min(I(M.dataMin,L),L),M.dataMax=Math.max(I(M.dataMax,X),X)));else{let $=U.applyExtremes();u($.dataMin)&&(L=$.dataMin,M.dataMin=Math.min(I(M.dataMin,L),L)),u($.dataMax)&&(X=$.dataMax,M.dataMax=Math.max(I(M.dataMax,X),X)),T(N)&&(M.threshold=N),(!Z.softThreshold||M.positiveValuesOnly)&&(M.softThreshold=!1)}}})}),d(this,"afterGetSeriesExtremes")}translate(D,M,U,Z,x,N){var fe;let L=this.linkedParent||this,X=Z&&L.old?L.old.min:L.min;if(!u(X))return NaN;let $=L.minPixelPadding,te=(L.isOrdinal||((fe=L.brokenAxis)==null?void 0:fe.hasBreaks)||L.logarithmic&&x)&&L.lin2val,oe=1,le=0,he=Z&&L.old?L.old.transA:L.transA,me=0;return he||(he=L.transA),U&&(oe*=-1,le=L.len),L.reversed&&(oe*=-1,le-=oe*(L.sector||L.len)),M?(me=(D=D*oe+le-$)/he+X,te&&(me=L.lin2val(me))):(te&&(D=L.val2lin(D)),me=oe*(D-X)*he+le+oe*$+(u(N)?he*N:0),L.isRadial||(me=O(me))),me}toPixels(D,M){return this.translate(D,!1,!this.horiz,void 0,!0)+(M?0:this.pos)}toValue(D,M){return this.translate(D-(M?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(D){let M=this,U=M.chart,Z=M.left,x=M.top,N=D.old,L=D.value,X=D.lineWidth,$=N&&U.oldChartHeight||U.chartHeight,te=N&&U.oldChartWidth||U.chartWidth,oe=M.transB,le=D.translatedValue,he=D.force,me,fe,ee,Q,ne;function se(pe,de,ge){return he!=="pass"&&(pe<de||pe>ge)&&(he?pe=b(pe,de,ge):ne=!0),pe}let ue={value:L,lineWidth:X,old:N,force:he,acrossPanes:D.acrossPanes,translatedValue:le};return d(this,"getPlotLinePath",ue,function(pe){me=ee=(le=b(le=I(le,M.translate(L,void 0,void 0,N)),-1e9,1e9))+oe,fe=Q=$-le-oe,u(le)?M.horiz?(fe=x,Q=$-M.bottom+(M.options.isInternal?0:U.scrollablePixelsY||0),me=ee=se(me,Z,Z+M.width)):(me=Z,ee=te-M.right+(U.scrollablePixelsX||0),fe=Q=se(fe,x,x+M.height)):(ne=!0,he=!1),pe.path=ne&&!he?void 0:U.renderer.crispLine([["M",me,fe],["L",ee,Q]],X||1)}),ue.path}getLinearTickPositions(D,M,U){let Z,x,N,L=O(Math.floor(M/D)*D),X=O(Math.ceil(U/D)*D),$=[];if(O(L+D)===L&&(N=20),this.single)return[M];for(Z=L;Z<=X&&($.push(Z),(Z=O(Z+D,N))!==x);)x=Z;return $}getMinorTickInterval(){let{minorTicks:D,minorTickInterval:M}=this.options;return D===!0?I(M,"auto"):D!==!1?M:void 0}getMinorTickPositions(){let D=this.options,M=this.tickPositions,U=this.minorTickInterval,Z=this.pointRangePadding||0,x=(this.min||0)-Z,N=(this.max||0)+Z,L=N-x,X=[],$;if(L&&L/U<this.len/3){let te=this.logarithmic;if(te)this.paddedTicks.forEach(function(oe,le,he){le&&X.push.apply(X,te.getLogTickPositions(U,he[le-1],he[le],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")X=X.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(U),x,N,D.startOfWeek));else for($=x+(M[0]-x)%U;$<=N&&$!==X[0];$+=U)X.push($)}return X.length!==0&&this.trimTicks(X),X}adjustForMinRange(){let D=this.options,M=this.logarithmic,{max:U,min:Z,minRange:x}=this,N,L,X,$;this.isXAxis&&x===void 0&&!M&&(x=T(D.min)||T(D.max)||T(D.floor)||T(D.ceiling)?null:Math.min(5*(y(this.series.map(te=>{var oe;return(te.xIncrement?(oe=te.xData)==null?void 0:oe.slice(0,2):te.xData)||[]}))||0),this.dataMax-this.dataMin)),u(U)&&u(Z)&&u(x)&&U-Z<x&&(L=this.dataMax-this.dataMin>=x,N=(x-U+Z)/2,X=[Z-N,I(D.min,Z-N)],L&&(X[2]=M?M.log2lin(this.dataMin):this.dataMin),$=[(Z=p(X))+x,I(D.max,Z+x)],L&&($[2]=M?M.log2lin(this.dataMax):this.dataMax),(U=v($))-Z<x&&(X[0]=U-x,X[1]=I(D.min,U-x),Z=p(X))),this.minRange=x,this.min=Z,this.max=U}getClosest(){let D,M;if(this.categories)M=1;else{let U=[];this.series.forEach(function(Z){var N;let x=Z.closestPointRange;((N=Z.xData)==null?void 0:N.length)===1?U.push(Z.xData[0]):!Z.noSharedTooltip&&T(x)&&Z.reserveSpace()&&(M=T(M)?Math.min(M,x):x)}),U.length&&(U.sort((Z,x)=>Z-x),D=y([U]))}return D&&M?Math.min(D,M):D||M}nameToX(D){let M=c(this.options.categories),U=M?this.categories:this.names,Z=D.options.x,x;return D.series.requireSorting=!1,T(Z)||(Z=this.uniqueNames&&U?M?U.indexOf(D.name):I(U.keys[D.name],-1):D.series.autoIncrement()),Z===-1?!M&&U&&(x=U.length):x=Z,x!==void 0?(this.names[x]=D.name,this.names.keys[D.name]=x):D.x&&(x=D.x),x}updateNames(){let D=this,M=this.names;M.length>0&&(Object.keys(M.keys).forEach(function(U){delete M.keys[U]}),M.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(U=>{U.xIncrement=null,(!U.points||U.isDirtyData)&&(D.max=Math.max(D.max,U.xData.length-1),U.processData(),U.generatePoints()),U.data.forEach(function(Z,x){let N;Z!=null&&Z.options&&Z.name!==void 0&&(N=D.nameToX(Z))!==void 0&&N!==Z.x&&(Z.x=N,U.xData[x]=N)})}))}setAxisTranslation(){let D=this,M=D.max-D.min,U=D.linkedParent,Z=!!D.categories,x=D.isXAxis,N=D.axisPointRange||0,L,X=0,$=0,te,oe=D.transA;(x||Z||N)&&(L=D.getClosest(),U?(X=U.minPointOffset,$=U.pointRangePadding):D.series.forEach(function(le){let he=Z?1:x?I(le.options.pointRange,L,0):D.axisPointRange||0,me=le.options.pointPlacement;if(N=Math.max(N,he),!D.single||Z){let fe=le.is("xrange")?!x:x;X=Math.max(X,fe&&k(me)?0:he/2),$=Math.max($,fe&&me==="on"?0:he)}}),te=D.ordinal&&D.ordinal.slope&&L?D.ordinal.slope/L:1,D.minPointOffset=X*=te,D.pointRangePadding=$*=te,D.pointRange=Math.min(N,D.single&&Z?1:M),x&&L&&(D.closestPointRange=L)),D.translationSlope=D.transA=oe=D.staticScale||D.len/(M+$||1),D.transB=D.horiz?D.left:D.bottom,D.minPixelPadding=oe*X,d(this,"afterSetAxisTranslation")}minFromRange(){let{max:D,min:M}=this;return u(D)&&u(M)&&D-M||void 0}setTickInterval(D){var Ae,Se,Oe,Le;let{categories:M,chart:U,dataMax:Z,dataMin:x,dateTime:N,isXAxis:L,logarithmic:X,options:$,softThreshold:te}=this,oe=u(this.threshold)?this.threshold:void 0,le=this.minRange||0,{ceiling:he,floor:me,linkedTo:fe,softMax:ee,softMin:Q}=$,ne=u(fe)&&((Ae=U[this.coll])==null?void 0:Ae[fe]),se=$.tickPixelInterval,ue=$.maxPadding,pe=$.minPadding,de=0,ge,ye=u($.tickInterval)&&$.tickInterval>=0?$.tickInterval:void 0,xe,we,Ee,Ce;if(N||M||ne||this.getTickAmount(),Ee=I(this.userMin,$.min),Ce=I(this.userMax,$.max),ne?(this.linkedParent=ne,ge=ne.getExtremes(),this.min=I(ge.min,ge.dataMin),this.max=I(ge.max,ge.dataMax),this.type!==ne.type&&_(11,!0,U)):(te&&T(oe)&&u(Z)&&u(x)&&(x>=oe?(xe=oe,pe=0):Z<=oe&&(we=oe,ue=0)),this.min=I(Ee,xe,x),this.max=I(Ce,we,Z)),u(this.max)&&u(this.min)&&(X&&(this.positiveValuesOnly&&!D&&0>=Math.min(this.min,I(x,this.min))&&_(10,!0,U),this.min=O(X.log2lin(this.min),16),this.max=O(X.log2lin(this.max),16)),this.range&&u(x)&&(this.userMin=this.min=Ee=Math.max(x,this.minFromRange()||0),this.userMax=Ce=this.max,this.range=void 0)),d(this,"foundExtremes"),this.adjustForMinRange(),u(this.min)&&u(this.max)){if(!u(this.userMin)&&u(Q)&&Q<this.min&&(this.min=Ee=Q),!u(this.userMax)&&u(ee)&&ee>this.max&&(this.max=Ce=ee),M||this.axisPointRange||(Se=this.stacking)!=null&&Se.usePercentage||ne||!(de=this.max-this.min)||(!T(Ee)&&pe&&(this.min-=de*pe),T(Ce)||!ue||(this.max+=de*ue)),!u(this.userMin)&&u(me)&&(this.min=Math.max(this.min,me)),!u(this.userMax)&&u(he)&&(this.max=Math.min(this.max,he)),te&&u(x)&&u(Z)){let Ne=oe||0;!T(Ee)&&this.min<Ne&&x>=Ne?this.min=$.minRange?Math.min(Ne,this.max-le):Ne:!T(Ce)&&this.max>Ne&&Z<=Ne&&(this.max=$.minRange?Math.max(Ne,this.min+le):Ne)}!U.polar&&this.min>this.max&&(T($.min)?this.max=this.min:T($.max)&&(this.min=this.max)),de=this.max-this.min}if(this.min!==this.max&&u(this.min)&&u(this.max)?ne&&!ye&&se===ne.options.tickPixelInterval?this.tickInterval=ye=ne.tickInterval:this.tickInterval=I(ye,this.tickAmount?de/Math.max(this.tickAmount-1,1):void 0,M?1:de*se/Math.max(this.len,se)):this.tickInterval=1,L&&!D){let Ne=this.min!==((Oe=this.old)==null?void 0:Oe.min)||this.max!==((Le=this.old)==null?void 0:Le.max);this.series.forEach(function(qe){var ze;qe.forceCrop=(ze=qe.forceCropping)==null?void 0:ze.call(qe),qe.processData(Ne)}),d(this,"postProcessData",{hasExtremesChanged:Ne})}this.setAxisTranslation(),d(this,"initialAxisTranslation"),this.pointRange&&!ye&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let Ie=I($.minTickInterval,N&&!this.series.some(Ne=>Ne.noSharedTooltip)?this.closestPointRange:0);!ye&&this.tickInterval<Ie&&(this.tickInterval=Ie),N||X||ye||(this.tickInterval=J(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var te,oe;let D=this.options,M=D.tickPositions,U=D.tickPositioner,Z=this.getMinorTickInterval(),x=!this.isPanning,N=x&&D.startOnTick,L=x&&D.endOnTick,X=[],$;if(this.tickmarkOffset=this.categories&&D.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&T(this.min)&&!this.tickAmount&&(this.min%1==0||D.allowDecimals!==!1),M)X=M.slice();else if(u(this.min)&&u(this.max)){if(!((te=this.ordinal)!=null&&te.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))X=[this.min,this.max],_(19,!1,this.chart);else if(this.dateTime)X=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,D.units),this.min,this.max,D.startOfWeek,(oe=this.ordinal)==null?void 0:oe.positions,this.closestPointRange,!0);else if(this.logarithmic)X=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let le=this.tickInterval,he=le;for(;he<=2*le&&(X=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&X.length>this.tickAmount);)this.tickInterval=J(this,he*=1.1)}X.length>this.len&&(X=[X[0],X[X.length-1]])[0]===X[1]&&(X.length=1),U&&(this.tickPositions=X,($=U.apply(this,[this.min,this.max]))&&(X=$))}this.tickPositions=X,this.minorTickInterval=Z==="auto"&&this.tickInterval?this.tickInterval/D.minorTicksPerMajor:Z,this.paddedTicks=X.slice(0),this.trimTicks(X,N,L),!this.isLinked&&u(this.min)&&u(this.max)&&(this.single&&X.length<2&&!this.categories&&!this.series.some(le=>le.is("heatmap")&&le.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),M||$||this.adjustTickAmount()),d(this,"afterSetTickPositions")}trimTicks(D,M,U){let Z=D[0],x=D[D.length-1],N=!this.isOrdinal&&this.minPointOffset||0;if(d(this,"trimTicks"),!this.isLinked){if(M&&Z!==-1/0)this.min=Z;else for(;this.min-N>D[0];)D.shift();if(U)this.max=x;else for(;this.max+N<D[D.length-1];)D.pop();D.length===0&&T(Z)&&!this.options.tickPositions&&D.push((x+Z)/2)}}alignToOthers(){let D,M=this,U=M.chart,Z=[this],x=M.options,N=U.options.chart,L=this.coll==="yAxis"&&N.alignThresholds,X=[];if(M.thresholdAlignment=void 0,(N.alignTicks!==!1&&x.alignTicks||L)&&x.startOnTick!==!1&&x.endOnTick!==!1&&!M.logarithmic){let $=oe=>{let{horiz:le,options:he}=oe;return[le?he.left:he.top,he.width,he.height,he.pane].join(",")},te=$(this);U[this.coll].forEach(function(oe){let{series:le}=oe;le.length&&le.some(he=>he.visible)&&oe!==M&&$(oe)===te&&(D=!0,Z.push(oe))})}if(D&&L){Z.forEach(te=>{let oe=te.getThresholdAlignment(M);u(oe)&&X.push(oe)});let $=X.length>1?X.reduce((te,oe)=>te+=oe,0)/X.length:void 0;Z.forEach(te=>{te.thresholdAlignment=$})}return D}getThresholdAlignment(D){if((!u(this.dataMin)||this!==D&&this.series.some(M=>M.isDirty||M.isDirtyData))&&this.getSeriesExtremes(),u(this.threshold)){let M=b((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(M=1-M),M}}getTickAmount(){let D=this.options,M=D.tickPixelInterval,U=D.tickAmount;T(D.tickInterval)||U||!(this.len<M)||this.isRadial||this.logarithmic||!D.startOnTick||!D.endOnTick||(U=2),!U&&this.alignToOthers()&&(U=Math.ceil(this.len/M)+1),U<4&&(this.finalTickAmt=U,U=5),this.tickAmount=U}adjustTickAmount(){let D=this,{finalTickAmt:M,max:U,min:Z,options:x,tickPositions:N,tickAmount:L,thresholdAlignment:X}=D,$=N==null?void 0:N.length,te=I(D.threshold,D.softThreshold?0:null),oe,le,he=D.tickInterval,me,fe=()=>N.push(O(N[N.length-1]+he)),ee=()=>N.unshift(O(N[0]-he));if(u(X)&&(me=X<.5?Math.ceil(X*(L-1)):Math.floor(X*(L-1)),x.reversed&&(me=L-1-me)),D.hasData()&&u(Z)&&u(U)){let Q=()=>{D.transA*=($-1)/(L-1),D.min=x.startOnTick?N[0]:Math.min(Z,N[0]),D.max=x.endOnTick?N[N.length-1]:Math.max(U,N[N.length-1])};if(u(me)&&u(D.threshold)){for(;N[me]!==te||N.length!==L||N[0]>Z||N[N.length-1]<U;){for(N.length=0,N.push(D.threshold);N.length<L;)N[me]===void 0||N[me]>D.threshold?ee():fe();if(he>8*D.tickInterval)break;he*=2}Q()}else if($<L){for(;N.length<L;)N.length%2||Z===te?fe():ee();Q()}if(T(M)){for(le=oe=N.length;le--;)(M===3&&le%2==1||M<=2&&le>0&&le<oe-1)&&N.splice(le,1);D.finalTickAmt=void 0}}}setScale(){var N,L;let{coll:D,stacking:M}=this,U=!1,Z=!1;this.series.forEach(X=>{U=U||X.isDirtyData||X.isDirty,Z=Z||X.xAxis&&X.xAxis.isDirty||!1}),this.setAxisSize();let x=this.len!==(this.old&&this.old.len);x||U||Z||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(M&&D==="yAxis"&&M.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),M&&D==="xAxis"&&M.buildStacks(),this.isDirty||(this.isDirty=x||this.min!==((N=this.old)==null?void 0:N.min)||this.max!==((L=this.old)==null?void 0:L.max))):M&&M.cleanStacks(),U&&delete this.allExtremes,d(this,"afterSetScale")}setExtremes(D,M,U=!0,Z,x){this.series.forEach(N=>{delete N.kdTree}),d(this,"setExtremes",x=g(x,{min:D,max:M}),N=>{this.userMin=N.min,this.userMax=N.max,this.eventArgs=N,U&&this.chart.redraw(Z)})}setAxisSize(){let D=this.chart,M=this.options,U=M.offsets||[0,0,0,0],Z=this.horiz,x=this.width=Math.round(Y(I(M.width,D.plotWidth-U[3]+U[1]),D.plotWidth)),N=this.height=Math.round(Y(I(M.height,D.plotHeight-U[0]+U[2]),D.plotHeight)),L=this.top=Math.round(Y(I(M.top,D.plotTop+U[0]),D.plotHeight,D.plotTop)),X=this.left=Math.round(Y(I(M.left,D.plotLeft+U[3]),D.plotWidth,D.plotLeft));this.bottom=D.chartHeight-N-L,this.right=D.chartWidth-x-X,this.len=Math.max(Z?x:N,0),this.pos=Z?X:L}getExtremes(){let D=this.logarithmic;return{min:D?O(D.lin2log(this.min)):this.min,max:D?O(D.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(D){let M=this.logarithmic,U=M?M.lin2log(this.min):this.min,Z=M?M.lin2log(this.max):this.max;return D===null||D===-1/0?D=U:D===1/0?D=Z:U>D?D=U:Z<D&&(D=Z),this.translate(D,0,1,0,1)}autoLabelAlign(D){let M=(I(D,0)-90*this.side+720)%360,U={align:"center"};return d(this,"autoLabelAlign",U,function(Z){M>15&&M<165?Z.align="right":M>195&&M<345&&(Z.align="left")}),U.align}tickSize(D){let M=this.options,U=I(M[D==="tick"?"tickWidth":"minorTickWidth"],D==="tick"&&this.isXAxis&&!this.categories?1:0),Z=M[D==="tick"?"tickLength":"minorTickLength"],x;U&&Z&&(M[D+"Position"]==="inside"&&(Z=-Z),x=[Z,U]);let N={tickSize:x};return d(this,"afterTickSize",N),N.tickSize}labelMetrics(){let D=this.chart.renderer,M=this.ticks,U=M[Object.keys(M)[0]]||{};return this.chart.renderer.fontMetrics(U.label||U.movedLabel||D.box)}unsquish(){let D=this.options.labels,M=D.padding||0,U=this.horiz,Z=this.tickInterval,x=this.len/(((this.categories?1:0)+this.max-this.min)/Z),N=D.rotation,L=O(.8*this.labelMetrics().h),X=Math.max(this.max-this.min,0),$=function(me){let fe=(me+2*M)/(x||1);return(fe=fe>1?Math.ceil(fe):1)*Z>X&&me!==1/0&&x!==1/0&&X&&(fe=Math.ceil(X/Z)),O(fe*Z)},te=Z,oe,le=Number.MAX_VALUE,he;if(U){if(!D.staggerLines&&(u(N)?he=[N]:x<D.autoRotationLimit&&(he=D.autoRotation)),he){let me,fe;for(let ee of he)(ee===N||ee&&ee>=-90&&ee<=90)&&(fe=(me=$(Math.abs(L/Math.sin(A*ee))))+Math.abs(ee/360))<le&&(le=fe,oe=ee,te=me)}}else te=$(.75*L);return this.autoRotation=he,this.labelRotation=I(oe,u(N)?N:0),D.step?Z:te}getSlotWidth(D){let M=this.chart,U=this.horiz,Z=this.options.labels,x=Math.max(this.tickPositions.length-(this.categories?0:1),1),N=M.margin[3];if(D&&u(D.slotWidth))return D.slotWidth;if(U&&Z.step<2)return Z.rotation?0:(this.staggerLines||1)*this.len/x;if(!U){let L=Z.style.width;if(L!==void 0)return parseInt(String(L),10);if(N)return N-M.spacing[3]}return .33*M.chartWidth}renderUnsquish(){let D=this.chart,M=D.renderer,U=this.tickPositions,Z=this.ticks,x=this.options.labels,N=x.style,L=this.horiz,X=this.getSlotWidth(),$=Math.max(1,Math.round(X-(L?2*(x.padding||0):x.distance||0))),te={},oe=this.labelMetrics(),le=N.textOverflow,he,me,fe=0,ee,Q;if(k(x.rotation)||(te.rotation=x.rotation||0),U.forEach(function(ne){let se=Z[ne];se.movedLabel&&se.replaceMovedLabel(),se&&se.label&&se.label.textPxLength>fe&&(fe=se.label.textPxLength)}),this.maxLabelLength=fe,this.autoRotation)fe>$&&fe>oe.h?te.rotation=this.labelRotation:this.labelRotation=0;else if(X&&(he=$,!le))for(me="clip",Q=U.length;!L&&Q--;)(ee=Z[U[Q]].label)&&(ee.styles.textOverflow==="ellipsis"?ee.css({textOverflow:"clip"}):ee.textPxLength>X&&ee.css({width:X+"px"}),ee.getBBox().height>this.len/U.length-(oe.h-oe.f)&&(ee.specificTextOverflow="ellipsis"));te.rotation&&(he=fe>.5*D.chartHeight?.33*D.chartHeight:fe,le||(me="ellipsis")),this.labelAlign=x.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(te.align=this.labelAlign),U.forEach(function(ne){let se=Z[ne],ue=se&&se.label,pe=N.width,de={};ue&&(ue.attr(te),se.shortenLabel?se.shortenLabel():he&&!pe&&N.whiteSpace!=="nowrap"&&(he<ue.textPxLength||ue.element.tagName==="SPAN")?(de.width=he+"px",le||(de.textOverflow=ue.specificTextOverflow||me),ue.css(de)):!ue.styles.width||de.width||pe||ue.css({width:null}),delete ue.specificTextOverflow,se.rotation=te.rotation)},this),this.tickRotCorr=M.rotCorr(oe.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(D){return D.hasData()})||this.options.showEmpty&&T(this.min)&&T(this.max)}addTitle(D){let M,U=this.chart.renderer,Z=this.horiz,x=this.opposite,N=this.options.title,L=this.chart.styledMode;this.axisTitle||((M=N.textAlign)||(M=(Z?{low:"left",middle:"center",high:"right"}:{low:x?"right":"left",middle:"center",high:x?"left":"right"})[N.align]),this.axisTitle=U.text(N.text||"",0,0,N.useHTML).attr({zIndex:7,rotation:N.rotation||0,align:M}).addClass("highcharts-axis-title"),L||this.axisTitle.css(P(N.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),L||N.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[D?"show":"hide"](D)}generateTick(D){let M=this.ticks;M[D]?M[D].addLabel():M[D]=new z(this,D)}createGroups(){let{axisParent:D,chart:M,coll:U,options:Z}=this,x=M.renderer,N=(L,X,$)=>x.g(L).attr({zIndex:$}).addClass(`highcharts-${U.toLowerCase()}${X} `+(this.isRadial?`highcharts-radial-axis${X} `:"")+(Z.className||"")).add(D);this.axisGroup||(this.gridGroup=N("grid","-grid",Z.gridZIndex),this.axisGroup=N("axis","",Z.zIndex),this.labelGroup=N("axis-labels","-labels",Z.labels.zIndex))}getOffset(){let D=this,{chart:M,horiz:U,options:Z,side:x,ticks:N,tickPositions:L,coll:X}=D,$=M.inverted&&!D.isZAxis?[1,0,3,2][x]:x,te=D.hasData(),oe=Z.title,le=Z.labels,he=u(Z.crossing),me=M.axisOffset,fe=M.clipOffset,ee=[-1,1,1,-1][x],Q,ne=0,se,ue=0,pe=0,de,ge;if(D.showAxis=Q=te||Z.showEmpty,D.staggerLines=D.horiz&&le.staggerLines||void 0,D.createGroups(),te||D.isLinked?(L.forEach(function(ye){D.generateTick(ye)}),D.renderUnsquish(),D.reserveSpaceDefault=x===0||x===2||{1:"left",3:"right"}[x]===D.labelAlign,I(le.reserveSpace,!he&&null,D.labelAlign==="center"||null,D.reserveSpaceDefault)&&L.forEach(function(ye){pe=Math.max(N[ye].getLabelSize(),pe)}),D.staggerLines&&(pe*=D.staggerLines),D.labelOffset=pe*(D.opposite?-1:1)):B(N,function(ye,xe){ye.destroy(),delete N[xe]}),oe!=null&&oe.text&&oe.enabled!==!1&&(D.addTitle(Q),Q&&!he&&oe.reserveSpace!==!1&&(D.titleOffset=ne=D.axisTitle.getBBox()[U?"height":"width"],ue=T(se=oe.offset)?0:I(oe.margin,U?5:10))),D.renderLine(),D.offset=ee*I(Z.offset,me[x]?me[x]+(Z.margin||0):0),D.tickRotCorr=D.tickRotCorr||{x:0,y:0},ge=x===0?-D.labelMetrics().h:x===2?D.tickRotCorr.y:0,de=Math.abs(pe)+ue,pe&&(de-=ge,de+=ee*(U?I(le.y,D.tickRotCorr.y+ee*le.distance):I(le.x,ee*le.distance))),D.axisTitleMargin=I(se,de),D.getMaxLabelDimensions&&(D.maxLabelDimensions=D.getMaxLabelDimensions(N,L)),X!=="colorAxis"&&fe){let ye=this.tickSize("tick");me[x]=Math.max(me[x],(D.axisTitleMargin||0)+ne+ee*D.offset,de,L&&L.length&&ye?ye[0]+ee*D.offset:0);let xe=!D.axisLine||Z.offset?0:D.axisLine.strokeWidth()/2;fe[$]=Math.max(fe[$],xe)}d(this,"afterGetOffset")}getLinePath(D){let M=this.chart,U=this.opposite,Z=this.offset,x=this.horiz,N=this.left+(U?this.width:0)+Z,L=M.chartHeight-this.bottom-(U?this.height:0)+Z;return U&&(D*=-1),M.renderer.crispLine([["M",x?this.left:N,x?L:this.top],["L",x?M.chartWidth-this.right:N,x?L:M.chartHeight-this.bottom]],D)}renderLine(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(D){let M=this.horiz,U=this.left,Z=this.top,x=this.len,N=this.options.title,L=M?U:Z,X=this.opposite,$=this.offset,te=N.x,oe=N.y,le=this.chart.renderer.fontMetrics(D),he=D?Math.max(D.getBBox(!1,0).height-le.h-1,0):0,me={low:L+(M?0:x),middle:L+x/2,high:L+(M?x:0)}[N.align],fe=(M?Z+this.height:U)+(M?1:-1)*(X?-1:1)*(this.axisTitleMargin||0)+[-he,he,le.f,-he][this.side],ee={x:M?me+te:fe+(X?this.width:0)+$+te,y:M?fe+oe-(X?this.height:0)+$:me+oe};return d(this,"afterGetTitlePosition",{titlePosition:ee}),ee}renderMinorTick(D,M){let U=this.minorTicks;U[D]||(U[D]=new z(this,D,"minor")),M&&U[D].isNew&&U[D].render(null,!0),U[D].render(null,!1,1)}renderTick(D,M,U){let Z=this.isLinked,x=this.ticks;(!Z||D>=this.min&&D<=this.max||this.grid&&this.grid.isColumn)&&(x[D]||(x[D]=new z(this,D)),U&&x[D].isNew&&x[D].render(M,!0,-1),x[D].render(M))}render(){let D,M,U=this,Z=U.chart,x=U.logarithmic,N=Z.renderer,L=U.options,X=U.isLinked,$=U.tickPositions,te=U.axisTitle,oe=U.ticks,le=U.minorTicks,he=U.alternateBands,me=L.stackLabels,fe=L.alternateGridColor,ee=L.crossing,Q=U.tickmarkOffset,ne=U.axisLine,se=U.showAxis,ue=F(N.globalAnimation);if(U.labelEdge.length=0,U.overlap=!1,[oe,le,he].forEach(function(pe){B(pe,function(de){de.isActive=!1})}),u(ee)){let pe=this.isXAxis?Z.yAxis[0]:Z.xAxis[0],de=[1,-1,-1,1][this.side];if(pe){let ge=pe.toPixels(ee,!0);U.horiz&&(ge=pe.len-ge),U.offset=de*ge}}if(U.hasData()||X){let pe=U.chart.hasRendered&&U.old&&u(U.old.min);U.minorTickInterval&&!U.categories&&U.getMinorTickPositions().forEach(function(de){U.renderMinorTick(de,pe)}),$.length&&($.forEach(function(de,ge){U.renderTick(de,ge,pe)}),Q&&(U.min===0||U.single)&&(oe[-1]||(oe[-1]=new z(U,-1,null,!0)),oe[-1].render(-1))),fe&&$.forEach(function(de,ge){M=$[ge+1]!==void 0?$[ge+1]+Q:U.max-Q,ge%2==0&&de<U.max&&M<=U.max+(Z.polar?-Q:Q)&&(he[de]||(he[de]=new S.PlotLineOrBand(U,{})),D=de+Q,he[de].options={from:x?x.lin2log(D):D,to:x?x.lin2log(M):M,color:fe,className:"highcharts-alternate-grid"},he[de].render(),he[de].isActive=!0)}),U._addedPlotLB||(U._addedPlotLB=!0,(L.plotLines||[]).concat(L.plotBands||[]).forEach(function(de){U.addPlotBandOrLine(de)}))}[oe,le,he].forEach(function(pe){let de=[],ge=ue.duration;B(pe,function(ye,xe){ye.isActive||(ye.render(xe,!1,0),ye.isActive=!1,de.push(xe))}),K(function(){let ye=de.length;for(;ye--;)pe[de[ye]]&&!pe[de[ye]].isActive&&(pe[de[ye]].destroy(),delete pe[de[ye]])},pe!==he&&Z.hasRendered&&ge?ge:0)}),ne&&(ne[ne.isPlaced?"animate":"attr"]({d:this.getLinePath(ne.strokeWidth())}),ne.isPlaced=!0,ne[se?"show":"hide"](se)),te&&se&&(te[te.isNew?"attr":"animate"](U.getTitlePosition(te)),te.isNew=!1),me&&me.enabled&&U.stacking&&U.stacking.renderStackTotals(),U.old={len:U.len,max:U.max,min:U.min,transA:U.transA,userMax:U.userMax,userMin:U.userMin},U.isDirty=!1,d(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(D){D.render()})),this.series.forEach(function(D){D.isDirty=!0})}getKeepProps(){return this.keepProps||ie.keepProps}destroy(D){let M=this,U=M.plotLinesAndBands,Z=this.eventOptions;if(d(this,"destroy",{keepEvents:D}),D||re(M),[M.ticks,M.minorTicks,M.alternateBands].forEach(function(x){m(x)}),U){let x=U.length;for(;x--;)U[x].destroy()}for(let x in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(N){M[N]&&(M[N]=M[N].destroy())}),M.plotLinesAndBandsGroups)M.plotLinesAndBandsGroups[x]=M.plotLinesAndBandsGroups[x].destroy();B(M,function(x,N){M.getKeepProps().indexOf(N)===-1&&delete M[N]}),this.eventOptions=Z}drawCrosshair(D,M){let U=this.crosshair,Z=I(U&&U.snap,!0),x=this.chart,N,L,X,$=this.cross,te;if(d(this,"drawCrosshair",{e:D,point:M}),D||(D=this.cross&&this.cross.e),U&&(T(M)||!Z)!==!1){if(Z?T(M)&&(L=I(this.coll!=="colorAxis"?M.crosshairPos:null,this.isXAxis?M.plotX:this.len-M.plotY)):L=D&&(this.horiz?D.chartX-this.pos:this.len-D.chartY+this.pos),T(L)&&(te={value:M&&(this.isXAxis?M.x:I(M.stackY,M.y)),translatedValue:L},x.polar&&g(te,{isCrosshair:!0,chartX:D&&D.chartX,chartY:D&&D.chartY,point:M}),N=this.getPlotLinePath(te)||null),!T(N)){this.hideCrosshair();return}X=this.categories&&!this.isRadial,$||(this.cross=$=x.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(X?"category ":"thin ")+(U.className||"")).attr({zIndex:I(U.zIndex,2)}).add(),!x.styledMode&&($.attr({stroke:U.color||(X?o.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":I(U.width,1)}).css({"pointer-events":"none"}),U.dashStyle&&$.attr({dashstyle:U.dashStyle}))),$.show().attr({d:N}),X&&!U.width&&$.attr({"stroke-width":this.transA}),this.cross.e=D}else this.hideCrosshair();d(this,"afterDrawCrosshair",{e:D,point:M})}hideCrosshair(){this.cross&&this.cross.hide(),d(this,"afterHideCrosshair")}update(D,M){let U=this.chart;D=P(this.userOptions,D),this.destroy(!0),this.init(U,D),U.isDirtyBox=!0,I(M,!0)&&U.redraw()}remove(D){let M=this.chart,U=this.coll,Z=this.series,x=Z.length;for(;x--;)Z[x]&&Z[x].remove(!1);w(M.axes,this),w(M[U]||[],this),M.orderItems(U),this.destroy(),M.isDirtyBox=!0,I(D,!0)&&M.redraw()}setTitle(D,M){this.update({title:D},M)}setCategories(D,M){this.update({categories:D},M)}}return ie.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"],ie}),n(i,"Core/Axis/DateTimeAxis.js",[i["Core/Utilities.js"]],function(r){var s;let{addEvent:o,getMagnitude:l,normalizeTickInterval:f,timeUnits:S}=r;return function(z){function j(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function F(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new q(this))}z.compose=function(C){return C.keepProps.includes("dateTime")||(C.keepProps.push("dateTime"),C.prototype.getTimeTicks=j,o(C,"afterSetType",F)),C};class q{constructor(W){this.axis=W}normalizeTimeTickInterval(W,G){let A=G||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],p=A[A.length-1],v=S[p[0]],b=p[1],O;for(O=0;O<A.length&&(v=S[(p=A[O])[0]],b=p[1],!A[O+1]||!(W<=(v*b[b.length-1]+S[A[O+1][0]])/2));O++);v===S.year&&W<5*v&&(b=[1,2,5]);let T=f(W/v,b,p[0]==="year"?Math.max(l(W/v),1):1);return{unitRange:v,count:T,unitName:p[0]}}getXDateFormat(W,G){let{axis:A}=this,p=A.chart.time;return A.closestPointRange?p.getDateFormat(A.closestPointRange,W,A.options.startOfWeek,G)||p.resolveDTLFormat(G.year).main:p.resolveDTLFormat(G.day).main}}z.Additions=q}(s||(s={})),s}),n(i,"Core/Axis/LogarithmicAxis.js",[i["Core/Utilities.js"]],function(r){var s;let{addEvent:o,normalizeTickInterval:l,pick:f}=r;return function(S){function z(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new F(this))}function j(){let q=this.logarithmic;q&&(this.lin2val=function(C){return q.lin2log(C)},this.val2lin=function(C){return q.log2lin(C)})}S.compose=function(q){return q.keepProps.includes("logarithmic")||(q.keepProps.push("logarithmic"),o(q,"afterSetType",z),o(q,"afterInit",j)),q};class F{constructor(C){this.axis=C}getLogTickPositions(C,W,G,A){let p=this.axis,v=p.len,b=p.options,O=[];if(A||(this.minorAutoInterval=void 0),C>=.5)C=Math.round(C),O=p.getLinearTickPositions(C,W,G);else if(C>=.08){let T,m,w,_,g,d,y,h=Math.floor(W);for(T=C>.3?[1,2,4]:C>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],m=h;m<G+1&&!y;m++)for(w=0,_=T.length;w<_&&!y;w++)(g=this.log2lin(this.lin2log(m)*T[w]))>W&&(!A||d<=G)&&d!==void 0&&O.push(d),d>G&&(y=!0),d=g}else{let T=this.lin2log(W),m=this.lin2log(G),w=A?p.getMinorTickInterval():b.tickInterval,_=b.tickPixelInterval/(A?5:1),g=A?v/p.tickPositions.length:v;C=l(C=f(w==="auto"?null:w,this.minorAutoInterval,(m-T)*_/(g||1))),O=p.getLinearTickPositions(C,T,m).map(this.log2lin),A||(this.minorAutoInterval=C/5)}return A||(p.tickInterval=C),O}lin2log(C){return Math.pow(10,C)}log2lin(C){return Math.log(C)/Math.LN10}}S.Additions=F}(s||(s={})),s}),n(i,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[i["Core/Utilities.js"]],function(r){var s;let{erase:o,extend:l,isNumber:f}=r;return function(S){let z;function j(p){return this.addPlotBandOrLine(p,"plotBands")}function F(p,v){let b=this.userOptions,O=new z(this,p);if(this.visible&&(O=O.render()),O){if(this._addedPlotLB||(this._addedPlotLB=!0,(b.plotLines||[]).concat(b.plotBands||[]).forEach(T=>{this.addPlotBandOrLine(T)})),v){let T=b[v]||[];T.push(p),b[v]=T}this.plotLinesAndBands.push(O)}return O}function q(p){return this.addPlotBandOrLine(p,"plotLines")}function C(p,v,b){b=b||this.options;let O=this.getPlotLinePath({value:v,force:!0,acrossPanes:b.acrossPanes}),T=[],m=this.horiz,w=!f(this.min)||!f(this.max)||p<this.min&&v<this.min||p>this.max&&v>this.max,_=this.getPlotLinePath({value:p,force:!0,acrossPanes:b.acrossPanes}),g,d=1,y;if(_&&O)for(w&&(y=_.toString()===O.toString(),d=0),g=0;g<_.length;g+=2){let h=_[g],c=_[g+1],u=O[g],k=O[g+1];(h[0]==="M"||h[0]==="L")&&(c[0]==="M"||c[0]==="L")&&(u[0]==="M"||u[0]==="L")&&(k[0]==="M"||k[0]==="L")&&(m&&u[1]===h[1]?(u[1]+=d,k[1]+=d):m||u[2]!==h[2]||(u[2]+=d,k[2]+=d),T.push(["M",h[1],h[2]],["L",c[1],c[2]],["L",k[1],k[2]],["L",u[1],u[2]],["Z"])),T.isFlat=y}return T}function W(p){this.removePlotBandOrLine(p)}function G(p){let v=this.plotLinesAndBands,b=this.options,O=this.userOptions;if(v){let T=v.length;for(;T--;)v[T].id===p&&v[T].destroy();[b.plotLines||[],O.plotLines||[],b.plotBands||[],O.plotBands||[]].forEach(function(m){for(T=m.length;T--;)(m[T]||{}).id===p&&o(m,m[T])})}}function A(p){this.removePlotBandOrLine(p)}S.compose=function(p,v){let b=v.prototype;return b.addPlotBand||(z=p,l(b,{addPlotBand:j,addPlotLine:q,addPlotBandOrLine:F,getPlotBandPath:C,removePlotBand:W,removePlotLine:A,removePlotBandOrLine:G})),v}}(s||(s={})),s}),n(i,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[i["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],i["Core/Utilities.js"]],function(r,s){let{addEvent:o,arrayMax:l,arrayMin:f,defined:S,destroyObjectProperties:z,erase:j,fireEvent:F,merge:q,objectEach:C,pick:W}=s;class G{static compose(p,v){return o(p,"afterInit",function(){this.labelCollectors.push(()=>{var O;let b=[];for(let T of this.axes)for(let{label:m,options:w}of T.plotLinesAndBands)m&&!((O=w==null?void 0:w.label)!=null&&O.allowOverlap)&&b.push(m);return b})}),r.compose(G,v)}constructor(p,v){this.axis=p,this.options=v,this.id=v.id}render(){F(this,"render");let{axis:p,options:v}=this,{horiz:b,logarithmic:O}=p,{color:T,events:m,zIndex:w=0}=v,_={},g=p.chart.renderer,d=v.to,y=v.from,h=v.value,c=v.borderWidth,u=v.label,{label:k,svgElem:P}=this,R=[],B,I=S(y)&&S(d),Y=S(h),re=!P,V={class:"highcharts-plot-"+(I?"band ":"line ")+(v.className||"")},K=I?"bands":"lines";if(!p.chart.styledMode&&(Y?(V.stroke=T||"#999999",V["stroke-width"]=W(v.width,1),v.dashStyle&&(V.dashstyle=v.dashStyle)):I&&(V.fill=T||"#e6e9ff",c&&(V.stroke=v.borderColor,V["stroke-width"]=c))),_.zIndex=w,K+="-"+w,(B=p.plotLinesAndBandsGroups[K])||(p.plotLinesAndBandsGroups[K]=B=g.g("plot-"+K).attr(_).add()),P||(this.svgElem=P=g.path().attr(V).add(B)),S(h))R=p.getPlotLinePath({value:(O==null?void 0:O.log2lin(h))??h,lineWidth:P.strokeWidth(),acrossPanes:v.acrossPanes});else{if(!(S(y)&&S(d)))return;R=p.getPlotBandPath((O==null?void 0:O.log2lin(y))??y,(O==null?void 0:O.log2lin(d))??d,v)}return!this.eventsAdded&&m&&(C(m,(J,ie)=>{P==null||P.on(ie,ce=>{m[ie].apply(this,[ce])})}),this.eventsAdded=!0),(re||!P.d)&&(R!=null&&R.length)?P.attr({d:R}):P&&(R?(P.show(),P.animate({d:R})):P.d&&(P.hide(),k&&(this.label=k=k.destroy()))),u&&(S(u.text)||S(u.formatter))&&(R!=null&&R.length)&&p.width>0&&p.height>0&&!R.isFlat?(u=q({align:b&&I?"center":void 0,x:b?!I&&4:10,verticalAlign:!b&&I?"middle":void 0,y:b?I?16:10:I?6:-4,rotation:b&&!I?90:0,...I?{inside:!0}:{}},u),this.renderLabel(u,R,I,w)):k&&k.hide(),this}renderLabel(p,v,b,O){var u;let T=this.axis,m=T.chart.renderer,w=p.inside,_=this.label;_||(this.label=_=m.text(this.getLabelText(p),0,0,p.useHTML).attr({align:p.textAlign||p.align,rotation:p.rotation,class:"highcharts-plot-"+(b?"band":"line")+"-label "+(p.className||""),zIndex:O}),T.chart.styledMode||_.css(q({fontSize:"0.8em",textOverflow:b&&!w?"":"ellipsis"},p.style)),_.add());let g=v.xBounds||[v[0][1],v[1][1],b?v[2][1]:v[0][1]],d=v.yBounds||[v[0][2],v[1][2],b?v[2][2]:v[0][2]],y=f(g),h=f(d),c=l(g)-y;_.align(p,!1,{x:y,y:h,width:c,height:l(d)-h}),(!_.alignValue||_.alignValue==="left"||S(w))&&_.css({width:(((u=p.style)==null?void 0:u.width)||(b&&w?c:_.rotation===90?T.height-(_.alignAttr.y-T.top):(p.clip?T.width:T.chart.chartWidth)-(_.alignAttr.x-T.left)))+"px"}),_.show(!0)}getLabelText(p){return S(p.formatter)?p.formatter.call(this):p.text}destroy(){j(this.axis.plotLinesAndBands,this),delete this.axis,z(this)}}return G}),n(i,"Core/Tooltip.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Templating.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(r,s,o,l,f,S){var z;let{animObject:j}=r,{format:F}=s,{composed:q,doc:C,isSafari:W}=o,{distribute:G}=l,{addEvent:A,clamp:p,css:v,discardElement:b,extend:O,fireEvent:T,isArray:m,isNumber:w,isString:_,merge:g,pick:d,pushUnique:y,splat:h,syncTimeout:c}=S;class u{constructor(P,R,B){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=P,this.init(P,R),this.pointer=B}bodyFormatter(P){return P.map(function(R){let B=R.series.tooltipOptions;return(B[(R.point.formatPrefix||"point")+"Formatter"]||R.point.tooltipFormatter).call(R.point,B[(R.point.formatPrefix||"point")+"Format"]||"")})}cleanSplit(P){this.chart.series.forEach(function(R){let B=R&&R.tt;B&&(!B.isActive||P?R.tt=B.destroy():B.isActive=!1)})}defaultFormatter(P){let R,B=this.points||h(this);return(R=(R=[P.tooltipFooterHeaderFormatter(B[0])]).concat(P.bodyFormatter(B))).push(P.tooltipFooterHeaderFormatter(B[0],!0)),R}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),b(this.container)),S.clearTimeout(this.hideTimer)}getAnchor(P,R){let B,{chart:I,pointer:Y}=this,re=I.inverted,V=I.plotTop,K=I.plotLeft;if((P=h(P))[0].series&&P[0].series.yAxis&&!P[0].series.yAxis.options.reversedStacks&&(P=P.slice().reverse()),this.followPointer&&R)R.chartX===void 0&&(R=Y.normalize(R)),B=[R.chartX-K,R.chartY-V];else if(P[0].tooltipPos)B=P[0].tooltipPos;else{let J=0,ie=0;P.forEach(function(ce){let D=ce.pos(!0);D&&(J+=D[0],ie+=D[1])}),J/=P.length,ie/=P.length,this.shared&&P.length>1&&R&&(re?J=R.chartX:ie=R.chartY),B=[J-K,ie-V]}return B.map(Math.round)}getClassName(P,R,B){let I=this.options,Y=P.series,re=Y.options;return[I.className,"highcharts-label",B&&"highcharts-tooltip-header",R?"highcharts-tooltip-box":"highcharts-tooltip",!B&&"highcharts-color-"+d(P.colorIndex,Y.colorIndex),re&&re.className].filter(_).join(" ")}getLabel({anchorX:P,anchorY:R}={anchorX:0,anchorY:0}){let B=this,I=this.chart.styledMode,Y=this.options,re=this.split&&this.allowShared,V=this.container,K=this.chart.renderer;if(this.label){let J=!this.label.hasClass("highcharts-label");(!re&&J||re&&!J)&&this.destroy()}if(!this.label){if(this.outside){let J=this.chart.options.chart.style,ie=f.getRendererType();this.container=V=o.doc.createElement("div"),V.className="highcharts-tooltip-container",v(V,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,(J&&J.zIndex||0)+3)}),this.renderer=K=new ie(V,0,0,J,void 0,void 0,K.styledMode)}if(re?this.label=K.g("tooltip"):(this.label=K.label("",P,R,Y.shape,void 0,void 0,Y.useHTML,void 0,"tooltip").attr({padding:Y.padding,r:Y.borderRadius}),I||this.label.attr({fill:Y.backgroundColor,"stroke-width":Y.borderWidth||0}).css(Y.style).css({pointerEvents:Y.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),B.outside){let J=this.label;[J.xSetter,J.ySetter].forEach((ie,ce)=>{J[ce?"ySetter":"xSetter"]=D=>{ie.call(J,B.distance),J[ce?"y":"x"]=D,V&&(V.style[ce?"top":"left"]=`${D}px`)}})}this.label.attr({zIndex:8}).shadow(Y.shadow).add()}return V&&!V.parentElement&&o.doc.body.appendChild(V),this.label}getPlayingField(){let{body:P,documentElement:R}=C,{chart:B,distance:I,outside:Y}=this;return{width:Y?Math.max(P.scrollWidth,R.scrollWidth,P.offsetWidth,R.offsetWidth,R.clientWidth)-2*I:B.chartWidth,height:Y?Math.max(P.scrollHeight,R.scrollHeight,P.offsetHeight,R.offsetHeight,R.clientHeight):B.chartHeight}}getPosition(P,R,B){var ue,pe;let{distance:I,chart:Y,outside:re,pointer:V}=this,{inverted:K,plotLeft:J,plotTop:ie,polar:ce}=Y,{plotX:D=0,plotY:M=0}=B,U={},Z=K&&B.h||0,{height:x,width:N}=this.getPlayingField(),L=V.getChartPosition(),X=de=>de*L.scaleX,$=de=>de*L.scaleY,te=de=>{let ge=de==="x";return[de,ge?N:x,ge?P:R].concat(re?[ge?X(P):$(R),ge?L.left-I+X(D+J):L.top-I+$(M+ie),0,ge?N:x]:[ge?P:R,ge?D+J:M+ie,ge?J:ie,ge?J+Y.plotWidth:ie+Y.plotHeight])},oe=te("y"),le=te("x"),he,me=!!B.negative;!ce&&((pe=(ue=Y.hoverSeries)==null?void 0:ue.yAxis)!=null&&pe.reversed)&&(me=!me);let fe=!this.followPointer&&d(B.ttBelow,!ce&&!K===me),ee=function(de,ge,ye,xe,we,Ee,Ce){let Ie=re?de==="y"?$(I):X(I):I,Ae=(ye-xe)/2,Se=xe<we-I,Oe=we+I+xe<ge,Le=we-Ie-ye+Ae,Ne=we+Ie-Ae;if(fe&&Oe)U[de]=Ne;else if(!fe&&Se)U[de]=Le;else if(Se)U[de]=Math.min(Ce-xe,Le-Z<0?Le:Le-Z);else{if(!Oe)return!1;U[de]=Math.max(Ee,Ne+Z+ye>ge?Ne:Ne+Z)}},Q=function(de,ge,ye,xe,we){if(we<I||we>ge-I)return!1;we<ye/2?U[de]=1:we>ge-xe/2?U[de]=ge-xe-2:U[de]=we-ye/2},ne=function(de){[oe,le]=[le,oe],he=de},se=()=>{ee.apply(0,oe)!==!1?Q.apply(0,le)!==!1||he||(ne(!0),se()):he?U.x=U.y=0:(ne(!0),se())};return(K&&!ce||this.len>1)&&ne(),se(),U}hide(P){let R=this;S.clearTimeout(this.hideTimer),P=d(P,this.options.hideDelay),this.isHidden||(this.hideTimer=c(function(){let B=R.getLabel();R.getLabel().animate({opacity:0},{duration:P&&150,complete:()=>{B.hide(),R.container&&R.container.remove()}}),R.isHidden=!0},P))}init(P,R){this.chart=P,this.options=R,this.crosshairs=[],this.isHidden=!0,this.split=R.split&&!P.inverted&&!P.polar,this.shared=R.shared||this.split,this.outside=d(R.outside,!!(P.scrollablePixelsX||P.scrollablePixelsY))}shouldStickOnContact(P){return!!(!this.followPointer&&this.options.stickOnContact&&(!P||this.pointer.inClass(P.target,"highcharts-tooltip")))}move(P,R,B,I){let Y=this,re=j(!Y.isHidden&&Y.options.animation),V=Y.followPointer||(Y.len||0)>1,K={x:P,y:R};V||(K.anchorX=B,K.anchorY=I),re.step=()=>Y.drawTracker(),Y.getLabel().animate(K,re)}refresh(P,R){let{chart:B,options:I,pointer:Y,shared:re}=this,V=h(P),K=V[0],J=[],ie=I.format,ce=I.formatter||this.defaultFormatter,D=B.styledMode,M={},U=this.allowShared;if(!I.enabled||!K.series)return;S.clearTimeout(this.hideTimer),this.allowShared=!(!m(P)&&P.series&&P.series.noSharedTooltip),U=U&&!this.allowShared,this.followPointer=!this.split&&K.series.tooltipOptions.followPointer;let Z=this.getAnchor(P,R),x=Z[0],N=Z[1];re&&this.allowShared?(Y.applyInactiveState(V),V.forEach(function($){$.setState("hover"),J.push($.getLabelConfig())}),(M=K.getLabelConfig()).points=J):M=K.getLabelConfig(),this.len=J.length;let L=_(ie)?F(ie,M,B):ce.call(M,this),X=K.series;if(this.distance=d(X.tooltipOptions.distance,16),L===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(L,V);else{let $=x,te=N;if(R&&Y.isDirectTouch&&($=R.chartX-B.plotLeft,te=R.chartY-B.plotTop),B.polar||X.options.clip===!1||V.some(oe=>Y.isDirectTouch||oe.series.shouldShowTooltip($,te))){let oe=this.getLabel(U&&this.tt||{});(!I.style.width||D)&&oe.css({width:(this.outside?this.getPlayingField():B.spacingBox).width+"px"}),oe.attr({class:this.getClassName(K),text:L&&L.join?L.join(""):L}),this.outside&&oe.attr({x:p(oe.x||0,0,this.getPlayingField().width-(oe.width||0))}),D||oe.attr({stroke:I.borderColor||K.color||X.color||"#666666"}),this.updatePosition({plotX:x,plotY:N,negative:K.negative,ttBelow:K.ttBelow,h:Z[2]||0})}else{this.hide();return}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}T(this,"refresh")}renderSplit(P,R){var ge;let B=this,{chart:I,chart:{chartWidth:Y,chartHeight:re,plotHeight:V,plotLeft:K,plotTop:J,scrollablePixelsY:ie=0,scrollablePixelsX:ce,styledMode:D},distance:M,options:U,options:{positioner:Z},pointer:x}=B,{scrollLeft:N=0,scrollTop:L=0}=((ge=I.scrollablePlotArea)==null?void 0:ge.scrollingContainer)||{},X=B.outside&&typeof ce!="number"?C.documentElement.getBoundingClientRect():{left:N,right:N+Y,top:L,bottom:L+re},$=B.getLabel(),te=this.renderer||I.renderer,oe=!!(I.xAxis[0]&&I.xAxis[0].opposite),{left:le,top:he}=x.getChartPosition(),me=J+L,fe=0,ee=V-ie;function Q(ye,xe,we,Ee,Ce=!0){let Ie,Ae;return we?(Ie=oe?0:ee,Ae=p(ye-Ee/2,X.left,X.right-Ee-(B.outside?le:0))):(Ie=xe-me,Ae=p(Ae=Ce?ye-Ee-M:ye+M,Ce?Ae:X.left,X.right)),{x:Ae,y:Ie}}_(P)&&(P=[!1,P]);let ne=P.slice(0,R.length+1).reduce(function(ye,xe,we){if(xe!==!1&&xe!==""){let Ee=R[we-1]||{isHeader:!0,plotX:R[0].plotX,plotY:V,series:{}},Ce=Ee.isHeader,Ie=Ce?B:Ee.series,Ae=Ie.tt=function(qe,ze,et){let st=qe,{isHeader:mt,series:mi}=ze;if(!st){let Dt={padding:U.padding,r:U.borderRadius};D||(Dt.fill=U.backgroundColor,Dt["stroke-width"]=U.borderWidth??1),st=te.label("",0,0,U[mt?"headerShape":"shape"],void 0,void 0,U.useHTML).addClass(B.getClassName(ze,!0,mt)).attr(Dt).add($)}return st.isActive=!0,st.attr({text:et}),D||st.css(U.style).attr({stroke:U.borderColor||ze.color||mi.color||"#333333"}),st}(Ie.tt,Ee,xe.toString()),Se=Ae.getBBox(),Oe=Se.width+Ae.strokeWidth();Ce&&(fe=Se.height,ee+=fe,oe&&(me-=fe));let{anchorX:Le,anchorY:Ne}=function(qe){let ze,et,{isHeader:st,plotX:mt=0,plotY:mi=0,series:Dt}=qe;if(st)ze=Math.max(K+mt,K),et=J+V/2;else{let{xAxis:Zi,yAxis:Ye}=Dt;ze=Zi.pos+p(mt,-M,Zi.len+M),Dt.shouldShowTooltip(0,Ye.pos-J+mi,{ignoreX:!0})&&(et=Ye.pos+mi)}return{anchorX:ze=p(ze,X.left-M,X.right+M),anchorY:et}}(Ee);if(typeof Ne=="number"){let qe=Se.height+1,ze=Z?Z.call(B,Oe,qe,Ee):Q(Le,Ne,Ce,Oe);ye.push({align:Z?0:void 0,anchorX:Le,anchorY:Ne,boxWidth:Oe,point:Ee,rank:d(ze.rank,Ce?1:0),size:qe,target:ze.y,tt:Ae,x:ze.x})}else Ae.isActive=!1}return ye},[]);!Z&&ne.some(ye=>{let{outside:xe}=B,we=(xe?le:0)+ye.anchorX;return we<X.left&&we+ye.boxWidth<X.right||we<le-X.left+ye.boxWidth&&X.right-we>we})&&(ne=ne.map(ye=>{let{x:xe,y:we}=Q(ye.anchorX,ye.anchorY,ye.point.isHeader,ye.boxWidth,!1);return O(ye,{target:we,x:xe})})),B.cleanSplit(),G(ne,ee);let se={left:le,right:le};ne.forEach(function(ye){let{x:xe,boxWidth:we,isHeader:Ee}=ye;!Ee&&(B.outside&&le+xe<se.left&&(se.left=le+xe),!Ee&&B.outside&&se.left+we>se.right&&(se.right=le+xe))}),ne.forEach(function(ye){let{x:xe,anchorX:we,anchorY:Ee,pos:Ce,point:{isHeader:Ie}}=ye,Ae={visibility:Ce===void 0?"hidden":"inherit",x:xe,y:(Ce||0)+me,anchorX:we,anchorY:Ee};if(B.outside&&xe<we){let Se=le-se.left;Se>0&&(Ie||(Ae.x=xe+Se,Ae.anchorX=we+Se),Ie&&(Ae.x=(se.right-se.left)/2,Ae.anchorX=we+Se))}ye.tt.attr(Ae)});let{container:ue,outside:pe,renderer:de}=B;if(pe&&ue&&de){let{width:ye,height:xe,x:we,y:Ee}=$.getBBox();de.setSize(ye+we,xe+Ee,!1),ue.style.left=se.left+"px",ue.style.top=he+"px"}W&&$.attr({opacity:$.opacity===1?.999:1})}drawTracker(){if(!this.shouldStickOnContact()){this.tracker&&(this.tracker=this.tracker.destroy());return}let P=this.chart,R=this.label,B=this.shared?P.hoverPoints:P.hoverPoint;if(!R||!B)return;let I={x:0,y:0,width:0,height:0},Y=this.getAnchor(B),re=R.getBBox();Y[0]+=P.plotLeft-(R.translateX||0),Y[1]+=P.plotTop-(R.translateY||0),I.x=Math.min(0,Y[0]),I.y=Math.min(0,Y[1]),I.width=Y[0]<0?Math.max(Math.abs(Y[0]),re.width-Y[0]):Math.max(Math.abs(Y[0]),re.width),I.height=Y[1]<0?Math.max(Math.abs(Y[1]),re.height-Math.abs(Y[1])):Math.max(Math.abs(Y[1]),re.height),this.tracker?this.tracker.attr(I):(this.tracker=R.renderer.rect(I).addClass("highcharts-tracker").add(R),P.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(P){return P.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}tooltipFooterHeaderFormatter(P,R){let B=P.series,I=B.tooltipOptions,Y=B.xAxis,re=Y&&Y.dateTime,V={isFooter:R,labelConfig:P},K=I.xDateFormat,J=I[R?"footerFormat":"headerFormat"];return T(this,"headerFormatter",V,function(ie){re&&!K&&w(P.key)&&(K=re.getXDateFormat(P.key,I.dateTimeLabelFormats)),re&&K&&(P.point&&P.point.tooltipDateKeys||["key"]).forEach(function(ce){J=J.replace("{point."+ce+"}","{point."+ce+":"+K+"}")}),B.chart.styledMode&&(J=this.styledModeFormat(J)),ie.text=F(J,{point:P,series:B},this.chart)}),V.text}update(P){this.destroy(),this.init(this.chart,g(!0,this.options,P))}updatePosition(P){let{chart:R,container:B,distance:I,options:Y,pointer:re,renderer:V}=this,{height:K=0,width:J=0}=this.getLabel(),{left:ie,top:ce,scaleX:D,scaleY:M}=re.getChartPosition(),U=(Y.positioner||this.getPosition).call(this,J,K,P),Z=(P.plotX||0)+R.plotLeft,x=(P.plotY||0)+R.plotTop,N;V&&B&&(Y.positioner&&(U.x+=ie-I,U.y+=ce-I),N=(Y.borderWidth||0)+2*I+2,V.setSize(J+N,K+N,!1),(D!==1||M!==1)&&(v(B,{transform:`scale(${D}, ${M})`}),Z*=D,x*=M),Z+=ie-U.x,x+=ce-U.y),this.move(Math.round(U.x),Math.round(U.y||0),Z,x)}}return(z=u||(u={})).compose=function(k){y(q,"Core.Tooltip")&&A(k,"afterInit",function(){let P=this.chart;P.options.tooltip&&(P.tooltip=new z(P,P.options.tooltip,this))})},u}),n(i,"Core/Series/Point.js",[i["Core/Renderer/HTML/AST.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Templating.js"],i["Core/Utilities.js"]],function(r,s,o,l,f){let{animObject:S}=s,{defaultOptions:z}=o,{format:j}=l,{addEvent:F,crisp:q,erase:C,extend:W,fireEvent:G,getNestedProperty:A,isArray:p,isFunction:v,isNumber:b,isObject:O,merge:T,pick:m,syncTimeout:w,removeEvent:_,uniqueKey:g}=f;class d{animateBeforeDestroy(){let h=this,c={x:h.startXPos,opacity:0},u=h.getGraphicalProps();u.singular.forEach(function(k){h[k]=h[k].animate(k==="dataLabel"?{x:h[k].startXPos,y:h[k].startYPos,opacity:0}:c)}),u.plural.forEach(function(k){h[k].forEach(function(P){P.element&&P.animate(W({x:h.startXPos},P.startYPos?{x:P.startXPos,y:P.startYPos}:{}))})})}applyOptions(h,c){let u=this.series,k=u.options.pointValKey||u.pointValKey;return W(this,h=d.prototype.optionsToObject.call(this,h)),this.options=this.options?W(this.options,h):h,h.group&&delete this.group,h.dataLabels&&delete this.dataLabels,k&&(this.y=d.prototype.getNestedProperty.call(this,k)),this.selected&&(this.state="select"),"name"in this&&c===void 0&&u.xAxis&&u.xAxis.hasNames&&(this.x=u.xAxis.nameToX(this)),this.x===void 0&&u?this.x=c??u.autoIncrement():b(h.x)&&u.options.relativeXValue&&(this.x=u.autoIncrement(h.x)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let h=this,c=h.series,u=c.chart,k=c.options.dataSorting,P=u.hoverPoints,R=S(h.series.chart.renderer.globalAnimation),B=()=>{for(let I in(h.graphic||h.graphics||h.dataLabel||h.dataLabels)&&(_(h),h.destroyElements()),h)delete h[I]};h.legendItem&&u.legend.destroyItem(h),P&&(h.setState(),C(P,h),P.length||(u.hoverPoints=null)),h===u.hoverPoint&&h.onMouseOut(),k&&k.enabled?(this.animateBeforeDestroy(),w(B,R.duration)):B(),u.pointCount--}this.destroyed=!0}destroyElements(h){let c=this,u=c.getGraphicalProps(h);u.singular.forEach(function(k){c[k]=c[k].destroy()}),u.plural.forEach(function(k){c[k].forEach(function(P){P&&P.element&&P.destroy()}),delete c[k]})}firePointEvent(h,c,u){let k=this,P=this.series.options;k.manageEvent(h),h==="click"&&P.allowPointSelect&&(u=function(R){!k.destroyed&&k.select&&k.select(null,R.ctrlKey||R.metaKey||R.shiftKey)}),G(k,h,c,u)}getClassName(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(h){let c,u,k=this,P=[],R={singular:[],plural:[]};for((h=h||{graphic:1,dataLabel:1}).graphic&&P.push("graphic","connector"),h.dataLabel&&P.push("dataLabel","dataLabelPath","dataLabelUpper"),u=P.length;u--;)k[c=P[u]]&&R.singular.push(c);return["graphic","dataLabel"].forEach(function(B){let I=B+"s";h[B]&&k[I]&&R.plural.push(I)}),R}getLabelConfig(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}}getNestedProperty(h){return h?h.indexOf("custom.")===0?A(h,this.options):this[h]:void 0}getZone(){let h=this.series,c=h.zones,u=h.zoneAxis||"y",k,P=0;for(k=c[0];this[u]>=k.value;)k=c[++P];return this.nonZonedColor||(this.nonZonedColor=this.color),k&&k.color&&!this.options.color?this.color=k.color:this.color=this.nonZonedColor,k}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}constructor(h,c,u){this.formatPrefix="point",this.visible=!0,this.series=h,this.applyOptions(c,u),this.id??(this.id=g()),this.resolveColor(),h.chart.pointCount++,G(this,"afterInit")}isValid(){return(b(this.x)||this.x instanceof Date)&&b(this.y)}optionsToObject(h){let c=this.series,u=c.options.keys,k=u||c.pointArrayMap||["y"],P=k.length,R={},B,I=0,Y=0;if(b(h)||h===null)R[k[0]]=h;else if(p(h))for(!u&&h.length>P&&((B=typeof h[0])=="string"?R.name=h[0]:B==="number"&&(R.x=h[0]),I++);Y<P;)u&&h[I]===void 0||(k[Y].indexOf(".")>0?d.prototype.setNestedProperty(R,h[I],k[Y]):R[k[Y]]=h[I]),I++,Y++;else typeof h=="object"&&(R=h,h.dataLabels&&(c.hasDataLabels=()=>!0),h.marker&&(c._hasPointMarkers=!0));return R}pos(h,c=this.plotY){if(!this.destroyed){let{plotX:u,series:k}=this,{chart:P,xAxis:R,yAxis:B}=k,I=0,Y=0;if(b(u)&&b(c))return h&&(I=R?R.pos:P.plotLeft,Y=B?B.pos:P.plotTop),P.inverted&&R&&B?[B.len-c+Y,R.len-u+I]:[u+I,c+Y]}}resolveColor(){let h=this.series,c=h.chart.options.chart,u=h.chart.styledMode,k,P,R=c.colorCount,B;delete this.nonZonedColor,h.options.colorByPoint?(u||(k=(P=h.options.colors||h.chart.options.colors)[h.colorCounter],R=P.length),B=h.colorCounter,h.colorCounter++,h.colorCounter===R&&(h.colorCounter=0)):(u||(k=h.color),B=h.colorIndex),this.colorIndex=m(this.options.colorIndex,B),this.color=m(this.options.color,k)}setNestedProperty(h,c,u){return u.split(".").reduce(function(k,P,R,B){let I=B.length-1===R;return k[P]=I?c:O(k[P],!0)?k[P]:{},k[P]},h),h}shouldDraw(){return!this.isNull}tooltipFormatter(h){let c=this.series,u=c.tooltipOptions,k=m(u.valueDecimals,""),P=u.valuePrefix||"",R=u.valueSuffix||"";return c.chart.styledMode&&(h=c.chart.tooltip.styledModeFormat(h)),(c.pointArrayMap||["y"]).forEach(function(B){B="{point."+B,(P||R)&&(h=h.replace(RegExp(B+"}","g"),P+B+"}"+R)),h=h.replace(RegExp(B+"}","g"),B+":,."+k+"f}")}),j(h,{point:this,series:this.series},c.chart)}update(h,c,u,k){let P,R=this,B=R.series,I=R.graphic,Y=B.chart,re=B.options;function V(){R.applyOptions(h);let K=I&&R.hasMockGraphic,J=R.y===null?!K:K;I&&J&&(R.graphic=I.destroy(),delete R.hasMockGraphic),O(h,!0)&&(I&&I.element&&h&&h.marker&&h.marker.symbol!==void 0&&(R.graphic=I.destroy()),h!=null&&h.dataLabels&&R.dataLabel&&(R.dataLabel=R.dataLabel.destroy())),P=R.index,B.updateParallelArrays(R,P),re.data[P]=O(re.data[P],!0)||O(h,!0)?R.options:m(h,re.data[P]),B.isDirty=B.isDirtyData=!0,!B.fixedBox&&B.hasCartesianSeries&&(Y.isDirtyBox=!0),re.legendType==="point"&&(Y.isDirtyLegend=!0),c&&Y.redraw(u)}c=m(c,!0),k===!1?V():R.firePointEvent("update",{options:h},V)}remove(h,c){this.series.removePoint(this.series.data.indexOf(this),h,c)}select(h,c){let u=this,k=u.series,P=k.chart;h=m(h,!u.selected),this.selectedStaging=h,u.firePointEvent(h?"select":"unselect",{accumulate:c},function(){u.selected=u.options.selected=h,k.options.data[k.data.indexOf(u)]=u.options,u.setState(h&&"select"),c||P.getSelectedPoints().forEach(function(R){let B=R.series;R.selected&&R!==u&&(R.selected=R.options.selected=!1,B.options.data[B.data.indexOf(R)]=R.options,R.setState(P.hoverPoints&&B.options.inactiveOtherPoints?"inactive":""),R.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(h){let{inverted:c,pointer:u}=this.series.chart;u&&(h=h?u.normalize(h):u.getChartCoordinatesFromPoint(this,c),u.runPointActions(h,this))}onMouseOut(){let h=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(h.hoverPoints||[]).forEach(function(c){c.setState()}),h.hoverPoints=h.hoverPoint=null}manageEvent(h){var k,P,R,B,I,Y;let c=T(this.series.options.point,this.options),u=(k=c.events)==null?void 0:k[h];v(u)&&(!((P=this.hcEvents)!=null&&P[h])||((B=(R=this.hcEvents)==null?void 0:R[h])==null?void 0:B.map(re=>re.fn).indexOf(u))===-1)?((I=this.importedUserEvent)==null||I.call(this),this.importedUserEvent=F(this,h,u)):this.importedUserEvent&&!u&&((Y=this.hcEvents)!=null&&Y[h])&&(_(this,h),delete this.hcEvents[h],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(h,c){var L;let u=this.series,k=this.state,P=u.options.states[h||"normal"]||{},R=z.plotOptions[u.type].marker&&u.options.marker,B=R&&R.enabled===!1,I=R&&R.states&&R.states[h||"normal"]||{},Y=I.enabled===!1,re=this.marker||{},V=u.chart,K=R&&u.markerAttribs,J=u.halo,ie,ce,D,M=u.stateMarkerGraphic,U;if((h=h||"")===this.state&&!c||this.selected&&h!=="select"||P.enabled===!1||h&&(Y||B&&I.enabled===!1)||h&&re.states&&re.states[h]&&re.states[h].enabled===!1)return;if(this.state=h,K&&(ie=u.markerAttribs(this,h)),this.graphic&&!this.hasMockGraphic){if(k&&this.graphic.removeClass("highcharts-point-"+k),h&&this.graphic.addClass("highcharts-point-"+h),!V.styledMode){ce=u.pointAttribs(this,h),D=m(V.options.chart.animation,P.animation);let X=ce.opacity;u.options.inactiveOtherPoints&&b(X)&&(this.dataLabels||[]).forEach(function($){$&&!$.hasClass("highcharts-data-label-hidden")&&($.animate({opacity:X},D),$.connector&&$.connector.animate({opacity:X},D))}),this.graphic.animate(ce,D)}ie&&this.graphic.animate(ie,m(V.options.chart.animation,I.animation,R.animation)),M&&M.hide()}else h&&I&&(U=re.symbol||u.symbol,M&&M.currentSymbol!==U&&(M=M.destroy()),ie&&(M?M[c?"animate":"attr"]({x:ie.x,y:ie.y}):U&&(u.stateMarkerGraphic=M=V.renderer.symbol(U,ie.x,ie.y,ie.width,ie.height).add(u.markerGroup),M.currentSymbol=U)),!V.styledMode&&M&&this.state!=="inactive"&&M.attr(u.pointAttribs(this,h))),M&&(M[h&&this.isInside?"show":"hide"](),M.element.point=this,M.addClass(this.getClassName(),!0));let Z=P.halo,x=this.graphic||M,N=x&&x.visibility||"inherit";Z&&Z.size&&x&&N!=="hidden"&&!this.isCluster?(J||(u.halo=J=V.renderer.path().add(x.parentGroup)),J.show()[c?"animate":"attr"]({d:this.haloPath(Z.size)}),J.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,u.colorIndex)+(this.className?" "+this.className:""),visibility:N,zIndex:-1}),J.point=this,V.styledMode||J.attr(W({fill:this.color||u.color,"fill-opacity":Z.opacity},r.filterUserAttributes(Z.attributes||{})))):(L=J==null?void 0:J.point)!=null&&L.haloPath&&!J.point.destroyed&&J.animate({d:J.point.haloPath(0)},null,J.hide),G(this,"afterSetState",{state:h})}haloPath(h){let c=this.pos();return c?this.series.chart.renderer.symbols.circle(q(c[0],1)-h,c[1]-h,2*h,2*h):[]}}return d}),n(i,"Core/Pointer.js",[i["Core/Color/Color.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s,o){var l;let{parse:f}=r,{charts:S,composed:z,isTouchDevice:j}=s,{addEvent:F,attr:q,css:C,extend:W,find:G,fireEvent:A,isNumber:p,isObject:v,objectEach:b,offset:O,pick:T,pushUnique:m,splat:w}=o;class _{applyInactiveState(d){let y=[],h;(d||[]).forEach(function(c){h=c.series,y.push(h),h.linkedParent&&y.push(h.linkedParent),h.linkedSeries&&(y=y.concat(h.linkedSeries)),h.navigatorSeries&&y.push(h.navigatorSeries)}),this.chart.series.forEach(function(c){y.indexOf(c)===-1?c.setState("inactive",!0):c.options.inactiveOtherPoints&&c.setAllPointsToState("inactive")})}destroy(){let d=this;this.eventsToUnbind.forEach(y=>y()),this.eventsToUnbind=[],!s.chartCount&&(_.unbindDocumentMouseUp&&_.unbindDocumentMouseUp.forEach(y=>y()),_.unbindDocumentTouchEnd&&(_.unbindDocumentTouchEnd=_.unbindDocumentTouchEnd())),clearInterval(d.tooltipTimeout),b(d,function(y,h){d[h]=void 0})}getSelectionMarkerAttrs(d,y){let h={args:{chartX:d,chartY:y},attrs:{},shapeType:"rect"};return A(this,"getSelectionMarkerAttrs",h,c=>{let u,{chart:k,zoomHor:P,zoomVert:R}=this,{mouseDownX:B=0,mouseDownY:I=0}=k,Y=c.attrs;Y.x=k.plotLeft,Y.y=k.plotTop,Y.width=P?1:k.plotWidth,Y.height=R?1:k.plotHeight,P&&(u=d-B,Y.width=Math.max(1,Math.abs(u)),Y.x=(u>0?0:u)+B),R&&(u=y-I,Y.height=Math.max(1,Math.abs(u)),Y.y=(u>0?0:u)+I)}),h}drag(d){let{chart:y}=this,{mouseDownX:h=0,mouseDownY:c=0}=y,{panning:u,panKey:k,selectionMarkerFill:P}=y.options.chart,R=y.plotLeft,B=y.plotTop,I=y.plotWidth,Y=y.plotHeight,re=v(u)?u.enabled:u,V=k&&d[`${k}Key`],K=d.chartX,J=d.chartY,ie,ce=this.selectionMarker;if((!ce||!ce.touch)&&(K<R?K=R:K>R+I&&(K=R+I),J<B?J=B:J>B+Y&&(J=B+Y),this.hasDragged=Math.sqrt(Math.pow(h-K,2)+Math.pow(c-J,2)),this.hasDragged>10)){ie=y.isInsidePlot(h-R,c-B,{visiblePlotOnly:!0});let{shapeType:D,attrs:M}=this.getSelectionMarkerAttrs(K,J);(y.hasCartesianSeries||y.mapView)&&this.hasZoom&&ie&&!V&&!ce&&(this.selectionMarker=ce=y.renderer[D](),ce.attr({class:"highcharts-selection-marker",zIndex:7}).add(),y.styledMode||ce.attr({fill:P||f("#334eff").setOpacity(.25).get()})),ce&&ce.attr(M),ie&&!ce&&re&&y.pan(d,u)}}dragStart(d){let y=this.chart;y.mouseIsDown=d.type,y.cancelClick=!1,y.mouseDownX=d.chartX,y.mouseDownY=d.chartY}getSelectionBox(d){let y={args:{marker:d},result:d.getBBox()};return A(this,"getSelectionBox",y),y.result}drop(d){let y,{chart:h,selectionMarker:c}=this;for(let u of h.axes)u.isPanning&&(u.isPanning=!1,(u.options.startOnTick||u.options.endOnTick||u.series.some(k=>k.boosted))&&(u.forceRedraw=!0,u.setExtremes(u.userMin,u.userMax,!1),y=!0));if(y&&h.redraw(),c&&d){if(this.hasDragged){let u=this.getSelectionBox(c);h.transform({axes:h.axes.filter(k=>k.zoomEnabled&&(k.coll==="xAxis"&&this.zoomX||k.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:d,xAxis:[],yAxis:[],...u},from:u})}p(h.index)&&(this.selectionMarker=c.destroy())}h&&p(h.index)&&(C(h.container,{cursor:h._cursor}),h.cancelClick=this.hasDragged>10,h.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[])}findNearestKDPoint(d,y,h){let c;return d.forEach(function(u){let k=!(u.noSharedTooltip&&y)&&0>u.options.findNearestPointBy.indexOf("y"),P=u.searchPoint(h,k);v(P,!0)&&P.series&&(!v(c,!0)||function(R,B){var V,K;let I=R.distX-B.distX,Y=R.dist-B.dist,re=((V=B.series.group)==null?void 0:V.zIndex)-((K=R.series.group)==null?void 0:K.zIndex);return I!==0&&y?I:Y!==0?Y:re!==0?re:R.series.index>B.series.index?-1:1}(c,P)>0)&&(c=P)}),c}getChartCoordinatesFromPoint(d,y){let{xAxis:h,yAxis:c}=d.series,u=d.shapeArgs;if(h&&c){let k=d.clientX??d.plotX??0,P=d.plotY||0;return d.isNode&&u&&p(u.x)&&p(u.y)&&(k=u.x,P=u.y),y?{chartX:c.len+c.pos-P,chartY:h.len+h.pos-k}:{chartX:k+h.pos,chartY:P+c.pos}}if(u&&u.x&&u.y)return{chartX:u.x,chartY:u.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:d}=this.chart,y=O(d);this.chartPosition={left:y.left,top:y.top,scaleX:1,scaleY:1};let{offsetHeight:h,offsetWidth:c}=d;return c>2&&h>2&&(this.chartPosition.scaleX=y.width/c,this.chartPosition.scaleY=y.height/h),this.chartPosition}getCoordinates(d){let y={xAxis:[],yAxis:[]};for(let h of this.chart.axes)y[h.isXAxis?"xAxis":"yAxis"].push({axis:h,value:h.toValue(d[h.horiz?"chartX":"chartY"])});return y}getHoverData(d,y,h,c,u,k){let P=[],R=function(V){return V.visible&&!(!u&&V.directTouch)&&T(V.options.enableMouseTracking,!0)},B=y,I,Y={chartX:k?k.chartX:void 0,chartY:k?k.chartY:void 0,shared:u};A(this,"beforeGetHoverData",Y),I=B&&!B.stickyTracking?[B]:h.filter(V=>V.stickyTracking&&(Y.filter||R)(V));let re=c&&d||!k?d:this.findNearestKDPoint(I,u,k);return B=re&&re.series,re&&(u&&!B.noSharedTooltip?(I=h.filter(function(V){return Y.filter?Y.filter(V):R(V)&&!V.noSharedTooltip})).forEach(function(V){let K=G(V.points,function(J){return J.x===re.x&&!J.isNull});v(K)&&(V.boosted&&V.boost&&(K=V.boost.getPoint(K)),P.push(K))}):P.push(re)),A(this,"afterGetHoverData",Y={hoverPoint:re}),{hoverPoint:Y.hoverPoint,hoverSeries:B,hoverPoints:P}}getPointFromEvent(d){let y=d.target,h;for(;y&&!h;)h=y.point,y=y.parentNode;return h}onTrackerMouseOut(d){let y=this.chart,h=d.relatedTarget,c=y.hoverSeries;this.isDirectTouch=!1,!c||!h||c.stickyTracking||this.inClass(h,"highcharts-tooltip")||this.inClass(h,"highcharts-series-"+c.index)&&this.inClass(h,"highcharts-tracker")||c.onMouseOut()}inClass(d,y){let h=d,c;for(;h;){if(c=q(h,"class")){if(c.indexOf(y)!==-1)return!0;if(c.indexOf("highcharts-container")!==-1)return!1}h=h.parentElement}}constructor(d,y){var h;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=y,this.chart=d,this.runChartClick=!!((h=y.chart.events)!=null&&h.click),this.pinchDown=[],this.setDOMEvents(),A(this,"afterInit")}normalize(d,y){let h=d.touches,c=h?h.length?h.item(0):T(h.changedTouches,d.changedTouches)[0]:d;y||(y=this.getChartPosition());let u=c.pageX-y.left,k=c.pageY-y.top;return W(d,{chartX:Math.round(u/=y.scaleX),chartY:Math.round(k/=y.scaleY)})}onContainerClick(d){let y=this.chart,h=y.hoverPoint,c=this.normalize(d),u=y.plotLeft,k=y.plotTop;!y.cancelClick&&(h&&this.inClass(c.target,"highcharts-tracker")?(A(h.series,"click",W(c,{point:h})),y.hoverPoint&&h.firePointEvent("click",c)):(W(c,this.getCoordinates(c)),y.isInsidePlot(c.chartX-u,c.chartY-k,{visiblePlotOnly:!0})&&A(y,"click",c)))}onContainerMouseDown(d){var h;let y=(1&(d.buttons||d.button))==1;d=this.normalize(d),s.isFirefox&&d.button!==0&&this.onContainerMouseMove(d),(d.button===void 0||y)&&(this.zoomOption(d),y&&((h=d.preventDefault)==null||h.call(d)),this.dragStart(d))}onContainerMouseLeave(d){let{pointer:y}=S[T(_.hoverChartIndex,-1)]||{};d=this.normalize(d),this.onContainerMouseMove(d),y&&!this.inClass(d.relatedTarget,"highcharts-tooltip")&&(y.reset(),y.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(d){let y=this.chart,h=y.tooltip,c=this.normalize(d);this.setHoverChartIndex(d),(y.mouseIsDown==="mousedown"||this.touchSelect(c))&&this.drag(c),!y.openMenu&&(this.inClass(c.target,"highcharts-tracker")||y.isInsidePlot(c.chartX-y.plotLeft,c.chartY-y.plotTop,{visiblePlotOnly:!0}))&&!(h&&h.shouldStickOnContact(c))&&(this.inClass(c.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(c))}onDocumentTouchEnd(d){this.onDocumentMouseUp(d)}onContainerTouchMove(d){this.touchSelect(d)?this.onContainerMouseMove(d):this.touch(d)}onContainerTouchStart(d){this.touchSelect(d)?this.onContainerMouseDown(d):(this.zoomOption(d),this.touch(d,!0))}onDocumentMouseMove(d){let y=this.chart,h=y.tooltip,c=this.chartPosition,u=this.normalize(d,c);!c||y.isInsidePlot(u.chartX-y.plotLeft,u.chartY-y.plotTop,{visiblePlotOnly:!0})||h&&h.shouldStickOnContact(u)||u.target!==y.container.ownerDocument&&this.inClass(u.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(d){var y,h;(h=(y=S[T(_.hoverChartIndex,-1)])==null?void 0:y.pointer)==null||h.drop(d)}pinch(d){let y=this,{chart:h,hasZoom:c,lastTouches:u}=y,k=[].map.call(d.touches||[],Y=>y.normalize(Y)),P=k.length,R=P===1&&(y.inClass(d.target,"highcharts-tracker")&&h.runTrackerClick||y.runChartClick),B=h.tooltip,I=P===1&&T(B==null?void 0:B.options.followTouchMove,!0);P>1?y.initiated=!0:I&&(y.initiated=!1),c&&y.initiated&&!R&&d.cancelable!==!1&&d.preventDefault(),d.type==="touchstart"?(y.pinchDown=k,y.res=!0,h.mouseDownX=d.chartX):I?this.runPointActions(y.normalize(d)):u&&(A(h,"touchpan",{originalEvent:d,touches:k},()=>{let Y=re=>{let V=re[0],K=re[1]||V;return{x:V.chartX,y:V.chartY,width:K.chartX-V.chartX,height:K.chartY-V.chartY}};h.transform({axes:h.axes.filter(re=>re.zoomEnabled&&(this.zoomHor&&re.horiz||this.zoomVert&&!re.horiz)),to:Y(k),from:Y(u),trigger:d.type})}),y.res&&(y.res=!1,this.reset(!1,0))),y.lastTouches=k}reset(d,y){let h=this.chart,c=h.hoverSeries,u=h.hoverPoint,k=h.hoverPoints,P=h.tooltip,R=P&&P.shared?k:u;d&&R&&w(R).forEach(function(B){B.series.isCartesian&&B.plotX===void 0&&(d=!1)}),d?P&&R&&w(R).length&&(P.refresh(R),P.shared&&k?k.forEach(function(B){B.setState(B.state,!0),B.series.isCartesian&&(B.series.xAxis.crosshair&&B.series.xAxis.drawCrosshair(null,B),B.series.yAxis.crosshair&&B.series.yAxis.drawCrosshair(null,B))}):u&&(u.setState(u.state,!0),h.axes.forEach(function(B){B.crosshair&&u.series[B.coll]===B&&B.drawCrosshair(null,u)}))):(u&&u.onMouseOut(),k&&k.forEach(function(B){B.setState()}),c&&c.onMouseOut(),P&&P.hide(y),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),h.axes.forEach(function(B){B.hideCrosshair()}),h.hoverPoints=h.hoverPoint=void 0)}runPointActions(d,y,h){let c=this.chart,u=c.series,k=c.tooltip&&c.tooltip.options.enabled?c.tooltip:void 0,P=!!k&&k.shared,R=y||c.hoverPoint,B=R&&R.series||c.hoverSeries,I=(!d||d.type!=="touchmove")&&(!!y||B&&B.directTouch&&this.isDirectTouch),Y=this.getHoverData(R,B,u,I,P,d);R=Y.hoverPoint,B=Y.hoverSeries;let re=Y.hoverPoints,V=B&&B.tooltipOptions.followPointer&&!B.tooltipOptions.split,K=P&&B&&!B.noSharedTooltip;if(R&&(h||R!==c.hoverPoint||k&&k.isHidden)){if((c.hoverPoints||[]).forEach(function(J){re.indexOf(J)===-1&&J.setState()}),c.hoverSeries!==B&&B.onMouseOver(),this.applyInactiveState(re),(re||[]).forEach(function(J){J.setState("hover")}),c.hoverPoint&&c.hoverPoint.firePointEvent("mouseOut"),!R.series)return;c.hoverPoints=re,c.hoverPoint=R,R.firePointEvent("mouseOver",void 0,()=>{k&&R&&k.refresh(K?re:R,d)})}else if(V&&k&&!k.isHidden){let J=k.getAnchor([{}],d);c.isInsidePlot(J[0],J[1],{visiblePlotOnly:!0})&&k.updatePosition({plotX:J[0],plotY:J[1]})}this.unDocMouseMove||(this.unDocMouseMove=F(c.container.ownerDocument,"mousemove",J=>{var ie,ce;return(ce=(ie=S[_.hoverChartIndex??-1])==null?void 0:ie.pointer)==null?void 0:ce.onDocumentMouseMove(J)}),this.eventsToUnbind.push(this.unDocMouseMove)),c.axes.forEach(function(J){let ie,ce=T((J.crosshair||{}).snap,!0);!ce||(ie=c.hoverPoint)&&ie.series[J.coll]===J||(ie=G(re,D=>D.series&&D.series[J.coll]===J)),ie||!ce?J.drawCrosshair(d,ie):J.hideCrosshair()})}setDOMEvents(){let d=this.chart.container,y=d.ownerDocument;d.onmousedown=this.onContainerMouseDown.bind(this),d.onmousemove=this.onContainerMouseMove.bind(this),d.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(F(d,"mouseenter",this.onContainerMouseEnter.bind(this)),F(d,"mouseleave",this.onContainerMouseLeave.bind(this))),_.unbindDocumentMouseUp||(_.unbindDocumentMouseUp=[]),_.unbindDocumentMouseUp.push(F(y,"mouseup",this.onDocumentMouseUp.bind(this)));let h=this.chart.renderTo.parentElement;for(;h&&h.tagName!=="BODY";)this.eventsToUnbind.push(F(h,"scroll",()=>{delete this.chartPosition})),h=h.parentElement;this.eventsToUnbind.push(F(d,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),F(d,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),_.unbindDocumentTouchEnd||(_.unbindDocumentTouchEnd=F(y,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),F(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var u,k;if(!j)return;let d=this.pointerCaptureEventsToUnbind,y=this.chart,h=y.container,c=T((u=y.options.tooltip)==null?void 0:u.followTouchMove,!0)&&y.series.some(P=>P.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&c?(d.push(F(h,"pointerdown",P=>{var R,B;(R=P.target)!=null&&R.hasPointerCapture(P.pointerId)&&((B=P.target)==null||B.releasePointerCapture(P.pointerId))}),F(h,"pointermove",P=>{var R,B;(B=(R=y.pointer)==null?void 0:R.getPointFromEvent(P))==null||B.onMouseOver(P)})),y.styledMode||C(h,{"touch-action":"none"}),h.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!c&&(d.forEach(P=>P()),d.length=0,y.styledMode||C(h,{"touch-action":T((k=y.options.chart.style)==null?void 0:k["touch-action"],"manipulation")}),h.className=h.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(d){var c;let y=this.chart,h=s.charts[T(_.hoverChartIndex,-1)];if(h&&h!==y){let u={relatedTarget:y.container};d&&!(d!=null&&d.relatedTarget)&&(d={...u,...d}),(c=h.pointer)==null||c.onContainerMouseLeave(d||u)}h&&h.mouseIsDown||(_.hoverChartIndex=y.index)}touch(d,y){let h,{chart:c,pinchDown:u=[]}=this;this.setHoverChartIndex(),(d=this.normalize(d)).touches.length===1?c.isInsidePlot(d.chartX-c.plotLeft,d.chartY-c.plotTop,{visiblePlotOnly:!0})&&!c.openMenu?(y&&this.runPointActions(d),d.type==="touchmove"&&(h=!!u[0]&&Math.pow(u[0].chartX-d.chartX,2)+Math.pow(u[0].chartY-d.chartY,2)>=16),T(h,!0)&&this.pinch(d)):y&&this.reset():d.touches.length===2&&this.pinch(d)}touchSelect(d){return!!(this.chart.zooming.singleTouch&&d.touches&&d.touches.length===1)}zoomOption(d){let y=this.chart,h=y.inverted,c=y.zooming.type||"",u,k;/touch/.test(d.type)&&(c=T(y.zooming.pinchType,c)),this.zoomX=u=/x/.test(c),this.zoomY=k=/y/.test(c),this.zoomHor=u&&!h||k&&h,this.zoomVert=k&&!h||u&&h,this.hasZoom=u||k}}return(l=_||(_={})).compose=function(g){m(z,"Core.Pointer")&&F(g,"beforeRender",function(){this.pointer=new l(this,this.options)})},_}),n(i,"Core/Legend/LegendSymbol.js",[i["Core/Utilities.js"]],function(r){var s;let{extend:o,merge:l,pick:f}=r;return function(S){function z(j,F,q){var h,c;let C=this.legendItem=this.legendItem||{},{chart:W,options:G}=this,{baseline:A=0,symbolWidth:p,symbolHeight:v}=j,b=this.symbol||"circle",O=v/2,T=W.renderer,m=C.group,w=A-Math.round((((h=j.fontMetrics)==null?void 0:h.b)||v)*(q?.4:.3)),_={},g,d=G.marker,y=0;if(W.styledMode||(_["stroke-width"]=Math.min(G.lineWidth||0,24),G.dashStyle?_.dashstyle=G.dashStyle:G.linecap==="square"||(_["stroke-linecap"]="round")),C.line=T.path().addClass("highcharts-graph").attr(_).add(m),q&&(C.area=T.path().addClass("highcharts-area").add(m)),_["stroke-linecap"]&&(y=Math.min(C.line.strokeWidth(),p)/2),p){let u=[["M",y,w],["L",p-y,w]];C.line.attr({d:u}),(c=C.area)==null||c.attr({d:[...u,["L",p-y,A],["L",y,A]]})}if(d&&d.enabled!==!1&&p){let u=Math.min(f(d.radius,O),O);b.indexOf("url")===0&&(d=l(d,{width:v,height:v}),u=0),C.symbol=g=T.symbol(b,p/2-u,w-u,2*u,2*u,o({context:"legend"},d)).addClass("highcharts-point").add(m),g.isMarker=!0}}S.areaMarker=function(j,F){z.call(this,j,F,!0)},S.lineMarker=z,S.rectangle=function(j,F){let q=F.legendItem||{},C=j.options,W=j.symbolHeight,G=C.squareSymbol,A=G?W:j.symbolWidth;q.symbol=this.chart.renderer.rect(G?(j.symbolWidth-W)/2:0,j.baseline-W+1,A,W,f(j.options.symbolRadius,W/2)).addClass("highcharts-point").attr({zIndex:3}).add(q.group)}}(s||(s={})),s}),n(i,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:r}=this.series.chart;return typeof this.y!="number"?"":r(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),n(i,"Core/Series/SeriesRegistry.js",[i["Core/Globals.js"],i["Core/Defaults.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(r,s,o,l){var f;let{defaultOptions:S}=s,{extend:z,extendClass:j,merge:F}=l;return function(q){function C(W,G){let A=S.plotOptions||{},p=G.defaultOptions,v=G.prototype;return v.type=W,v.pointClass||(v.pointClass=o),!q.seriesTypes[W]&&(p&&(A[W]=p),q.seriesTypes[W]=G,!0)}q.seriesTypes=r.seriesTypes,q.registerSeriesType=C,q.seriesType=function(W,G,A,p,v){let b=S.plotOptions||{};if(G=G||"",b[W]=F(b[G],A),delete q.seriesTypes[W],C(W,j(q.seriesTypes[G]||function(){},p)),q.seriesTypes[W].prototype.type=W,v){class O extends o{}z(O.prototype,v),q.seriesTypes[W].prototype.pointClass=O}return q.seriesTypes[W]}}(f||(f={})),f}),n(i,"Core/Series/Series.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Defaults.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Series/Point.js"],i["Core/Series/SeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Utilities.js"]],function(r,s,o,l,f,S,z,j,F,q){let{animObject:C,setAnimation:W}=r,{defaultOptions:G}=s,{registerEventOptions:A}=o,{svg:p,win:v}=l,{seriesTypes:b}=j,{arrayMax:O,arrayMin:T,clamp:m,correctFloat:w,crisp:_,defined:g,destroyObjectProperties:d,diffObjects:y,erase:h,error:c,extend:u,find:k,fireEvent:P,getClosestDistance:R,getNestedProperty:B,insertItem:I,isArray:Y,isNumber:re,isString:V,merge:K,objectEach:J,pick:ie,removeEvent:ce,splat:D,syncTimeout:M}=q;class U{constructor(){this.zoneAxis="y"}init(x,N){let L;P(this,"init",{options:N});let X=this,$=x.series;this.eventsToUnbind=[],X.chart=x,X.options=X.setOptions(N);let te=X.options,oe=te.visible!==!1;X.linkedSeries=[],X.bindAxes(),u(X,{name:te.name,state:"",visible:oe,selected:te.selected===!0}),A(this,te);let le=te.events;(le&&le.click||te.point&&te.point.events&&te.point.events.click||te.allowPointSelect)&&(x.runTrackerClick=!0),X.getColor(),X.getSymbol(),X.parallelArrays.forEach(function(he){X[he+"Data"]||(X[he+"Data"]=[])}),X.isCartesian&&(x.hasCartesianSeries=!0),$.length&&(L=$[$.length-1]),X._i=ie(L&&L._i,-1)+1,X.opacity=X.options.opacity,x.orderItems("series",I(this,$)),te.dataSorting&&te.dataSorting.enabled?X.setDataSortingOptions():X.points||X.data||X.setData(te.data,!1),P(this,"afterInit")}is(x){return b[x]&&this instanceof b[x]}bindAxes(){let x,N=this,L=N.options,X=N.chart;P(this,"bindAxes",null,function(){(N.axisTypes||[]).forEach(function($){(X[$]||[]).forEach(function(te){x=te.options,(ie(L[$],0)===te.index||L[$]!==void 0&&L[$]===x.id)&&(I(N,te.series),N[$]=te,te.isDirty=!0)}),N[$]||N.optionalAxis===$||c(18,!0,X)})}),P(this,"afterBindAxes")}updateParallelArrays(x,N,L){let X=x.series,$=re(N)?function(te){let oe=te==="y"&&X.toYData?X.toYData(x):x[te];X[te+"Data"][N]=oe}:function(te){Array.prototype[N].apply(X[te+"Data"],L)};X.parallelArrays.forEach($)}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.yData&&this.yData.length>0}hasMarkerChanged(x,N){let L=x.marker,X=N.marker||{};return L&&(X.enabled&&!L.enabled||X.symbol!==L.symbol||X.height!==L.height||X.width!==L.width)}autoIncrement(x){let N=this.options,L=N.pointIntervalUnit,X=N.relativeXValue,$=this.chart.time,te=this.xIncrement,oe,le;return te=ie(te,N.pointStart,0),this.pointInterval=le=ie(this.pointInterval,N.pointInterval,1),X&&re(x)&&(le*=x),L&&(oe=new $.Date(te),L==="day"?$.set("Date",oe,$.get("Date",oe)+le):L==="month"?$.set("Month",oe,$.get("Month",oe)+le):L==="year"&&$.set("FullYear",oe,$.get("FullYear",oe)+le),le=oe.getTime()-te),X&&re(x)?te+le:(this.xIncrement=te+le,te)}setDataSortingOptions(){let x=this.options;u(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),g(x.pointRange)||(x.pointRange=1)}setOptions(x){var ue,pe;let N,L=this.chart,X=L.options.plotOptions,$=L.userOptions||{},te=K(x),oe=L.styledMode,le={plotOptions:X,userOptions:te};P(this,"setOptions",le);let he=le.plotOptions[this.type],me=$.plotOptions||{},fe=me.series||{},ee=G.plotOptions[this.type]||{},Q=me[this.type]||{};this.userOptions=le.userOptions;let ne=K(he,X.series,Q,te);this.tooltipOptions=K(G.tooltip,(ue=G.plotOptions.series)==null?void 0:ue.tooltip,ee==null?void 0:ee.tooltip,L.userOptions.tooltip,(pe=me.series)==null?void 0:pe.tooltip,Q.tooltip,te.tooltip),this.stickyTracking=ie(te.stickyTracking,Q.stickyTracking,fe.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||ne.stickyTracking),he.marker===null&&delete ne.marker,this.zoneAxis=ne.zoneAxis||"y";let se=this.zones=(ne.zones||[]).map(de=>({...de}));return(ne.negativeColor||ne.negativeFillColor)&&!ne.zones&&(N={value:ne[this.zoneAxis+"Threshold"]||ne.threshold||0,className:"highcharts-negative"},oe||(N.color=ne.negativeColor,N.fillColor=ne.negativeFillColor),se.push(N)),se.length&&g(se[se.length-1].value)&&se.push(oe?{}:{color:this.color,fillColor:this.fillColor}),P(this,"afterSetOptions",{options:ne}),ne}getName(){return ie(this.options.name,"Series "+(this.index+1))}getCyclic(x,N,L){let X,$,te=this.chart,oe=`${x}Index`,le=`${x}Counter`,he=(L==null?void 0:L.length)||te.options.chart.colorCount;!N&&(g($=ie(x==="color"?this.options.colorIndex:void 0,this[oe]))?X=$:(te.series.length||(te[le]=0),X=te[le]%he,te[le]+=1),L&&(N=L[X])),X!==void 0&&(this[oe]=X),this[x]=N}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||G.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let x=this.options.marker;this.getCyclic("symbol",x.symbol,this.chart.options.symbols)}findPointIndex(x,N){let L,X,$,te=x.id,oe=x.x,le=this.points,he=this.options.dataSorting;if(te){let me=this.chart.get(te);me instanceof S&&(L=me)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let me=fe=>!fe.touched&&fe.index===x.index;if(he&&he.matchByName?me=fe=>!fe.touched&&fe.name===x.name:this.options.relativeXValue&&(me=fe=>!fe.touched&&fe.options.x===x.x),!(L=k(le,me)))return}return L&&($=L&&L.index)!==void 0&&(X=!0),$===void 0&&re(oe)&&($=this.xData.indexOf(oe,N)),$!==-1&&$!==void 0&&this.cropped&&($=$>=this.cropStart?$-this.cropStart:$),!X&&re($)&&le[$]&&le[$].touched&&($=void 0),$}updateData(x,N){let L=this.options,X=L.dataSorting,$=this.points,te=[],oe=this.requireSorting,le=x.length===$.length,he,me,fe,ee,Q=!0;if(this.xIncrement=null,x.forEach(function(ne,se){let ue,pe=g(ne)&&this.pointClass.prototype.optionsToObject.call({series:this},ne)||{},de=pe.x;pe.id||re(de)?((ue=this.findPointIndex(pe,ee))===-1||ue===void 0?te.push(ne):$[ue]&&ne!==L.data[ue]?($[ue].update(ne,!1,null,!1),$[ue].touched=!0,oe&&(ee=ue+1)):$[ue]&&($[ue].touched=!0),(!le||se!==ue||X&&X.enabled||this.hasDerivedData)&&(he=!0)):te.push(ne)},this),he)for(me=$.length;me--;)(fe=$[me])&&!fe.touched&&fe.remove&&fe.remove(!1,N);else!le||X&&X.enabled?Q=!1:(x.forEach(function(ne,se){ne===$[se].y||$[se].destroyed||$[se].update(ne,!1,null,!1)}),te.length=0);return $.forEach(function(ne){ne&&(ne.touched=!1)}),!!Q&&(te.forEach(function(ne){this.addPoint(ne,!1,null,null,!1)},this),this.xIncrement===null&&this.xData&&this.xData.length&&(this.xIncrement=O(this.xData),this.autoIncrement()),!0)}setData(x,N=!0,L,X){var Ie;let $=this,te=$.points,oe=te&&te.length||0,le=$.options,he=$.chart,me=le.dataSorting,fe=$.xAxis,ee=le.turboThreshold,Q=this.xData,ne=this.yData,se=$.pointArrayMap,ue=se&&se.length,pe=le.keys,de,ge,ye,xe=0,we=1,Ee;he.options.chart.allowMutatingData||(le.data&&delete $.options.data,$.userOptions.data&&delete $.userOptions.data,Ee=K(!0,x));let Ce=(x=Ee||x||[]).length;if(me&&me.enabled&&(x=this.sortData(x)),he.options.chart.allowMutatingData&&X!==!1&&Ce&&oe&&!$.cropped&&!$.hasGroupedData&&$.visible&&!$.boosted&&(ye=this.updateData(x,L)),!ye){$.xIncrement=null,$.colorCounter=0,this.parallelArrays.forEach(function(Se){$[Se+"Data"].length=0});let Ae=ee&&Ce>ee;if(Ae){let Se=$.getFirstValidPoint(x),Oe=$.getFirstValidPoint(x,Ce-1,-1),Le=Ne=>!!(Y(Ne)&&(pe||re(Ne[0])));if(re(Se)&&re(Oe))for(de=0;de<Ce;de++)Q[de]=this.autoIncrement(),ne[de]=x[de];else if(Le(Se)&&Le(Oe))if(ue)if(Se.length===ue)for(de=0;de<Ce;de++)Q[de]=this.autoIncrement(),ne[de]=x[de];else for(de=0;de<Ce;de++)ge=x[de],Q[de]=ge[0],ne[de]=ge.slice(1,ue+1);else if(pe&&(xe=pe.indexOf("x"),we=pe.indexOf("y"),xe=xe>=0?xe:0,we=we>=0?we:1),Se.length===1&&(we=0),xe===we)for(de=0;de<Ce;de++)Q[de]=this.autoIncrement(),ne[de]=x[de][we];else for(de=0;de<Ce;de++)ge=x[de],Q[de]=ge[xe],ne[de]=ge[we];else Ae=!1}if(!Ae)for(de=0;de<Ce;de++)ge={series:$},$.pointClass.prototype.applyOptions.apply(ge,[x[de]]),$.updateParallelArrays(ge,de);for(ne&&V(ne[0])&&c(14,!0,he),$.data=[],$.options.data=$.userOptions.data=x,de=oe;de--;)(Ie=te[de])==null||Ie.destroy();fe&&(fe.minRange=fe.userMinRange),$.isDirty=he.isDirtyBox=!0,$.isDirtyData=!!te,L=!1}le.legendType==="point"&&(this.processData(),this.generatePoints()),N&&he.redraw(L)}sortData(x){let N=this,L=N.options.dataSorting.sortKey||"y",X=function($,te){return g(te)&&$.pointClass.prototype.optionsToObject.call({series:$},te)||{}};return x.forEach(function($,te){x[te]=X(N,$),x[te].index=te},this),x.concat().sort(($,te)=>{let oe=B(L,$),le=B(L,te);return le<oe?-1:le>oe?1:0}).forEach(function($,te){$.x=te},this),N.linkedSeries&&N.linkedSeries.forEach(function($){let te=$.options,oe=te.data;te.dataSorting&&te.dataSorting.enabled||!oe||(oe.forEach(function(le,he){oe[he]=X($,le),x[he]&&(oe[he].x=x[he].x,oe[he].index=he)}),$.setData(oe,!1))}),x}getProcessedData(x){let N=this,L=N.xAxis,X=N.options.cropThreshold,$=L==null?void 0:L.logarithmic,te=N.isCartesian,oe,le,he=0,me,fe,ee,Q=N.xData,ne=N.yData,se=!1,ue=Q.length;L&&(fe=(me=L.getExtremes()).min,ee=me.max,se=!!(L.categories&&!L.names.length)),te&&N.sorted&&!x&&(!X||ue>X||N.forceCrop)&&(Q[ue-1]<fe||Q[0]>ee?(Q=[],ne=[]):N.yData&&(Q[0]<fe||Q[ue-1]>ee)&&(Q=(oe=this.cropData(N.xData,N.yData,fe,ee)).xData,ne=oe.yData,he=oe.start,le=!0));let pe=R([$?Q.map($.log2lin):Q],()=>N.requireSorting&&!se&&c(15,!1,N.chart));return{xData:Q,yData:ne,cropped:le,cropStart:he,closestPointRange:pe}}processData(x){let N=this.xAxis;if(this.isCartesian&&!this.isDirty&&!N.isDirty&&!this.yAxis.isDirty&&!x)return!1;let L=this.getProcessedData();this.cropped=L.cropped,this.cropStart=L.cropStart,this.processedXData=L.xData,this.processedYData=L.yData,this.closestPointRange=this.basePointRange=L.closestPointRange,P(this,"afterProcessData")}cropData(x,N,L,X){let $=x.length,te,oe,le=0,he=$;for(te=0;te<$;te++)if(x[te]>=L){le=Math.max(0,te-1);break}for(oe=te;oe<$;oe++)if(x[oe]>X){he=oe+1;break}return{xData:x.slice(le,he),yData:N.slice(le,he),start:le,end:he}}generatePoints(){let x=this.options,N=this.processedData||x.data,L=this.processedXData,X=this.processedYData,$=this.pointClass,te=L.length,oe=this.cropStart||0,le=this.hasGroupedData,he=x.keys,me=[],fe=x.dataGrouping&&x.dataGrouping.groupAll?oe:0,ee,Q,ne,se,ue=this.data;if(!ue&&!le){let pe=[];pe.length=N.length,ue=this.data=pe}for(he&&le&&(this.options.keys=!1),se=0;se<te;se++)Q=oe+se,le?((ne=new $(this,[L[se]].concat(D(X[se])))).dataGroup=this.groupMap[fe+se],ne.dataGroup.options&&(ne.options=ne.dataGroup.options,u(ne,ne.dataGroup.options),delete ne.dataLabels)):(ne=ue[Q])||N[Q]===void 0||(ue[Q]=ne=new $(this,N[Q],L[se])),ne&&(ne.index=le?fe+se:Q,me[se]=ne);if(this.options.keys=he,ue&&(te!==(ee=ue.length)||le))for(se=0;se<ee;se++)se!==oe||le||(se+=te),ue[se]&&(ue[se].destroyElements(),ue[se].plotX=void 0);this.data=ue,this.points=me,P(this,"afterGeneratePoints")}getXExtremes(x){return{min:T(x),max:O(x)}}getExtremes(x,N){let L=this.xAxis,X=this.yAxis,$=[],te=this.requireSorting&&!this.is("column")?1:0,oe=!!X&&X.positiveValuesOnly,le=N||this.getExtremesFromAll||this.options.getExtremesFromAll,{processedXData:he,processedYData:me}=this,fe,ee,Q,ne,se,ue,pe,de=0,ge=0,ye=0;if(this.cropped&&le){let Ce=this.getProcessedData(!0);he=Ce.xData,me=Ce.yData}let xe=(x=x||this.stackedYData||me||[]).length,we=he||this.xData;for(L&&(de=(fe=L.getExtremes()).min,ge=fe.max),ue=0;ue<xe;ue++)if(ne=we[ue],ee=(re(se=x[ue])||Y(se))&&((re(se)?se>0:se.length)||!oe),Q=N||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!L||(we[ue+te]||ne)>=de&&(we[ue-te]||ne)<=ge,ee&&Q)if(pe=se.length)for(;pe--;)re(se[pe])&&($[ye++]=se[pe]);else $[ye++]=se;let Ee={activeYData:$,dataMin:T($),dataMax:O($)};return P(this,"afterGetExtremes",{dataExtremes:Ee}),Ee}applyExtremes(){let x=this.getExtremes();return this.dataMin=x.dataMin,this.dataMax=x.dataMax,x}getFirstValidPoint(x,N=0,L=1){let X=x.length,$=N;for(;$>=0&&$<X;){if(g(x[$]))return x[$];$+=L}}translate(){var ge;this.processedXData||this.processData(),this.generatePoints();let x=this.options,N=x.stacking,L=this.xAxis,X=L.categories,$=this.enabledDataSorting,te=this.yAxis,oe=this.points,le=oe.length,he=this.pointPlacementToXValue(),me=!!he,fe=x.threshold,ee=x.startFromThreshold?fe:0,Q,ne,se,ue,pe=Number.MAX_VALUE;function de(ye){return m(ye,-1e9,1e9)}for(Q=0;Q<le;Q++){let ye,xe=oe[Q],we=xe.x,Ee,Ce,Ie=xe.y,Ae=xe.low,Se=N&&((ge=te.stacking)==null?void 0:ge.stacks[(this.negStacks&&Ie<(ee?0:fe)?"-":"")+this.stackKey]);ne=L.translate(we,!1,!1,!1,!0,he),xe.plotX=re(ne)?w(de(ne)):void 0,N&&this.visible&&Se&&Se[we]&&(ue=this.getStackIndicator(ue,we,this.index),!xe.isNull&&ue.key&&(Ce=(Ee=Se[we]).points[ue.key]),Ee&&Y(Ce)&&(Ae=Ce[0],Ie=Ce[1],Ae===ee&&ue.key===Se[we].base&&(Ae=ie(re(fe)?fe:te.min)),te.positiveValuesOnly&&g(Ae)&&Ae<=0&&(Ae=void 0),xe.total=xe.stackTotal=ie(Ee.total),xe.percentage=g(xe.y)&&Ee.total?xe.y/Ee.total*100:void 0,xe.stackY=Ie,this.irregularWidths||Ee.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),xe.yBottom=g(Ae)?de(te.translate(Ae,!1,!0,!1,!0)):void 0,this.dataModify&&(Ie=this.dataModify.modifyValue(Ie,Q)),re(Ie)&&xe.plotX!==void 0&&(ye=re(ye=te.translate(Ie,!1,!0,!1,!0))?de(ye):void 0),xe.plotY=ye,xe.isInside=this.isPointInside(xe),xe.clientX=me?w(L.translate(we,!1,!1,!1,!0,he)):ne,xe.negative=(xe.y||0)<(fe||0),xe.category=ie(X&&X[xe.x],xe.x),xe.isNull||xe.visible===!1||(se!==void 0&&(pe=Math.min(pe,Math.abs(ne-se))),se=ne),xe.zone=this.zones.length?xe.getZone():void 0,!xe.graphic&&this.group&&$&&(xe.isNew=!0)}this.closestPointRangePx=pe,P(this,"afterTranslate")}getValidPoints(x,N,L){let X=this.chart;return(x||this.points||[]).filter(function($){let{plotX:te,plotY:oe}=$;return!!((L||!$.isNull&&re(oe))&&(!N||X.isInsidePlot(te,oe,{inverted:X.inverted})))&&$.visible!==!1})}getClipBox(){let{chart:x,xAxis:N,yAxis:L}=this,{x:X,y:$,width:te,height:oe}=K(x.clipBox);return N&&N.len!==x.plotSizeX&&(te=N.len),L&&L.len!==x.plotSizeY&&(oe=L.len),x.inverted&&!this.invertible&&([te,oe]=[oe,te]),{x:X,y:$,width:te,height:oe}}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:x,group:N,markerGroup:L}=this,X=x.sharedClips,$=x.renderer,te=this.getClipBox(),oe=this.getSharedClipKey(),le=X[oe];le?le.animate(te):X[oe]=le=$.clipRect(te),N&&N.clip(this.options.clip===!1?void 0:le),L&&L.clip()}animate(x){let{chart:N,group:L,markerGroup:X}=this,$=N.inverted,te=C(this.options.animation),oe=[this.getSharedClipKey(),te.duration,te.easing,te.defer].join(","),le=N.sharedClips[oe],he=N.sharedClips[oe+"m"];if(x&&L){let me=this.getClipBox();if(le)le.attr("height",me.height);else{me.width=0,$&&(me.x=N.plotHeight),le=N.renderer.clipRect(me),N.sharedClips[oe]=le;let fe={x:-99,y:-99,width:$?N.plotWidth+199:99,height:$?99:N.plotHeight+199};he=N.renderer.clipRect(fe),N.sharedClips[oe+"m"]=he}L.clip(le),X==null||X.clip(he)}else if(le&&!le.hasClass("highcharts-animating")){let me=this.getClipBox(),fe=te.step;(X!=null&&X.element.childNodes.length||N.series.length>1)&&(te.step=function(ee,Q){fe&&fe.apply(Q,arguments),Q.prop==="width"&&(he!=null&&he.element)&&he.attr($?"height":"width",ee+99)}),le.addClass("highcharts-animating").animate(me,te)}}afterAnimate(){this.setClip(),J(this.chart.sharedClips,(x,N,L)=>{x&&!this.chart.container.querySelector(`[clip-path="url(#${x.id})"]`)&&(x.destroy(),delete L[N])}),this.finishedAnimating=!0,P(this,"afterAnimate")}drawPoints(x=this.points){let N,L,X,$,te,oe,le,he=this.chart,me=he.styledMode,{colorAxis:fe,options:ee}=this,Q=ee.marker,ne=this[this.specialGroup||"markerGroup"],se=this.xAxis,ue=ie(Q.enabled,!se||!!se.isRadial||null,this.closestPointRangePx>=Q.enabledThreshold*Q.radius);if(Q.enabled!==!1||this._hasPointMarkers)for(N=0;N<x.length;N++)if($=(X=(L=x[N]).graphic)?"animate":"attr",te=L.marker||{},oe=!!L.marker,(ue&&te.enabled===void 0||te.enabled)&&!L.isNull&&L.visible!==!1){let pe=ie(te.symbol,this.symbol,"rect");le=this.markerAttribs(L,L.selected&&"select"),this.enabledDataSorting&&(L.startXPos=se.reversed?-(le.width||0):se.width);let de=L.isInside!==!1;if(!X&&de&&((le.width||0)>0||L.hasImage)&&(L.graphic=X=he.renderer.symbol(pe,le.x,le.y,le.width,le.height,oe?te:Q).add(ne),this.enabledDataSorting&&he.hasRendered&&(X.attr({x:L.startXPos}),$="animate")),X&&$==="animate"&&X[de?"show":"hide"](de).animate(le),X){let ge=this.pointAttribs(L,me||!L.selected?void 0:"select");me?fe&&X.css({fill:ge.fill}):X[$](ge)}X&&X.addClass(L.getClassName(),!0)}else X&&(L.graphic=X.destroy())}markerAttribs(x,N){let L=this.options,X=L.marker,$=x.marker||{},te=$.symbol||X.symbol,oe={},le,he,me=ie($.radius,X&&X.radius);N&&(le=X.states[N],me=ie((he=$.states&&$.states[N])&&he.radius,le&&le.radius,me&&me+(le&&le.radiusPlus||0))),x.hasImage=te&&te.indexOf("url")===0,x.hasImage&&(me=0);let fe=x.pos();return re(me)&&fe&&(L.crisp&&(fe[0]=_(fe[0],x.hasImage?0:te==="rect"?(X==null?void 0:X.lineWidth)||0:1)),oe.x=fe[0]-me,oe.y=fe[1]-me),me&&(oe.width=oe.height=2*me),oe}pointAttribs(x,N){let L=this.options.marker,X=x&&x.options,$=X&&X.marker||{},te=X&&X.color,oe=x&&x.color,le=x&&x.zone&&x.zone.color,he,me,fe=this.color,ee,Q,ne=ie($.lineWidth,L.lineWidth),se=1;return fe=te||le||oe||fe,ee=$.fillColor||L.fillColor||fe,Q=$.lineColor||L.lineColor||fe,N=N||"normal",he=L.states[N]||{},ne=ie((me=$.states&&$.states[N]||{}).lineWidth,he.lineWidth,ne+ie(me.lineWidthPlus,he.lineWidthPlus,0)),ee=me.fillColor||he.fillColor||ee,{stroke:Q=me.lineColor||he.lineColor||Q,"stroke-width":ne,fill:ee,opacity:se=ie(me.opacity,he.opacity,se)}}destroy(x){let N,L,X,$=this,te=$.chart,oe=/AppleWebKit\/533/.test(v.navigator.userAgent),le=$.data||[];for(P($,"destroy",{keepEventsForUpdate:x}),this.removeEvents(x),($.axisTypes||[]).forEach(function(he){(X=$[he])&&X.series&&(h(X.series,$),X.isDirty=X.forceRedraw=!0)}),$.legendItem&&$.chart.legend.destroyItem($),N=le.length;N--;)(L=le[N])&&L.destroy&&L.destroy();for(let he of $.zones)d(he,void 0,!0);q.clearTimeout($.animationTimeout),J($,function(he,me){he instanceof F&&!he.survive&&he[oe&&me==="group"?"hide":"destroy"]()}),te.hoverSeries===$&&(te.hoverSeries=void 0),h(te.series,$),te.orderItems("series"),J($,function(he,me){x&&me==="hcEvents"||delete $[me]})}applyZones(){let{area:x,chart:N,graph:L,zones:X,points:$,xAxis:te,yAxis:oe,zoneAxis:le}=this,{inverted:he,renderer:me}=N,fe=this[`${le}Axis`],{isXAxis:ee,len:Q=0}=fe||{},ne=((L==null?void 0:L.strokeWidth())||0)/2+1,se=(ue,pe=0,de=0)=>{he&&(de=Q-de);let{translated:ge=0,lineClip:ye}=ue,xe=de-ge;ye==null||ye.push(["L",pe,Math.abs(xe)<ne?de-ne*(xe<=0?-1:1):ge])};if(X.length&&(L||x)&&fe&&re(fe.min)){let ue=fe.getExtremes().max,pe=ye=>{ye.forEach((xe,we)=>{(xe[0]==="M"||xe[0]==="L")&&(ye[we]=[xe[0],ee?Q-xe[1]:xe[1],ee?xe[2]:Q-xe[2]])})};if(X.forEach(ye=>{ye.lineClip=[],ye.translated=m(fe.toPixels(ie(ye.value,ue),!0)||0,0,Q)}),L&&!this.showLine&&L.hide(),x&&x.hide(),le==="y"&&$.length<te.len)for(let ye of $){let{plotX:xe,plotY:we,zone:Ee}=ye,Ce=Ee&&X[X.indexOf(Ee)-1];Ee&&se(Ee,xe,we),Ce&&se(Ce,xe,we)}let de=[],ge=fe.toPixels(fe.getExtremes().min,!0);X.forEach(ye=>{var qe,ze;let xe=ye.lineClip||[],we=Math.round(ye.translated||0);te.reversed&&xe.reverse();let{clip:Ee,simpleClip:Ce}=ye,Ie=0,Ae=0,Se=te.len,Oe=oe.len;ee?(Ie=we,Se=ge):(Ae=we,Oe=ge);let Le=[["M",Ie,Ae],["L",Se,Ae],["L",Se,Oe],["L",Ie,Oe],["Z"]],Ne=[Le[0],...xe,Le[1],Le[2],...de,Le[3],Le[4]];de=xe.reverse(),ge=we,he&&(pe(Ne),x&&pe(Le)),Ee?(Ee.animate({d:Ne}),Ce==null||Ce.animate({d:Le})):(Ee=ye.clip=me.path(Ne),x&&(Ce=ye.simpleClip=me.path(Le))),L&&((qe=ye.graph)==null||qe.clip(Ee)),x&&((ze=ye.area)==null||ze.clip(Ce))})}else this.visible&&(L&&L.show(),x&&x.show())}plotGroup(x,N,L,X,$){let te=this[x],oe=!te,le={visibility:L,zIndex:X||.1};return g(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(le.opacity=this.opacity),te||(this[x]=te=this.chart.renderer.g().add($)),te.addClass("highcharts-"+N+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(g(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(te.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),te.attr(le)[oe?"attr":"animate"](this.getPlotBox(N)),te}getPlotBox(x){let N=this.xAxis,L=this.yAxis,X=this.chart,$=X.inverted&&!X.polar&&N&&this.invertible&&x==="series";return X.inverted&&(N=L,L=this.xAxis),{translateX:N?N.left:X.plotLeft,translateY:L?L.top:X.plotTop,rotation:$?90:0,rotationOriginX:$?(N.len-L.len)/2:0,rotationOriginY:$?(N.len+L.len)/2:0,scaleX:$?-1:1,scaleY:1}}removeEvents(x){let{eventsToUnbind:N}=this;x||ce(this),N.length&&(N.forEach(L=>{L()}),N.length=0)}render(){var me,fe,ee,Q,ne;let x=this,{chart:N,options:L,hasRendered:X}=x,$=C(L.animation),te=x.visible?"inherit":"hidden",oe=L.zIndex,le=N.seriesGroup,he=x.finishedAnimating?0:$.duration;P(this,"render"),x.plotGroup("group","series",te,oe,le),x.markerGroup=x.plotGroup("markerGroup","markers",te,oe,le),L.clip!==!1&&x.setClip(),he&&((me=x.animate)==null||me.call(x,!0)),x.drawGraph&&(x.drawGraph(),x.applyZones()),x.visible&&x.drawPoints(),(fe=x.drawDataLabels)==null||fe.call(x),(ee=x.redrawPoints)==null||ee.call(x),L.enableMouseTracking&&((Q=x.drawTracker)==null||Q.call(x)),he&&((ne=x.animate)==null||ne.call(x)),X||(he&&$.defer&&(he+=$.defer),x.animationTimeout=M(()=>{x.afterAnimate()},he||0)),x.isDirty=!1,x.hasRendered=!0,P(x,"afterRender")}redraw(){let x=this.isDirty||this.isDirtyData;this.translate(),this.render(),x&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(x,N){let{xAxis:L,yAxis:X}=this,$=this.chart.inverted;return this.searchKDTree({clientX:$?L.len-x.chartY+L.pos:x.chartX-L.pos,plotY:$?X.len-x.chartX+X.pos:x.chartY-X.pos},N,x)}buildKDTree(x){this.buildingKdTree=!0;let N=this,L=N.options.findNearestPointBy.indexOf("y")>-1?2:1;delete N.kdTree,M(function(){N.kdTree=function X($,te,oe){let le,he,me=$==null?void 0:$.length;if(me)return le=N.kdAxisArray[te%oe],$.sort((fe,ee)=>(fe[le]||0)-(ee[le]||0)),{point:$[he=Math.floor(me/2)],left:X($.slice(0,he),te+1,oe),right:X($.slice(he+1),te+1,oe)}}(N.getValidPoints(void 0,!N.directTouch),L,L),N.buildingKdTree=!1},N.options.kdNow||(x==null?void 0:x.type)==="touchstart"?0:1)}searchKDTree(x,N,L){let X=this,[$,te]=this.kdAxisArray,oe=N?"distX":"dist",le=(X.options.findNearestPointBy||"").indexOf("y")>-1?2:1,he=!!X.isBubble;if(this.kdTree||this.buildingKdTree||this.buildKDTree(L),this.kdTree)return function me(fe,ee,Q,ne){var Ee;let se=ee.point,ue=X.kdAxisArray[Q%ne],pe,de,ge=se;(function(Ce,Ie){var et;let Ae=Ce[$],Se=Ie[$],Oe=g(Ae)&&g(Se)?Ae-Se:null,Le=Ce[te],Ne=Ie[te],qe=g(Le)&&g(Ne)?Le-Ne:0,ze=he&&((et=Ie.marker)==null?void 0:et.radius)||0;Ie.dist=Math.sqrt((Oe&&Oe*Oe||0)+qe*qe)-ze,Ie.distX=g(Oe)?Math.abs(Oe)-ze:Number.MAX_VALUE})(fe,se);let ye=(fe[ue]||0)-(se[ue]||0)+(he&&((Ee=se.marker)==null?void 0:Ee.radius)||0),xe=ye<0?"left":"right",we=ye<0?"right":"left";return ee[xe]&&(ge=(pe=me(fe,ee[xe],Q+1,ne))[oe]<ge[oe]?pe:se),ee[we]&&Math.sqrt(ye*ye)<ge[oe]&&(ge=(de=me(fe,ee[we],Q+1,ne))[oe]<ge[oe]?de:ge),ge}(x,this.kdTree,le,le)}pointPlacementToXValue(){let{options:x,xAxis:N}=this,L=x.pointPlacement;return L==="between"&&(L=N.reversed?-.5:.5),re(L)?L*(x.pointRange||N.pointRange):0}isPointInside(x){let{chart:N,xAxis:L,yAxis:X}=this,{plotX:$=-1,plotY:te=-1}=x;return te>=0&&te<=(X?X.len:N.plotHeight)&&$>=0&&$<=(L?L.len:N.plotWidth)}drawTracker(){var ee;let x=this,N=x.options,L=N.trackByArea,X=[].concat((L?x.areaPath:x.graphPath)||[]),$=x.chart,te=$.pointer,oe=$.renderer,le=((ee=$.options.tooltip)==null?void 0:ee.snap)||0,he=()=>{N.enableMouseTracking&&$.hoverSeries!==x&&x.onMouseOver()},me="rgba(192,192,192,"+(p?1e-4:.002)+")",fe=x.tracker;fe?fe.attr({d:X}):x.graph&&(x.tracker=fe=oe.path(X).attr({visibility:x.visible?"inherit":"hidden",zIndex:2}).addClass(L?"highcharts-tracker-area":"highcharts-tracker-line").add(x.group),$.styledMode||fe.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:me,fill:L?me:"none","stroke-width":x.graph.strokeWidth()+(L?0:2*le)}),[x.tracker,x.markerGroup,x.dataLabelsGroup].forEach(Q=>{Q&&(Q.addClass("highcharts-tracker").on("mouseover",he).on("mouseout",ne=>{te==null||te.onTrackerMouseOut(ne)}),N.cursor&&!$.styledMode&&Q.css({cursor:N.cursor}),Q.on("touchstart",he))})),P(this,"afterDrawTracker")}addPoint(x,N,L,X,$){let te,oe,le=this.options,he=this.data,me=this.chart,fe=this.xAxis,ee=fe&&fe.hasNames&&fe.names,Q=le.data,ne=this.xData;N=ie(N,!0);let se={series:this};this.pointClass.prototype.applyOptions.apply(se,[x]);let ue=se.x;if(oe=ne.length,this.requireSorting&&ue<ne[oe-1])for(te=!0;oe&&ne[oe-1]>ue;)oe--;this.updateParallelArrays(se,"splice",[oe,0,0]),this.updateParallelArrays(se,oe),ee&&se.name&&(ee[ue]=se.name),Q.splice(oe,0,x),(te||this.processedData)&&(this.data.splice(oe,0,null),this.processData()),le.legendType==="point"&&this.generatePoints(),L&&(he[0]&&he[0].remove?he[0].remove(!1):(he.shift(),this.updateParallelArrays(se,"shift"),Q.shift())),$!==!1&&P(this,"addPoint",{point:se}),this.isDirty=!0,this.isDirtyData=!0,N&&me.redraw(X)}removePoint(x,N,L){let X=this,$=X.data,te=$[x],oe=X.points,le=X.chart,he=function(){oe&&oe.length===$.length&&oe.splice(x,1),$.splice(x,1),X.options.data.splice(x,1),X.updateParallelArrays(te||{series:X},"splice",[x,1]),te&&te.destroy(),X.isDirty=!0,X.isDirtyData=!0,N&&le.redraw()};W(L,le),N=ie(N,!0),te?te.firePointEvent("remove",null,he):he()}remove(x,N,L,X){let $=this,te=$.chart;function oe(){$.destroy(X),te.isDirtyLegend=te.isDirtyBox=!0,te.linkSeries(X),ie(x,!0)&&te.redraw(N)}L!==!1?P($,"remove",null,oe):oe()}update(x,N){var pe,de,ge;P(this,"update",{options:x=y(x,this.userOptions)});let L=this,X=L.chart,$=L.userOptions,te=L.initialType||L.type,oe=X.options.plotOptions,le=b[te].prototype,he=L.finishedAnimating&&{animation:!1},me={},fe,ee,Q=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],ne=x.type||$.type||X.options.chart.type,se=!(this.hasDerivedData||ne&&ne!==this.type||x.pointStart!==void 0||x.pointInterval!==void 0||x.relativeXValue!==void 0||x.joinBy||x.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(ye=>L.hasOptionChanged(ye)));ne=ne||te,se&&(Q.push("data","isDirtyData","isDirtyCanvas","points","processedData","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"),x.visible!==!1&&Q.push("area","graph"),L.parallelArrays.forEach(function(ye){Q.push(ye+"Data")}),x.data&&(x.dataSorting&&u(L.options.dataSorting,x.dataSorting),this.setData(x.data,!1))),x=K($,{index:$.index===void 0?L.index:$.index,pointStart:((pe=oe==null?void 0:oe.series)==null?void 0:pe.pointStart)??$.pointStart??((de=L.xData)==null?void 0:de[0])},!se&&{data:L.options.data},x,he),se&&x.data&&(x.data=L.options.data),(Q=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(Q)).forEach(function(ye){Q[ye]=L[ye],delete L[ye]});let ue=!1;if(b[ne]){if(ue=ne!==L.type,L.remove(!1,!1,!1,!0),ue)if(X.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(L,b[ne].prototype);else{let ye=Object.hasOwnProperty.call(L,"hcEvents")&&L.hcEvents;for(ee in le)L[ee]=void 0;u(L,b[ne].prototype),ye?L.hcEvents=ye:delete L.hcEvents}}else c(17,!0,X,{missingModuleFor:ne});if(Q.forEach(function(ye){L[ye]=Q[ye]}),L.init(X,x),se&&this.points)for(let ye of((fe=L.options).visible===!1?(me.graphic=1,me.dataLabel=1):(this.hasMarkerChanged(fe,$)&&(me.graphic=1),(ge=L.hasDataLabels)!=null&&ge.call(L)||(me.dataLabel=1)),this.points))ye&&ye.series&&(ye.resolveColor(),Object.keys(me).length&&ye.destroyElements(me),fe.showInLegend===!1&&ye.legendItem&&X.legend.destroyItem(ye));L.initialType=te,X.linkSeries(),X.setSortedData(),ue&&L.linkedSeries.length&&(L.isDirtyData=!0),P(this,"afterUpdate"),ie(N,!0)&&X.redraw(!!se&&void 0)}setName(x){this.name=this.options.name=this.userOptions.name=x,this.chart.isDirtyLegend=!0}hasOptionChanged(x){var oe,le;let N=this.chart,L=this.options[x],X=N.options.plotOptions,$=this.userOptions[x],te=ie((oe=X==null?void 0:X[this.type])==null?void 0:oe[x],(le=X==null?void 0:X.series)==null?void 0:le[x]);return $&&!g(te)?L!==$:L!==ie(te,L)}onMouseOver(){let x=this.chart,N=x.hoverSeries,L=x.pointer;L==null||L.setHoverChartIndex(),N&&N!==this&&N.onMouseOut(),this.options.events.mouseOver&&P(this,"mouseOver"),this.setState("hover"),x.hoverSeries=this}onMouseOut(){let x=this.options,N=this.chart,L=N.tooltip,X=N.hoverPoint;N.hoverSeries=null,X&&X.onMouseOut(),this&&x.events.mouseOut&&P(this,"mouseOut"),L&&!this.stickyTracking&&(!L.shared||this.noSharedTooltip)&&L.hide(),N.series.forEach(function($){$.setState("",!0)})}setState(x,N){let L=this,X=L.options,$=L.graph,te=X.inactiveOtherPoints,oe=X.states,le=ie(oe[x||"normal"]&&oe[x||"normal"].animation,L.chart.options.chart.animation),he=X.lineWidth,me=X.opacity;if(x=x||"",L.state!==x&&([L.group,L.markerGroup,L.dataLabelsGroup].forEach(function(fe){fe&&(L.state&&fe.removeClass("highcharts-series-"+L.state),x&&fe.addClass("highcharts-series-"+x))}),L.state=x,!L.chart.styledMode)){if(oe[x]&&oe[x].enabled===!1)return;if(x&&(he=oe[x].lineWidth||he+(oe[x].lineWidthPlus||0),me=ie(oe[x].opacity,me)),$&&!$.dashstyle&&re(he))for(let fe of[$,...this.zones.map(ee=>ee.graph)])fe==null||fe.animate({"stroke-width":he},le);te||[L.group,L.markerGroup,L.dataLabelsGroup,L.labelBySeries].forEach(function(fe){fe&&fe.animate({opacity:me},le)})}N&&te&&L.points&&L.setAllPointsToState(x||void 0)}setAllPointsToState(x){this.points.forEach(function(N){N.setState&&N.setState(x)})}setVisible(x,N){var le;let L=this,X=L.chart,$=X.options.chart.ignoreHiddenSeries,te=L.visible;L.visible=x=L.options.visible=L.userOptions.visible=x===void 0?!te:x;let oe=x?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(he=>{var me;(me=L[he])==null||me[oe]()}),(X.hoverSeries===L||((le=X.hoverPoint)==null?void 0:le.series)===L)&&L.onMouseOut(),L.legendItem&&X.legend.colorizeItem(L,x),L.isDirty=!0,L.options.stacking&&X.series.forEach(he=>{he.options.stacking&&he.visible&&(he.isDirty=!0)}),L.linkedSeries.forEach(he=>{he.setVisible(x,!1)}),$&&(X.isDirtyBox=!0),P(L,oe),N!==!1&&X.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(x){this.selected=x=this.options.selected=x===void 0?!this.selected:x,this.checkbox&&(this.checkbox.checked=x),P(this,x?"select":"unselect")}shouldShowTooltip(x,N,L={}){return L.series=this,L.visiblePlotOnly=!0,this.chart.isInsidePlot(x,N,L)}drawLegendSymbol(x,N){var L;(L=f[this.options.legendSymbol||"rectangle"])==null||L.call(this,x,N)}}return U.defaultOptions=z,U.types=j.seriesTypes,U.registerType=j.registerSeriesType,u(U.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:S,requireSorting:!0,sorted:!0}),j.series=U,U}),n(i,"Core/Legend/Legend.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Series/Point.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Templating.js"],i["Core/Utilities.js"]],function(r,s,o,l,f,S,z,j){var F;let{animObject:q,setAnimation:C}=r,{registerEventOptions:W}=s,{composed:G,marginNames:A}=o,{distribute:p}=S,{format:v}=z,{addEvent:b,createElement:O,css:T,defined:m,discardElement:w,find:_,fireEvent:g,isNumber:d,merge:y,pick:h,pushUnique:c,relativeLength:u,stableSort:k,syncTimeout:P}=j;class R{constructor(I,Y){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=I,this.setOptions(Y),Y.enabled&&(this.render(),W(this,Y),b(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),b(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(I){let Y=h(I.padding,8);this.options=I,this.chart.styledMode||(this.itemStyle=I.itemStyle,this.itemHiddenStyle=y(this.itemStyle,I.itemHiddenStyle)),this.itemMarginTop=I.itemMarginTop,this.itemMarginBottom=I.itemMarginBottom,this.padding=Y,this.initialItemY=Y-5,this.symbolWidth=h(I.symbolWidth,16),this.pages=[],this.proximate=I.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(I,Y){let re=this.chart;this.setOptions(y(!0,this.options,I)),"events"in this.options&&W(this,this.options),this.destroy(),re.isDirtyLegend=re.isDirtyBox=!0,h(Y,!0)&&re.redraw(),g(this,"afterUpdate",{redraw:Y})}colorizeItem(I,Y){let{area:re,group:V,label:K,line:J,symbol:ie}=I.legendItem||{};if(V==null||V[Y?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:ce={}}=this,D=ce.color,{fillColor:M,fillOpacity:U,lineColor:Z,marker:x}=I.options,N=L=>(!Y&&(L.fill&&(L.fill=D),L.stroke&&(L.stroke=D)),L);K==null||K.css(y(Y?this.itemStyle:ce)),J==null||J.attr(N({stroke:Z||I.color})),ie&&ie.attr(N(x&&ie.isMarker?I.pointAttribs():{fill:I.color})),re==null||re.attr(N({fill:M||I.color,"fill-opacity":M?1:U??.75}))}g(this,"afterColorizeItem",{item:I,visible:Y})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(I){let{group:Y,x:re=0,y:V=0}=I.legendItem||{},K=this.options,J=K.symbolPadding,ie=!K.rtl,ce=I.checkbox;if(Y&&Y.element){let D={translateX:ie?re:this.legendWidth-re-2*J-4,translateY:V};Y[m(Y.translateY)?"animate":"attr"](D,void 0,()=>{g(this,"afterPositionItem",{item:I})})}ce&&(ce.x=re,ce.y=V)}destroyItem(I){let Y=I.checkbox,re=I.legendItem||{};for(let V of["group","label","line","symbol"])re[V]&&(re[V]=re[V].destroy());Y&&w(Y),I.legendItem=void 0}destroy(){for(let I of this.getAllItems())this.destroyItem(I);for(let I of["clipRect","up","down","pager","nav","box","title","group"])this[I]&&(this[I]=this[I].destroy());this.display=null}positionCheckboxes(){let I,Y=this.group&&this.group.alignAttr,re=this.clipHeight||this.legendHeight,V=this.titleHeight;Y&&(I=Y.translateY,this.allItems.forEach(function(K){let J,ie=K.checkbox;ie&&(J=I+V+ie.y+(this.scrollOffset||0)+3,T(ie,{left:Y.translateX+K.checkboxOffset+ie.x-20+"px",top:J+"px",display:this.proximate||J>I-6&&J<I+re-6?"":"none"}))},this))}renderTitle(){let I=this.options,Y=this.padding,re=I.title,V,K=0;re.text&&(this.title||(this.title=this.chart.renderer.label(re.text,Y-3,Y-4,void 0,void 0,void 0,I.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(re.style),this.title.add(this.group)),re.width||this.title.css({width:this.maxLegendWidth+"px"}),K=(V=this.title.getBBox()).height,this.offsetWidth=V.width,this.contentGroup.attr({translateY:K})),this.titleHeight=K}setText(I){let Y=this.options;I.legendItem.label.attr({text:Y.labelFormat?v(Y.labelFormat,I,this.chart):Y.labelFormatter.call(I)})}renderItem(I){let Y=I.legendItem=I.legendItem||{},re=this.chart,V=re.renderer,K=this.options,J=K.layout==="horizontal",ie=this.symbolWidth,ce=K.symbolPadding||0,D=this.itemStyle,M=this.itemHiddenStyle,U=J?h(K.itemDistance,20):0,Z=!K.rtl,x=!I.series,N=!x&&I.series.drawLegendSymbol?I.series:I,L=N.options,X=!!this.createCheckboxForItem&&L&&L.showCheckbox,$=K.useHTML,te=I.options.className,oe=Y.label,le=ie+ce+U+(X?20:0);!oe&&(Y.group=V.g("legend-item").addClass("highcharts-"+N.type+"-series highcharts-color-"+I.colorIndex+(te?" "+te:"")+(x?" highcharts-series-"+I.index:"")).attr({zIndex:1}).add(this.scrollGroup),Y.label=oe=V.text("",Z?ie+ce:-ce,this.baseline||0,$),re.styledMode||oe.css(y(I.visible?D:M)),oe.attr({align:Z?"left":"right",zIndex:2}).add(Y.group),!this.baseline&&(this.fontMetrics=V.fontMetrics(oe),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,oe.attr("y",this.baseline),this.symbolHeight=h(K.symbolHeight,this.fontMetrics.f),K.squareSymbol&&(this.symbolWidth=h(K.symbolWidth,Math.max(this.symbolHeight,16)),le=this.symbolWidth+ce+U+(X?20:0),Z&&oe.attr("x",this.symbolWidth+ce))),N.drawLegendSymbol(this,I),this.setItemEvents&&this.setItemEvents(I,oe,$)),X&&!I.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(I),this.colorizeItem(I,I.visible),(re.styledMode||!D.width)&&oe.css({width:(K.itemWidth||this.widthOption||re.spacingBox.width)-le+"px"}),this.setText(I);let he=oe.getBBox(),me=this.fontMetrics&&this.fontMetrics.h||0;I.itemWidth=I.checkboxOffset=K.itemWidth||Y.labelWidth||he.width+le,this.maxItemWidth=Math.max(this.maxItemWidth,I.itemWidth),this.totalItemWidth+=I.itemWidth,this.itemHeight=I.itemHeight=Math.round(Y.labelHeight||(he.height>1.5*me?he.height:me))}layoutItem(I){let Y=this.options,re=this.padding,V=Y.layout==="horizontal",K=I.itemHeight,J=this.itemMarginBottom,ie=this.itemMarginTop,ce=V?h(Y.itemDistance,20):0,D=this.maxLegendWidth,M=Y.alignColumns&&this.totalItemWidth>D?this.maxItemWidth:I.itemWidth,U=I.legendItem||{};V&&this.itemX-re+M>D&&(this.itemX=re,this.lastLineHeight&&(this.itemY+=ie+this.lastLineHeight+J),this.lastLineHeight=0),this.lastItemY=ie+this.itemY+J,this.lastLineHeight=Math.max(K,this.lastLineHeight),U.x=this.itemX,U.y=this.itemY,V?this.itemX+=M:(this.itemY+=ie+K+J,this.lastLineHeight=K),this.offsetWidth=this.widthOption||Math.max((V?this.itemX-re-(I.checkbox?0:ce):M)+re,this.offsetWidth)}getAllItems(){let I=[];return this.chart.series.forEach(function(Y){let re=Y&&Y.options;Y&&h(re.showInLegend,!m(re.linkedTo)&&void 0,!0)&&(I=I.concat((Y.legendItem||{}).labels||(re.legendType==="point"?Y.data:Y)))}),g(this,"afterGetAllItems",{allItems:I}),I}getAlignment(){let I=this.options;return this.proximate?I.align.charAt(0)+"tv":I.floating?"":I.align.charAt(0)+I.verticalAlign.charAt(0)+I.layout.charAt(0)}adjustMargins(I,Y){let re=this.chart,V=this.options,K=this.getAlignment();K&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(J,ie){J.test(K)&&!m(I[ie])&&(re[A[ie]]=Math.max(re[A[ie]],re.legend[(ie+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][ie]*V[ie%2?"x":"y"]+h(V.margin,12)+Y[ie]+(re.titleOffset[ie]||0)))})}proximatePositions(){let I,Y=this.chart,re=[],V=this.options.align==="left";for(let K of(this.allItems.forEach(function(J){let ie,ce,D=V,M,U;J.yAxis&&(J.xAxis.options.reversed&&(D=!D),J.points&&(ie=_(D?J.points:J.points.slice(0).reverse(),function(Z){return d(Z.plotY)})),ce=this.itemMarginTop+J.legendItem.label.getBBox().height+this.itemMarginBottom,U=J.yAxis.top-Y.plotTop,M=J.visible?(ie?ie.plotY:J.yAxis.height)+(U-.3*ce):U+J.yAxis.height,re.push({target:M,size:ce,item:J}))},this),p(re,Y.plotHeight)))I=K.item.legendItem||{},d(K.pos)&&(I.y=Y.plotTop-Y.spacing[0]+K.pos)}render(){let I=this.chart,Y=I.renderer,re=this.options,V=this.padding,K=this.getAllItems(),J,ie,ce,D=this.group,M,U=this.box;this.itemX=V,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=u(re.width,I.spacingBox.width-V),M=I.spacingBox.width-2*V-re.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(M/=2),this.maxLegendWidth=this.widthOption||M,D||(this.group=D=Y.g("legend").addClass(re.className||"").attr({zIndex:7}).add(),this.contentGroup=Y.g().attr({zIndex:1}).add(D),this.scrollGroup=Y.g().add(this.contentGroup)),this.renderTitle(),k(K,(Z,x)=>(Z.options&&Z.options.legendIndex||0)-(x.options&&x.options.legendIndex||0)),re.reversed&&K.reverse(),this.allItems=K,this.display=J=!!K.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,K.forEach(this.renderItem,this),K.forEach(this.layoutItem,this),ie=(this.widthOption||this.offsetWidth)+V,ce=this.lastItemY+this.lastLineHeight+this.titleHeight,ce=this.handleOverflow(ce)+V,U||(this.box=U=Y.rect().addClass("highcharts-legend-box").attr({r:re.borderRadius}).add(D)),I.styledMode||U.attr({stroke:re.borderColor,"stroke-width":re.borderWidth||0,fill:re.backgroundColor||"none"}).shadow(re.shadow),ie>0&&ce>0&&U[U.placed?"animate":"attr"](U.crisp.call({},{x:0,y:0,width:ie,height:ce},U.strokeWidth())),D[J?"show":"hide"](),I.styledMode&&D.getStyle("display")==="none"&&(ie=ce=0),this.legendWidth=ie,this.legendHeight=ce,J&&this.align(),this.proximate||this.positionItems(),g(this,"afterRender")}align(I=this.chart.spacingBox){let Y=this.chart,re=this.options,V=I.y;/(lth|ct|rth)/.test(this.getAlignment())&&Y.titleOffset[0]>0?V+=Y.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&Y.titleOffset[2]>0&&(V-=Y.titleOffset[2]),V!==I.y&&(I=y(I,{y:V})),Y.hasRendered||(this.group.placed=!1),this.group.align(y(re,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":re.verticalAlign}),!0,I)}handleOverflow(I){let Y=this,re=this.chart,V=re.renderer,K=this.options,J=K.y,ie=K.verticalAlign==="top",ce=this.padding,D=K.maxHeight,M=K.navigation,U=h(M.animation,!0),Z=M.arrowSize||12,x=this.pages,N=this.allItems,L=function(fe){typeof fe=="number"?me.attr({height:fe}):me&&(Y.clipRect=me.destroy(),Y.contentGroup.clip()),Y.contentGroup.div&&(Y.contentGroup.div.style.clip=fe?"rect("+ce+"px,9999px,"+(ce+fe)+"px,0)":"auto")},X=function(fe){return Y[fe]=V.circle(0,0,1.3*Z).translate(Z/2,Z/2).add(he),re.styledMode||Y[fe].attr("fill","rgba(0,0,0,0.0001)"),Y[fe]},$,te,oe,le=re.spacingBox.height+(ie?-J:J)-ce,he=this.nav,me=this.clipRect;return K.layout!=="horizontal"||K.verticalAlign==="middle"||K.floating||(le/=2),D&&(le=Math.min(le,D)),x.length=0,I&&le>0&&I>le&&M.enabled!==!1?(this.clipHeight=$=Math.max(le-20-this.titleHeight-ce,0),this.currentPage=h(this.currentPage,1),this.fullHeight=I,N.forEach((fe,ee)=>{let Q=(oe=fe.legendItem||{}).y||0,ne=Math.round(oe.label.getBBox().height),se=x.length;(!se||Q-x[se-1]>$&&(te||Q)!==x[se-1])&&(x.push(te||Q),se++),oe.pageIx=se-1,te&&((N[ee-1].legendItem||{}).pageIx=se-1),ee===N.length-1&&Q+ne-x[se-1]>$&&Q>x[se-1]&&(x.push(Q),oe.pageIx=se),Q!==te&&(te=Q)}),me||(me=Y.clipRect=V.clipRect(0,ce-2,9999,0),Y.contentGroup.clip(me)),L($),he||(this.nav=he=V.g().attr({zIndex:1}).add(this.group),this.up=V.symbol("triangle",0,0,Z,Z).add(he),X("upTracker").on("click",function(){Y.scroll(-1,U)}),this.pager=V.text("",15,10).addClass("highcharts-legend-navigation"),!re.styledMode&&M.style&&this.pager.css(M.style),this.pager.add(he),this.down=V.symbol("triangle-down",0,0,Z,Z).add(he),X("downTracker").on("click",function(){Y.scroll(1,U)})),Y.scroll(0),I=le):he&&(L(),this.nav=he.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),I}scroll(I,Y){let re=this.chart,V=this.pages,K=V.length,J=this.clipHeight,ie=this.options.navigation,ce=this.pager,D=this.padding,M=this.currentPage+I;M>K&&(M=K),M>0&&(Y!==void 0&&C(Y,re),this.nav.attr({translateX:D,translateY:J+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(U){U.attr({class:M===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),ce.attr({text:M+"/"+K}),[this.down,this.downTracker].forEach(function(U){U.attr({x:18+this.pager.getBBox().width,class:M===K?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),re.styledMode||(this.up.attr({fill:M===1?ie.inactiveColor:ie.activeColor}),this.upTracker.css({cursor:M===1?"default":"pointer"}),this.down.attr({fill:M===K?ie.inactiveColor:ie.activeColor}),this.downTracker.css({cursor:M===K?"default":"pointer"})),this.scrollOffset=-V[M-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=M,this.positionCheckboxes(),P(()=>{g(this,"afterScroll",{currentPage:M})},q(h(Y,re.renderer.globalAnimation,!0)).duration))}setItemEvents(I,Y,re){let V=this,K=I.legendItem||{},J=V.chart.renderer.boxWrapper,ie=I instanceof f,ce=I instanceof l,D="highcharts-legend-"+(ie?"point":"series")+"-active",M=V.chart.styledMode,U=re?[Y,K.symbol]:[K.group],Z=x=>{V.allItems.forEach(N=>{I!==N&&[N].concat(N.linkedSeries||[]).forEach(L=>{L.setState(x,!ie)})})};for(let x of U)x&&x.on("mouseover",function(){I.visible&&Z("inactive"),I.setState("hover"),I.visible&&J.addClass(D),M||Y.css(V.options.itemHoverStyle)}).on("mouseout",function(){V.chart.styledMode||Y.css(y(I.visible?V.itemStyle:V.itemHiddenStyle)),Z(""),J.removeClass(D),I.setState()}).on("click",function(N){let L=function(){I.setVisible&&I.setVisible(),Z(I.visible?"inactive":"")};J.removeClass(D),g(V,"itemClick",{browserEvent:N,legendItem:I},L),ie?I.firePointEvent("legendItemClick",{browserEvent:N}):ce&&g(I,"legendItemClick",{browserEvent:N})})}createCheckboxForItem(I){I.checkbox=O("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:I.selected,defaultChecked:I.selected},this.options.itemCheckboxStyle,this.chart.container),b(I.checkbox,"click",function(Y){let re=Y.target;g(I.series||I,"checkboxClick",{checked:re.checked,item:I},function(){I.select()})})}}return(F=R||(R={})).compose=function(B){c(G,"Core.Legend")&&b(B,"beforeMargins",function(){this.legend=new F(this,this.options.legend)})},R}),n(i,"Core/Chart/Chart.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Defaults.js"],i["Core/Templating.js"],i["Core/Foundation.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Time.js"],i["Core/Utilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/Axis/Tick.js"]],function(r,s,o,l,f,S,z,j,F,q,C,W,G,A){let{animate:p,animObject:v,setAnimation:b}=r,{defaultOptions:O,defaultTime:T}=o,{numberFormat:m}=l,{registerEventOptions:w}=f,{charts:_,doc:g,marginNames:d,svg:y,win:h}=S,{seriesTypes:c}=F,{addEvent:u,attr:k,createElement:P,css:R,defined:B,diffObjects:I,discardElement:Y,erase:re,error:V,extend:K,find:J,fireEvent:ie,getStyle:ce,isArray:D,isNumber:M,isObject:U,isString:Z,merge:x,objectEach:N,pick:L,pInt:X,relativeLength:$,removeEvent:te,splat:oe,syncTimeout:le,uniqueKey:he}=W;class me{static chart(ee,Q,ne){return new me(ee,Q,ne)}constructor(ee,Q,ne){this.sharedClips={};let se=[...arguments];(Z(ee)||ee.nodeName)&&(this.renderTo=se.shift()),this.init(se[0],se[1])}setZoomOptions(){let ee=this.options.chart,Q=ee.zooming;this.zooming={...Q,type:L(ee.zoomType,Q.type),key:L(ee.zoomKey,Q.key),pinchType:L(ee.pinchType,Q.pinchType),singleTouch:L(ee.zoomBySingleTouch,Q.singleTouch,!1),resetButton:x(Q.resetButton,ee.resetZoomButton)}}init(ee,Q){ie(this,"init",{args:arguments},function(){let ne=x(O,ee),se=ne.chart;this.userOptions=K({},ee),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=Q,this.isResizing=0,this.options=ne,this.axes=[],this.series=[],this.time=ee.time&&Object.keys(ee.time).length?new C(ee.time):S.time,this.numberFormatter=se.numberFormatter||m,this.styledMode=se.styledMode,this.hasCartesianSeries=se.showAxes,this.index=_.length,_.push(this),S.chartCount++,w(this,se),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),ie(this,"afterInit"),this.firstRender()})}initSeries(ee){let Q=this.options.chart,ne=ee.type||Q.type,se=c[ne];se||V(17,!0,this,{missingModuleFor:ne});let ue=new se;return typeof ue.init=="function"&&ue.init(this,ee),ue}setSortedData(){this.getSeriesOrderByLinks().forEach(function(ee){ee.points||ee.data||!ee.enabledDataSorting||ee.setData(ee.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(ee,Q){return ee.linkedSeries.length||Q.linkedSeries.length?Q.linkedSeries.length-ee.linkedSeries.length:0})}orderItems(ee,Q=0){let ne=this[ee],se=this.options[ee]=oe(this.options[ee]).slice(),ue=this.userOptions[ee]=this.userOptions[ee]?oe(this.userOptions[ee]).slice():[];if(this.hasRendered&&(se.splice(Q),ue.splice(Q)),ne)for(let pe=Q,de=ne.length;pe<de;++pe){let ge=ne[pe];ge&&(ge.index=pe,ge instanceof j&&(ge.name=ge.getName()),ge.options.isInternal||(se[pe]=ge.options,ue[pe]=ge.userOptions))}}isInsidePlot(ee,Q,ne={}){var Se;let{inverted:se,plotBox:ue,plotLeft:pe,plotTop:de,scrollablePlotBox:ge}=this,{scrollLeft:ye=0,scrollTop:xe=0}=ne.visiblePlotOnly&&((Se=this.scrollablePlotArea)==null?void 0:Se.scrollingContainer)||{},we=ne.series,Ee=ne.visiblePlotOnly&&ge||ue,Ce=ne.inverted?Q:ee,Ie=ne.inverted?ee:Q,Ae={x:Ce,y:Ie,isInsidePlot:!0,options:ne};if(!ne.ignoreX){let Oe=we&&(se&&!this.polar?we.yAxis:we.xAxis)||{pos:pe,len:1/0},Le=ne.paneCoordinates?Oe.pos+Ce:pe+Ce;Le>=Math.max(ye+pe,Oe.pos)&&Le<=Math.min(ye+pe+Ee.width,Oe.pos+Oe.len)||(Ae.isInsidePlot=!1)}if(!ne.ignoreY&&Ae.isInsidePlot){let Oe=!se&&ne.axis&&!ne.axis.isXAxis&&ne.axis||we&&(se?we.xAxis:we.yAxis)||{pos:de,len:1/0},Le=ne.paneCoordinates?Oe.pos+Ie:de+Ie;Le>=Math.max(xe+de,Oe.pos)&&Le<=Math.min(xe+de+Ee.height,Oe.pos+Oe.len)||(Ae.isInsidePlot=!1)}return ie(this,"afterIsInsidePlot",Ae),Ae.isInsidePlot}redraw(ee){ie(this,"beforeRedraw");let Q=this.hasCartesianSeries?this.axes:this.colorAxis||[],ne=this.series,se=this.pointer,ue=this.legend,pe=this.userOptions.legend,de=this.renderer,ge=de.isHidden(),ye=[],xe,we,Ee,Ce=this.isDirtyBox,Ie=this.isDirtyLegend,Ae;for(de.rootFontSize=de.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),b(!!this.hasRendered&&ee,this),ge&&this.temporaryDisplay(),this.layOutTitles(!1),Ee=ne.length;Ee--;)if(((Ae=ne[Ee]).options.stacking||Ae.options.centerInCategory)&&(we=!0,Ae.isDirty)){xe=!0;break}if(xe)for(Ee=ne.length;Ee--;)(Ae=ne[Ee]).options.stacking&&(Ae.isDirty=!0);ne.forEach(function(Se){Se.isDirty&&(Se.options.legendType==="point"?(typeof Se.updateTotals=="function"&&Se.updateTotals(),Ie=!0):pe&&(pe.labelFormatter||pe.labelFormat)&&(Ie=!0)),Se.isDirtyData&&ie(Se,"updatedData")}),Ie&&ue&&ue.options.enabled&&(ue.render(),this.isDirtyLegend=!1),we&&this.getStacks(),Q.forEach(function(Se){Se.updateNames(),Se.setScale()}),this.getMargins(),Q.forEach(function(Se){Se.isDirty&&(Ce=!0)}),Q.forEach(function(Se){let Oe=Se.min+","+Se.max;Se.extKey!==Oe&&(Se.extKey=Oe,ye.push(function(){ie(Se,"afterSetExtremes",K(Se.eventArgs,Se.getExtremes())),delete Se.eventArgs})),(Ce||we)&&Se.redraw()}),Ce&&this.drawChartBox(),ie(this,"predraw"),ne.forEach(function(Se){(Ce||Se.isDirty)&&Se.visible&&Se.redraw(),Se.isDirtyData=!1}),se&&se.reset(!0),de.draw(),ie(this,"redraw"),ie(this,"render"),ge&&this.temporaryDisplay(!0),ye.forEach(function(Se){Se.call()})}get(ee){let Q=this.series;function ne(ue){return ue.id===ee||ue.options&&ue.options.id===ee}let se=J(this.axes,ne)||J(this.series,ne);for(let ue=0;!se&&ue<Q.length;ue++)se=J(Q[ue].points||[],ne);return se}getAxes(){let ee=this.userOptions;for(let Q of(ie(this,"getAxes"),["xAxis","yAxis"]))for(let ne of ee[Q]=oe(ee[Q]||{}))new s(this,ne,Q);ie(this,"afterGetAxes")}getSelectedPoints(){return this.series.reduce((ee,Q)=>(Q.getPointsCollection().forEach(ne=>{L(ne.selectedStaging,ne.selected)&&ee.push(ne)}),ee),[])}getSelectedSeries(){return this.series.filter(function(ee){return ee.selected})}setTitle(ee,Q,ne){this.applyDescription("title",ee),this.applyDescription("subtitle",Q),this.applyDescription("caption",void 0),this.layOutTitles(ne)}applyDescription(ee,Q){let ne=this,se=this.options[ee]=x(this.options[ee],Q),ue=this[ee];ue&&Q&&(this[ee]=ue=ue.destroy()),se&&!ue&&((ue=this.renderer.text(se.text,0,0,se.useHTML).attr({align:se.align,class:"highcharts-"+ee,zIndex:se.zIndex||4}).add()).update=function(pe,de){ne.applyDescription(ee,pe),ne.layOutTitles(de)},this.styledMode||ue.css(K(ee==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},se.style)),this[ee]=ue)}layOutTitles(ee=!0){let Q=[0,0,0],ne=this.renderer,se=this.spacingBox;["title","subtitle","caption"].forEach(function(pe){let de=this[pe],ge=this.options[pe],ye=ge.verticalAlign||"top",xe=pe==="title"?ye==="top"?-3:0:ye==="top"?Q[0]+2:0;if(de){de.css({width:(ge.width||se.width+(ge.widthAdjust||0))+"px"});let we=ne.fontMetrics(de).b,Ee=Math.round(de.getBBox(ge.useHTML).height);de.align(K({y:ye==="bottom"?we:xe+we,height:Ee},ge),!1,"spacingBox"),ge.floating||(ye==="top"?Q[0]=Math.ceil(Q[0]+Ee):ye==="bottom"&&(Q[2]=Math.ceil(Q[2]+Ee)))}},this),Q[0]&&(this.options.title.verticalAlign||"top")==="top"&&(Q[0]+=this.options.title.margin),Q[2]&&this.options.caption.verticalAlign==="bottom"&&(Q[2]+=this.options.caption.margin);let ue=!this.titleOffset||this.titleOffset.join(",")!==Q.join(",");this.titleOffset=Q,ie(this,"afterLayOutTitles"),!this.isDirtyBox&&ue&&(this.isDirtyBox=this.isDirtyLegend=ue,this.hasRendered&&ee&&this.isDirtyBox&&this.redraw())}getContainerBox(){let ee=[].map.call(this.renderTo.children,ne=>{if(ne!==this.container){let se=ne.style.display;return ne.style.display="none",[ne,se]}}),Q={width:ce(this.renderTo,"width",!0)||0,height:ce(this.renderTo,"height",!0)||0};return ee.filter(Boolean).forEach(([ne,se])=>{ne.style.display=se}),Q}getChartSize(){var pe;let ee=this.options.chart,Q=ee.width,ne=ee.height,se=this.getContainerBox(),ue=se.height>1&&!(!((pe=this.renderTo.parentElement)!=null&&pe.style.height)&&this.renderTo.style.height==="100%");this.chartWidth=Math.max(0,Q||se.width||600),this.chartHeight=Math.max(0,$(ne,this.chartWidth)||(ue?se.height:400)),this.containerBox=se}temporaryDisplay(ee){let Q=this.renderTo,ne;if(ee)for(;Q&&Q.style;)Q.hcOrigStyle&&(R(Q,Q.hcOrigStyle),delete Q.hcOrigStyle),Q.hcOrigDetached&&(g.body.removeChild(Q),Q.hcOrigDetached=!1),Q=Q.parentNode;else for(;Q&&Q.style&&(g.body.contains(Q)||Q.parentNode||(Q.hcOrigDetached=!0,g.body.appendChild(Q)),(ce(Q,"display",!1)==="none"||Q.hcOricDetached)&&(Q.hcOrigStyle={display:Q.style.display,height:Q.style.height,overflow:Q.style.overflow},ne={display:"block",overflow:"hidden"},Q!==this.renderTo&&(ne.height=0),R(Q,ne),Q.offsetWidth||Q.style.setProperty("display","block","important")),(Q=Q.parentNode)!==g.body););}setClassName(ee){this.container.className="highcharts-container "+(ee||"")}getContainer(){var Ee;let ee=this.options,Q=ee.chart,ne="data-highcharts-chart",se=he(),ue,pe=this.renderTo;pe||(this.renderTo=pe=Q.renderTo),Z(pe)&&(this.renderTo=pe=g.getElementById(pe)),pe||V(13,!0,this);let de=X(k(pe,ne));M(de)&&_[de]&&_[de].hasRendered&&_[de].destroy(),k(pe,ne,this.index),pe.innerHTML=G.emptyHTML,Q.skipClone||pe.offsetWidth||this.temporaryDisplay(),this.getChartSize();let ge=this.chartHeight,ye=this.chartWidth;R(pe,{overflow:"hidden"}),this.styledMode||(ue=K({position:"relative",overflow:"hidden",width:ye+"px",height:ge+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},Q.style||{}));let xe=P("div",{id:se},ue,pe);this.container=xe,this.getChartSize(),ye===this.chartWidth||(ye=this.chartWidth,this.styledMode||R(xe,{width:L((Ee=Q.style)==null?void 0:Ee.width,ye+"px")})),this.containerBox=this.getContainerBox(),this._cursor=xe.style.cursor;let we=Q.renderer||!y?z.getRendererType(Q.renderer):q;if(this.renderer=new we(xe,ye,ge,void 0,Q.forExport,ee.exporting&&ee.exporting.allowHTML,this.styledMode),b(void 0,this),this.setClassName(Q.className),this.styledMode)for(let Ce in ee.defs)this.renderer.definition(ee.defs[Ce]);else this.renderer.setStyle(Q.style);this.renderer.chartIndex=this.index,ie(this,"afterGetContainer")}getMargins(ee){let{spacing:Q,margin:ne,titleOffset:se}=this;this.resetMargins(),se[0]&&!B(ne[0])&&(this.plotTop=Math.max(this.plotTop,se[0]+Q[0])),se[2]&&!B(ne[2])&&(this.marginBottom=Math.max(this.marginBottom,se[2]+Q[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(ne,Q),ie(this,"getMargins"),ee||this.getAxisMargins()}getAxisMargins(){let ee=this,Q=ee.axisOffset=[0,0,0,0],ne=ee.colorAxis,se=ee.margin,ue=function(pe){pe.forEach(function(de){de.visible&&de.getOffset()})};ee.hasCartesianSeries?ue(ee.axes):ne&&ne.length&&ue(ne),d.forEach(function(pe,de){B(se[de])||(ee[pe]+=Q[de])}),ee.setChartSize()}getOptions(){return I(this.userOptions,O)}reflow(ee){var ue;let Q=this,ne=Q.containerBox,se=Q.getContainerBox();(ue=Q.pointer)==null||delete ue.chartPosition,!Q.isPrinting&&!Q.isResizing&&ne&&se.width&&((se.width!==ne.width||se.height!==ne.height)&&(W.clearTimeout(Q.reflowTimeout),Q.reflowTimeout=le(function(){Q.container&&Q.setSize(void 0,void 0,!1)},ee?100:0)),Q.containerBox=se)}setReflow(){let ee=this,Q=ne=>{var se;(se=ee.options)!=null&&se.chart.reflow&&ee.hasLoaded&&ee.reflow(ne)};if(typeof ResizeObserver=="function")new ResizeObserver(Q).observe(ee.renderTo);else{let ne=u(h,"resize",Q);u(this,"destroy",ne)}}setSize(ee,Q,ne){let se=this,ue=se.renderer;se.isResizing+=1,b(ne,se);let pe=ue.globalAnimation;se.oldChartHeight=se.chartHeight,se.oldChartWidth=se.chartWidth,ee!==void 0&&(se.options.chart.width=ee),Q!==void 0&&(se.options.chart.height=Q),se.getChartSize();let{chartWidth:de,chartHeight:ge,scrollablePixelsX:ye=0,scrollablePixelsY:xe=0}=se;(se.isDirtyBox||de!==se.oldChartWidth||ge!==se.oldChartHeight)&&(se.styledMode||(pe?p:R)(se.container,{width:`${de+ye}px`,height:`${ge+xe}px`},pe),se.setChartSize(!0),ue.setSize(de,ge,pe),se.axes.forEach(function(we){we.isDirty=!0,we.setScale()}),se.isDirtyLegend=!0,se.isDirtyBox=!0,se.layOutTitles(),se.getMargins(),se.redraw(pe),se.oldChartHeight=void 0,ie(se,"resize"),setTimeout(()=>{se&&ie(se,"endResize")},v(pe).duration)),se.isResizing-=1}setChartSize(ee){let Q,ne,se,ue,{chartHeight:pe,chartWidth:de,inverted:ge,spacing:ye,renderer:xe}=this,we=this.clipOffset,Ee=Math[ge?"floor":"round"];this.plotLeft=Q=Math.round(this.plotLeft),this.plotTop=ne=Math.round(this.plotTop),this.plotWidth=se=Math.max(0,Math.round(de-Q-this.marginRight)),this.plotHeight=ue=Math.max(0,Math.round(pe-ne-this.marginBottom)),this.plotSizeX=ge?ue:se,this.plotSizeY=ge?se:ue,this.spacingBox=xe.spacingBox={x:ye[3],y:ye[0],width:de-ye[3]-ye[1],height:pe-ye[0]-ye[2]},this.plotBox=xe.plotBox={x:Q,y:ne,width:se,height:ue},we&&(this.clipBox={x:Ee(we[3]),y:Ee(we[0]),width:Ee(this.plotSizeX-we[1]-we[3]),height:Ee(this.plotSizeY-we[0]-we[2])}),ee||(this.axes.forEach(function(Ce){Ce.setAxisSize(),Ce.setAxisTranslation()}),xe.alignElements()),ie(this,"afterSetChartSize",{skipAxes:ee})}resetMargins(){ie(this,"resetMargins");let ee=this,Q=ee.options.chart,ne=Q.plotBorderWidth||0,se=ne/2;["margin","spacing"].forEach(function(ue){let pe=Q[ue],de=U(pe)?pe:[pe,pe,pe,pe];["Top","Right","Bottom","Left"].forEach(function(ge,ye){ee[ue][ye]=L(Q[ue+ge],de[ye])})}),d.forEach(function(ue,pe){ee[ue]=L(ee.margin[pe],ee.spacing[pe])}),ee.axisOffset=[0,0,0,0],ee.clipOffset=[se,se,se,se],ee.plotBorderWidth=ne}drawChartBox(){let ee=this.options.chart,Q=this.renderer,ne=this.chartWidth,se=this.chartHeight,ue=this.styledMode,pe=this.plotBGImage,de=ee.backgroundColor,ge=ee.plotBackgroundColor,ye=ee.plotBackgroundImage,xe=this.plotLeft,we=this.plotTop,Ee=this.plotWidth,Ce=this.plotHeight,Ie=this.plotBox,Ae=this.clipRect,Se=this.clipBox,Oe=this.chartBackground,Le=this.plotBackground,Ne=this.plotBorder,qe,ze,et,st="animate";Oe||(this.chartBackground=Oe=Q.rect().addClass("highcharts-background").add(),st="attr"),ue?qe=ze=Oe.strokeWidth():(ze=(qe=ee.borderWidth||0)+(ee.shadow?8:0),et={fill:de||"none"},(qe||Oe["stroke-width"])&&(et.stroke=ee.borderColor,et["stroke-width"]=qe),Oe.attr(et).shadow(ee.shadow)),Oe[st]({x:ze/2,y:ze/2,width:ne-ze-qe%2,height:se-ze-qe%2,r:ee.borderRadius}),st="animate",Le||(st="attr",this.plotBackground=Le=Q.rect().addClass("highcharts-plot-background").add()),Le[st](Ie),!ue&&(Le.attr({fill:ge||"none"}).shadow(ee.plotShadow),ye&&(pe?(ye!==pe.attr("href")&&pe.attr("href",ye),pe.animate(Ie)):this.plotBGImage=Q.image(ye,xe,we,Ee,Ce).add())),Ae?Ae.animate({width:Se.width,height:Se.height}):this.clipRect=Q.clipRect(Se),st="animate",Ne||(st="attr",this.plotBorder=Ne=Q.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),ue||Ne.attr({stroke:ee.plotBorderColor,"stroke-width":ee.plotBorderWidth||0,fill:"none"}),Ne[st](Ne.crisp({x:xe,y:we,width:Ee,height:Ce},-Ne.strokeWidth())),this.isDirtyBox=!1,ie(this,"afterDrawChartBox")}propFromSeries(){let ee,Q,ne,se=this,ue=se.options.chart,pe=se.options.series;["inverted","angular","polar"].forEach(function(de){for(Q=c[ue.type],ne=ue[de]||Q&&Q.prototype[de],ee=pe&&pe.length;!ne&&ee--;)(Q=c[pe[ee].type])&&Q.prototype[de]&&(ne=!0);se[de]=ne})}linkSeries(ee){let Q=this,ne=Q.series;ne.forEach(function(se){se.linkedSeries.length=0}),ne.forEach(function(se){let{linkedTo:ue}=se.options;if(Z(ue)){let pe;(pe=ue===":previous"?Q.series[se.index-1]:Q.get(ue))&&pe.linkedParent!==se&&(pe.linkedSeries.push(se),se.linkedParent=pe,pe.enabledDataSorting&&se.setDataSortingOptions(),se.visible=L(se.options.visible,pe.options.visible,se.visible))}}),ie(this,"afterLinkSeries",{isUpdating:ee})}renderSeries(){this.series.forEach(function(ee){ee.translate(),ee.render()})}render(){var xe;let ee=this.axes,Q=this.colorAxis,ne=this.renderer,se=this.options.chart.axisLayoutRuns||2,ue=we=>{we.forEach(Ee=>{Ee.visible&&Ee.render()})},pe=0,de=!0,ge,ye=0;for(let we of(this.setTitle(),ie(this,"beforeMargins"),(xe=this.getStacks)==null||xe.call(this),this.getMargins(!0),this.setChartSize(),ee)){let{options:Ee}=we,{labels:Ce}=Ee;if(this.hasCartesianSeries&&we.horiz&&we.visible&&Ce.enabled&&we.series.length&&we.coll!=="colorAxis"&&!this.polar){pe=Ee.tickLength,we.createGroups();let Ie=new A(we,0,"",!0),Ae=Ie.createLabel("x",Ce);if(Ie.destroy(),Ae&&L(Ce.reserveSpace,!M(Ee.crossing))&&(pe=Ae.getBBox().height+Ce.distance+Math.max(Ee.offset||0,0)),pe){Ae==null||Ae.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-pe,0);(de||ge||se>1)&&ye<se;){let we=this.plotWidth,Ee=this.plotHeight;for(let Ce of ee)ye===0?Ce.setScale():(Ce.horiz&&de||!Ce.horiz&&ge)&&Ce.setTickInterval(!0);ye===0?this.getAxisMargins():this.getMargins(),de=we/this.plotWidth>(ye?1:1.1),ge=Ee/this.plotHeight>(ye?1:1.05),ye++}this.drawChartBox(),this.hasCartesianSeries?ue(ee):Q&&Q.length&&ue(Q),this.seriesGroup||(this.seriesGroup=ne.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(ee){let Q=this,ne=x(!0,this.options.credits,ee);ne.enabled&&!this.credits&&(this.credits=this.renderer.text(ne.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){ne.href&&(h.location.href=ne.href)}).attr({align:ne.position.align,zIndex:8}),Q.styledMode||this.credits.css(ne.style),this.credits.add().align(ne.position),this.credits.update=function(se){Q.credits=Q.credits.destroy(),Q.addCredits(se)})}destroy(){let ee,Q=this,ne=Q.axes,se=Q.series,ue=Q.container,pe=ue&&ue.parentNode;for(ie(Q,"destroy"),Q.renderer.forExport?re(_,Q):_[Q.index]=void 0,S.chartCount--,Q.renderTo.removeAttribute("data-highcharts-chart"),te(Q),ee=ne.length;ee--;)ne[ee]=ne[ee].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),ee=se.length;ee--;)se[ee]=se[ee].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(function(de){let ge=Q[de];ge&&ge.destroy&&(Q[de]=ge.destroy())}),ue&&(ue.innerHTML=G.emptyHTML,te(ue),pe&&Y(ue)),N(Q,function(de,ge){delete Q[ge]})}firstRender(){var se;let ee=this,Q=ee.options;ee.getContainer(),ee.resetMargins(),ee.setChartSize(),ee.propFromSeries(),ee.getAxes();let ne=D(Q.series)?Q.series:[];Q.series=[],ne.forEach(function(ue){ee.initSeries(ue)}),ee.linkSeries(),ee.setSortedData(),ie(ee,"beforeRender"),ee.render(),(se=ee.pointer)==null||se.getChartPosition(),ee.renderer.imgCount||ee.hasLoaded||ee.onload(),ee.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(ee){ee&&this.index!==void 0&&ee.apply(this,[this])},this),ie(this,"load"),ie(this,"render"),B(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:ee,title:Q}=this;!ee||this.accessibility||(this.renderer.boxWrapper.attr({role:"img","aria-label":(Q&&Q.element.textContent||"").replace(/</g,"&lt;")}),ee.accessibility&&ee.accessibility.enabled===!1||V('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}addSeries(ee,Q,ne){let se,ue=this;return ee&&(Q=L(Q,!0),ie(ue,"addSeries",{options:ee},function(){se=ue.initSeries(ee),ue.isDirtyLegend=!0,ue.linkSeries(),se.enabledDataSorting&&se.setData(ee.data,!1),ie(ue,"afterAddSeries",{series:se}),Q&&ue.redraw(ne)})),se}addAxis(ee,Q,ne,se){return this.createAxis(Q?"xAxis":"yAxis",{axis:ee,redraw:ne,animation:se})}addColorAxis(ee,Q,ne){return this.createAxis("colorAxis",{axis:ee,redraw:Q,animation:ne})}createAxis(ee,Q){let ne=new s(this,Q.axis,ee);return L(Q.redraw,!0)&&this.redraw(Q.animation),ne}showLoading(ee){let Q=this,ne=Q.options,se=ne.loading,ue=function(){pe&&R(pe,{left:Q.plotLeft+"px",top:Q.plotTop+"px",width:Q.plotWidth+"px",height:Q.plotHeight+"px"})},pe=Q.loadingDiv,de=Q.loadingSpan;pe||(Q.loadingDiv=pe=P("div",{className:"highcharts-loading highcharts-loading-hidden"},null,Q.container)),de||(Q.loadingSpan=de=P("span",{className:"highcharts-loading-inner"},null,pe),u(Q,"redraw",ue)),pe.className="highcharts-loading",G.setElementHTML(de,L(ee,ne.lang.loading,"")),Q.styledMode||(R(pe,K(se.style,{zIndex:10})),R(de,se.labelStyle),Q.loadingShown||(R(pe,{opacity:0,display:""}),p(pe,{opacity:se.style.opacity||.5},{duration:se.showDuration||0}))),Q.loadingShown=!0,ue()}hideLoading(){let ee=this.options,Q=this.loadingDiv;Q&&(Q.className="highcharts-loading highcharts-loading-hidden",this.styledMode||p(Q,{opacity:0},{duration:ee.loading.hideDuration||100,complete:function(){R(Q,{display:"none"})}})),this.loadingShown=!1}update(ee,Q,ne,se){let ue,pe,de,ge=this,ye={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},xe=ee.isResponsiveOptions,we=[];ie(ge,"update",{options:ee}),xe||ge.setResponsive(!1,!0),ee=I(ee,ge.options),ge.userOptions=x(ge.userOptions,ee);let Ee=ee.chart;Ee&&(x(!0,ge.options.chart,Ee),this.setZoomOptions(),"className"in Ee&&ge.setClassName(Ee.className),("inverted"in Ee||"polar"in Ee||"type"in Ee)&&(ge.propFromSeries(),ue=!0),"alignTicks"in Ee&&(ue=!0),"events"in Ee&&w(this,Ee),N(Ee,function(Ae,Se){ge.propsRequireUpdateSeries.indexOf("chart."+Se)!==-1&&(pe=!0),ge.propsRequireDirtyBox.indexOf(Se)!==-1&&(ge.isDirtyBox=!0),ge.propsRequireReflow.indexOf(Se)===-1||(ge.isDirtyBox=!0,xe||(de=!0))}),!ge.styledMode&&Ee.style&&ge.renderer.setStyle(ge.options.chart.style||{})),!ge.styledMode&&ee.colors&&(this.options.colors=ee.colors),ee.time&&(this.time===T&&(this.time=new C(ee.time)),x(!0,ge.options.time,ee.time)),N(ee,function(Ae,Se){ge[Se]&&typeof ge[Se].update=="function"?ge[Se].update(Ae,!1):typeof ge[ye[Se]]=="function"?ge[ye[Se]](Ae):Se!=="colors"&&ge.collectionsWithUpdate.indexOf(Se)===-1&&x(!0,ge.options[Se],ee[Se]),Se!=="chart"&&ge.propsRequireUpdateSeries.indexOf(Se)!==-1&&(pe=!0)}),this.collectionsWithUpdate.forEach(function(Ae){ee[Ae]&&(oe(ee[Ae]).forEach(function(Se,Oe){let Le,Ne=B(Se.id);Ne&&(Le=ge.get(Se.id)),!Le&&ge[Ae]&&(Le=ge[Ae][L(Se.index,Oe)])&&(Ne&&B(Le.options.id)||Le.options.isInternal)&&(Le=void 0),Le&&Le.coll===Ae&&(Le.update(Se,!1),ne&&(Le.touched=!0)),!Le&&ne&&ge.collectionsWithInit[Ae]&&(ge.collectionsWithInit[Ae][0].apply(ge,[Se].concat(ge.collectionsWithInit[Ae][1]||[]).concat([!1])).touched=!0)}),ne&&ge[Ae].forEach(function(Se){Se.touched||Se.options.isInternal?delete Se.touched:we.push(Se)}))}),we.forEach(function(Ae){Ae.chart&&Ae.remove&&Ae.remove(!1)}),ue&&ge.axes.forEach(function(Ae){Ae.update({},!1)}),pe&&ge.getSeriesOrderByLinks().forEach(function(Ae){Ae.chart&&Ae.update({},!1)},this);let Ce=Ee&&Ee.width,Ie=Ee&&(Z(Ee.height)?$(Ee.height,Ce||ge.chartWidth):Ee.height);de||M(Ce)&&Ce!==ge.chartWidth||M(Ie)&&Ie!==ge.chartHeight?ge.setSize(Ce,Ie,se):L(Q,!0)&&ge.redraw(se),ie(ge,"afterUpdate",{options:ee,redraw:Q,animation:se})}setSubtitle(ee,Q){this.applyDescription("subtitle",ee),this.layOutTitles(Q)}setCaption(ee,Q){this.applyDescription("caption",ee),this.layOutTitles(Q)}showResetZoom(){let ee=this,Q=O.lang,ne=ee.zooming.resetButton,se=ne.theme,ue=ne.relativeTo==="chart"||ne.relativeTo==="spacingBox"?null:"plotBox";function pe(){ee.zoomOut()}ie(this,"beforeShowResetZoom",null,function(){ee.resetZoomButton=ee.renderer.button(Q.resetZoom,null,null,pe,se).attr({align:ne.position.align,title:Q.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(ne.position,!1,ue)}),ie(this,"afterShowResetZoom")}zoomOut(){ie(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(ee,Q){let ne=this,se=typeof Q=="object"?Q:{enabled:Q,type:"x"},ue=se.type,pe=ue&&ne[{x:"xAxis",xy:"axes",y:"yAxis"}[ue]].filter(ge=>ge.options.panningEnabled&&!ge.options.isInternal),de=ne.options.chart;de!=null&&de.panning&&(de.panning=se),ie(this,"pan",{originalEvent:ee},()=>{ne.transform({axes:pe,event:ee,to:{x:ee.chartX-(ne.mouseDownX||0),y:ee.chartY-(ne.mouseDownY||0)},trigger:"pan"}),R(ne.container,{cursor:"move"})})}transform(ee){var Ce;let{axes:Q=this.axes,event:ne,from:se={},reset:ue,selection:pe,to:de={},trigger:ge}=ee,{inverted:ye}=this,xe=!1,we,Ee;for(let Ie of((Ce=this.hoverPoints)==null||Ce.forEach(Ae=>Ae.setState()),Q)){let{horiz:Ae,len:Se,minPointOffset:Oe=0,options:Le,reversed:Ne}=Ie,qe=Ae?"width":"height",ze=Ae?"x":"y",et=L(de[qe],Ie.len),st=L(se[qe],Ie.len),mt=10>Math.abs(et)?1:et/st,mi=(se[ze]||0)+st/2-Ie.pos,Dt=mi-((de[ze]??Ie.pos)+et/2-Ie.pos)/mt,Zi=Ne&&!ye||!Ne&&ye?-1:1;if(!ue&&(mi<0||mi>Ie.len))continue;let Ye=Ie.toValue(Dt,!0)+(pe||Ie.isOrdinal?0:Oe*Zi),Lt=Ie.toValue(Dt+Se/mt,!0)-(pe||Ie.isOrdinal?0:Oe*Zi||0),$t=Ie.allExtremes;if(Ye>Lt&&([Ye,Lt]=[Lt,Ye]),mt===1&&!ue&&Ie.coll==="yAxis"&&!$t){for(let hr of Ie.series){let tn=hr.getExtremes(hr.getProcessedData(!0).yData,!0);$t??($t={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),M(tn.dataMin)&&M(tn.dataMax)&&($t.dataMin=Math.min(tn.dataMin,$t.dataMin),$t.dataMax=Math.max(tn.dataMax,$t.dataMax))}Ie.allExtremes=$t}let{dataMin:Ln,dataMax:Nl,min:Co,max:Ni}=K(Ie.getExtremes(),$t||{}),Ao=Ln??Le.min,ko=Nl??Le.max,Ji=Lt-Ye,hs=Ie.categories?0:Math.min(Ji,ko-Ao),On=Ao-hs*(B(Le.min)?0:Le.minPadding),en=ko+hs*(B(Le.max)?0:Le.maxPadding),yi=Ie.allowZoomOutside||mt===1||ge!=="zoom"&&mt>1,Nn=Math.min(Le.min??On,On,yi?Co:On),Vn=Math.max(Le.max??en,en,yi?Ni:en);(!Ie.isOrdinal||Ie.options.overscroll||mt!==1||ue)&&(Ye<Nn&&(Ye=Nn,mt>=1&&(Lt=Ye+Ji)),Lt>Vn&&(Lt=Vn,mt>=1&&(Ye=Lt-Ji)),(ue||Ie.series.length&&(Ye!==Co||Lt!==Ni)&&Ye>=Nn&&Lt<=Vn)&&(pe?pe[Ie.coll].push({axis:Ie,min:Ye,max:Lt}):(Ie.isPanning=ge!=="zoom",Ie.isPanning&&(Ee=!0),Ie.setExtremes(ue?void 0:Ye,ue?void 0:Lt,!1,!1,{move:Dt,trigger:ge,scale:mt}),!ue&&(Ye>Nn||Lt<Vn)&&ge!=="mousewheel"&&(we=!0)),xe=!0),ne&&(this[Ae?"mouseDownX":"mouseDownY"]=ne[Ae?"chartX":"chartY"]))}return xe&&(pe?ie(this,"selection",pe,()=>{delete ee.selection,ee.trigger="zoom",this.transform(ee)}):(!we||Ee||this.resetZoomButton?!we&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(ge==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),xe}}return K(me.prototype,{callbacks:[],collectionsWithInit:{xAxis:[me.prototype.addAxis,[!0]],yAxis:[me.prototype.addAxis,[!1]],series:[me.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]}),me}),n(i,"Extensions/ScrollablePlotArea.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Globals.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Utilities.js"]],function(r,s,o,l){let{stop:f}=r,{composed:S}=s,{addEvent:z,createElement:j,css:F,defined:q,merge:C,pushUnique:W}=l;function G(){let v=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!v&&(this.scrollablePlotArea=v=new p(this)),v==null||v.applyFixed()}function A(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class p{static compose(b,O,T){W(S,this.compose)&&(z(b,"afterInit",A),z(O,"afterSetChartSize",m=>this.afterSetSize(m.target,m)),z(O,"render",G),z(T,"show",A))}static afterSetSize(b,O){let T,m,w,{minWidth:_,minHeight:g}=b.options.chart.scrollablePlotArea||{},{clipBox:d,plotBox:y,inverted:h,renderer:c}=b;if(!c.forExport&&(_?(b.scrollablePixelsX=T=Math.max(0,_-b.chartWidth),T&&(b.scrollablePlotBox=C(b.plotBox),y.width=b.plotWidth+=T,d[h?"height":"width"]+=T,w=!0)):g&&(b.scrollablePixelsY=m=Math.max(0,g-b.chartHeight),q(m)&&(b.scrollablePlotBox=C(b.plotBox),y.height=b.plotHeight+=m,d[h?"width":"height"]+=m,w=!1)),q(w)&&!O.skipAxes))for(let u of b.axes)u.horiz===w&&(u.setAxisSize(),u.setAxisTranslation())}constructor(b){var k;let O,T=b.options.chart,m=o.getRendererType(),w=T.scrollablePlotArea||{},_=this.moveFixedElements.bind(this),g={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};b.scrollablePixelsX&&(g.overflowX="auto"),b.scrollablePixelsY&&(g.overflowY="auto"),this.chart=b;let d=this.parentDiv=j("div",{className:"highcharts-scrolling-parent"},{position:"relative"},b.renderTo),y=this.scrollingContainer=j("div",{className:"highcharts-scrolling"},g,d),h=this.innerContainer=j("div",{className:"highcharts-inner-container"},void 0,y),c=this.fixedDiv=j("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((k=T.style)==null?void 0:k.zIndex)||0)+2,top:0},void 0,!0),u=this.fixedRenderer=new m(c,b.chartWidth,b.chartHeight,T.style);this.mask=u.path().attr({fill:T.backgroundColor||"#fff","fill-opacity":w.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),y.parentNode.insertBefore(c,y),F(b.renderTo,{overflow:"visible"}),z(b,"afterShowResetZoom",_),z(b,"afterApplyDrilldown",_),z(b,"afterLayOutTitles",_),z(y,"scroll",()=>{let{pointer:P,hoverPoint:R}=b;P&&(delete P.chartPosition,R&&(O=R),P.runPointActions(void 0,O,!0))}),h.appendChild(b.container)}applyFixed(){var M;let{chart:b,fixedRenderer:O,isDirty:T,scrollingContainer:m}=this,{axisOffset:w,chartWidth:_,chartHeight:g,container:d,plotHeight:y,plotLeft:h,plotTop:c,plotWidth:u,scrollablePixelsX:k=0,scrollablePixelsY:P=0}=b,{scrollPositionX:R=0,scrollPositionY:B=0}=b.options.chart.scrollablePlotArea||{},I=_+k,Y=g+P;O.setSize(_,g),(T??!0)&&(this.isDirty=!1,this.moveFixedElements()),f(b.container),F(d,{width:`${I}px`,height:`${Y}px`}),b.renderer.boxWrapper.attr({width:I,height:Y,viewBox:[0,0,I,Y].join(" ")}),(M=b.chartBackground)==null||M.attr({width:I,height:Y}),F(m,{width:`${_}px`,height:`${g}px`}),q(T)||(m.scrollLeft=k*R,m.scrollTop=P*B);let re=c-w[0]-1,V=h-w[3]-1,K=c+y+w[2]+1,J=h+u+w[1]+1,ie=h+u-k,ce=c+y-P,D=[["M",0,0]];k?D=[["M",0,re],["L",h-1,re],["L",h-1,K],["L",0,K],["Z"],["M",ie,re],["L",_,re],["L",_,K],["L",ie,K],["Z"]]:P&&(D=[["M",V,0],["L",V,c-1],["L",J,c-1],["L",J,0],["Z"],["M",V,ce],["L",V,g],["L",J,g],["L",J,ce],["Z"]]),b.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:D})}moveFixedElements(){let b,{container:O,inverted:T,scrollablePixelsX:m,scrollablePixelsY:w}=this.chart,_=this.fixedRenderer,g=p.fixedSelectors;for(let d of(m&&!T?b=".highcharts-yaxis":m&&T||w&&!T?b=".highcharts-xaxis":w&&T&&(b=".highcharts-yaxis"),b&&g.push(`${b}:not(.highcharts-radial-axis)`,`${b}-labels:not(.highcharts-radial-axis-labels)`),g))[].forEach.call(O.querySelectorAll(d),y=>{(y.namespaceURI===_.SVG_NS?_.box:_.box.parentNode).appendChild(y),y.style.pointerEvents="auto"})}}return p.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"],p}),n(i,"Core/Axis/Stacking/StackItem.js",[i["Core/Templating.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o){let{format:l}=r,{series:f}=s,{destroyObjectProperties:S,fireEvent:z,isNumber:j,pick:F}=o;return class{constructor(q,C,W,G,A){let p=q.chart.inverted,v=q.reversed;this.axis=q;let b=this.isNegative=!!W!=!!v;this.options=C=C||{},this.x=G,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=A,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:C.align||(p?b?"left":"right":"center"),verticalAlign:C.verticalAlign||(p?"middle":b?"bottom":"top"),y:C.y,x:C.x},this.textAlign=C.textAlign||(p?b?"right":"left":"center")}destroy(){S(this,this.axis)}render(q){let C=this.axis.chart,W=this.options,G=W.format,A=G?l(G,this,C):W.formatter.call(this);if(this.label)this.label.attr({text:A,visibility:"hidden"});else{this.label=C.renderer.label(A,null,void 0,W.shape,void 0,void 0,W.useHTML,!1,"stack-labels");let p={r:W.borderRadius||0,text:A,padding:F(W.padding,5),visibility:"hidden"};C.styledMode||(p.fill=W.backgroundColor,p.stroke=W.borderColor,p["stroke-width"]=W.borderWidth,this.label.css(W.style||{})),this.label.attr(p),this.label.added||this.label.add(q)}this.label.labelrank=C.plotSizeY,z(this,"afterRender")}setOffset(q,C,W,G,A,p){let{alignOptions:v,axis:b,label:O,options:T,textAlign:m}=this,w=b.chart,_=this.getStackBox({xOffset:q,width:C,boxBottom:W,boxTop:G,defaultX:A,xAxis:p}),{verticalAlign:g}=v;if(O&&_){let d=O.getBBox(void 0,0),y=O.padding,h=F(T.overflow,"justify")==="justify",c;v.x=T.x||0,v.y=T.y||0;let{x:u,y:k}=this.adjustStackPosition({labelBox:d,verticalAlign:g,textAlign:m});_.x-=u,_.y-=k,O.align(v,!1,_),(c=w.isInsidePlot(O.alignAttr.x+v.x+u,O.alignAttr.y+v.y+k))||(h=!1),h&&f.prototype.justifyDataLabel.call(b,O,v,O.alignAttr,d,_),O.attr({x:O.alignAttr.x,y:O.alignAttr.y,rotation:T.rotation,rotationOriginX:d.width*{left:0,center:.5,right:1}[T.textAlign||"center"],rotationOriginY:d.height/2}),F(!h&&T.crop,!0)&&(c=j(O.x)&&j(O.y)&&w.isInsidePlot(O.x-y+(O.width||0),O.y)&&w.isInsidePlot(O.x+y,O.y)),O[c?"show":"hide"]()}z(this,"afterSetOffset",{xOffset:q,width:C})}adjustStackPosition({labelBox:q,verticalAlign:C,textAlign:W}){let G={bottom:0,middle:1,top:2,right:1,center:0,left:-1},A=G[C],p=G[W];return{x:q.width/2+q.width/2*p,y:q.height/2*A}}getStackBox(q){let C=this.axis,W=C.chart,{boxTop:G,defaultX:A,xOffset:p,width:v,boxBottom:b}=q,O=C.stacking.usePercentage?100:F(G,this.total,0),T=C.toPixels(O),m=q.xAxis||W.xAxis[0],w=F(A,m.translate(this.x))+p,_=Math.abs(T-C.toPixels(b||j(C.min)&&C.logarithmic&&C.logarithmic.lin2log(C.min)||0)),g=W.inverted,d=this.isNegative;return g?{x:(d?T:T-_)-W.plotLeft,y:m.height-w-v+m.top-W.plotTop,width:_,height:v}:{x:w+m.transB-W.plotLeft,y:(d?T-_:T)-W.plotTop,width:v,height:_}}}}),n(i,"Core/Axis/Stacking/StackingAxis.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Axis/Axis.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Utilities.js"]],function(r,s,o,l,f){var S;let{getDeferredAnimation:z}=r,{series:{prototype:j}}=o,{addEvent:F,correctFloat:q,defined:C,destroyObjectProperties:W,fireEvent:G,isArray:A,isNumber:p,objectEach:v,pick:b}=f;function O(){let c=this.inverted;this.axes.forEach(u=>{u.stacking&&u.stacking.stacks&&u.hasVisibleSeries&&(u.stacking.oldStacks=u.stacking.stacks)}),this.series.forEach(u=>{let k=u.xAxis&&u.xAxis.options||{};u.options.stacking&&u.reserveSpace()&&(u.stackKey=[u.type,b(u.options.stack,""),c?k.top:k.left,c?k.height:k.width].join(","))})}function T(){var u;let c=this.stacking;if(c){let k=c.stacks;v(k,(P,R)=>{W(P),delete k[R]}),(u=c.stackTotalGroup)==null||u.destroy()}}function m(){this.stacking||(this.stacking=new h(this))}function w(c,u,k,P){return!C(c)||c.x!==u||P&&c.stackKey!==P?c={x:u,index:0,key:P,stackKey:P}:c.index++,c.key=[k,u,c.index].join(","),c}function _(){let c,u=this,k=u.yAxis,P=u.stackKey||"",R=k.stacking.stacks,B=u.processedXData,I=u.options.stacking,Y=u[I+"Stacker"];Y&&[P,"-"+P].forEach(re=>{var ce;let V=B.length,K,J,ie;for(;V--;)K=B[V],c=u.getStackIndicator(c,K,u.index,re),J=(ce=R[re])==null?void 0:ce[K],(ie=J==null?void 0:J.points[c.key||""])&&Y.call(u,ie,J,V)})}function g(c,u,k){let P=u.total?100/u.total:0;c[0]=q(c[0]*P),c[1]=q(c[1]*P),this.stackedYData[k]=c[1]}function d(c){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&!this.options.stacking&&this.chart.series.length>1?j.setStackedPoints.call(this,c,"group"):c.stacking.resetStacks())}function y(c,u){var he,me;let k,P,R,B,I,Y,re,V,K,J=u||this.options.stacking;if(!J||!this.reserveSpace()||({group:"xAxis"}[J]||"yAxis")!==c.coll)return;let ie=this.processedXData,ce=this.processedYData,D=[],M=ce.length,U=this.options,Z=U.threshold||0,x=U.startFromThreshold?Z:0,N=U.stack,L=u?`${this.type},${J}`:this.stackKey||"",X="-"+L,$=this.negStacks,te=c.stacking,oe=te.stacks,le=te.oldStacks;for(te.stacksTouched+=1,re=0;re<M;re++){V=ie[re],K=ce[re],Y=(k=this.getStackIndicator(k,V,this.index)).key||"",oe[I=(P=$&&K<(x?0:Z))?X:L]||(oe[I]={}),oe[I][V]||((he=le[I])!=null&&he[V]?(oe[I][V]=le[I][V],oe[I][V].total=null):oe[I][V]=new l(c,c.options.stackLabels,!!P,V,N)),R=oe[I][V],K!==null?(R.points[Y]=R.points[this.index]=[b(R.cumulative,x)],C(R.cumulative)||(R.base=Y),R.touched=te.stacksTouched,k.index>0&&this.singleStacks===!1&&(R.points[Y][0]=R.points[this.index+","+V+",0"][0])):(delete R.points[Y],delete R.points[this.index]);let fe=R.total||0;J==="percent"?(B=P?L:X,fe=$&&((me=oe[B])!=null&&me[V])?(B=oe[B][V]).total=Math.max(B.total||0,fe)+Math.abs(K)||0:q(fe+(Math.abs(K)||0))):J==="group"?(A(K)&&(K=K[0]),K!==null&&fe++):fe=q(fe+(K||0)),J==="group"?R.cumulative=(fe||1)-1:R.cumulative=q(b(R.cumulative,x)+(K||0)),R.total=fe,K!==null&&(R.points[Y].push(R.cumulative),D[re]=R.cumulative,R.hasValidPoints=!0)}J==="percent"&&(te.usePercentage=!0),J!=="group"&&(this.stackedYData=D),te.oldStacks={}}class h{constructor(u){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=u}buildStacks(){let u,k,P=this.axis,R=P.series,B=P.coll==="xAxis",I=P.options.reversedStacks,Y=R.length;for(this.resetStacks(),this.usePercentage=!1,k=Y;k--;)u=R[I?k:Y-k-1],B&&u.setGroupedPoints(P),u.setStackedPoints(P);if(!B)for(k=0;k<Y;k++)R[k].modifyStacks();G(P,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,v(this.stacks,u=>{v(u,k=>{k.cumulative=k.total})}))}resetStacks(){v(this.stacks,u=>{v(u,(k,P)=>{p(k.touched)&&k.touched<this.stacksTouched?(k.destroy(),delete u[P]):(k.total=null,k.cumulative=null)})})}renderStackTotals(){var Y;let u=this.axis,k=u.chart,P=k.renderer,R=this.stacks,B=z(k,((Y=u.options.stackLabels)==null?void 0:Y.animation)||!1),I=this.stackTotalGroup=this.stackTotalGroup||P.g("stack-labels").attr({zIndex:6,opacity:0}).add();I.translate(k.plotLeft,k.plotTop),v(R,re=>{v(re,V=>{V.render(I)})}),I.animate({opacity:1},B)}}return(S||(S={})).compose=function(c,u,k){let P=u.prototype,R=k.prototype;P.getStacks||(F(c,"init",m),F(c,"destroy",T),P.getStacks=O,R.getStackIndicator=w,R.modifyStacks=_,R.percentStacker=g,R.setGroupedPoints=d,R.setStackedPoints=y)},S}),n(i,"Series/Line/LineSeries.js",[i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o){let{defined:l,merge:f,isObject:S}=o;class z extends r{drawGraph(){let F=this.options,q=(this.gappedPath||this.getGraphPath).call(this),C=this.chart.styledMode;[this,...this.zones].forEach((W,G)=>{let A,p=W.graph,v=p?"animate":"attr",b=W.dashStyle||F.dashStyle;p?(p.endX=this.preventGraphAnimation?null:q.xMap,p.animate({d:q})):q.length&&(W.graph=p=this.chart.renderer.path(q).addClass("highcharts-graph"+(G?` highcharts-zone-graph-${G-1} `:" ")+(G&&W.className||"")).attr({zIndex:1}).add(this.group)),p&&!C&&(A={stroke:!G&&F.lineColor||W.color||this.color||"#cccccc","stroke-width":F.lineWidth||0,fill:this.fillGraph&&this.color||"none"},b?A.dashstyle=b:F.linecap!=="square"&&(A["stroke-linecap"]=A["stroke-linejoin"]="round"),p[v](A).shadow(G<2&&F.shadow&&f({filterUnits:"userSpaceOnUse"},S(F.shadow)?F.shadow:{}))),p&&(p.startX=q.xMap,p.isArea=q.isArea)})}getGraphPath(F,q,C){let W=this,G=W.options,A=[],p=[],v,b=G.step,O=(F=F||W.points).reversed;return O&&F.reverse(),(b={right:1,center:2}[b]||b&&3)&&O&&(b=4-b),(F=this.getValidPoints(F,!1,!(G.connectNulls&&!q&&!C))).forEach(function(T,m){let w,_=T.plotX,g=T.plotY,d=F[m-1],y=T.isNull||typeof g!="number";(T.leftCliff||d&&d.rightCliff)&&!C&&(v=!0),y&&!l(q)&&m>0?v=!G.connectNulls:y&&!q?v=!0:(m===0||v?w=[["M",T.plotX,T.plotY]]:W.getPointSpline?w=[W.getPointSpline(F,T,m)]:b?(w=b===1?[["L",d.plotX,g]]:b===2?[["L",(d.plotX+_)/2,d.plotY],["L",(d.plotX+_)/2,g]]:[["L",_,d.plotY]]).push(["L",_,g]):w=[["L",_,g]],p.push(T.x),b&&(p.push(T.x),b===2&&p.push(T.x)),A.push.apply(A,w),v=!1)}),A.xMap=p,W.graphPath=A,A}}return z.defaultOptions=f(r.defaultOptions,{legendSymbol:"lineMarker"}),s.registerSeriesType("line",z),z}),n(i,"Series/Area/AreaSeriesDefaults.js",[],function(){return{threshold:0,legendSymbol:"areaMarker"}}),n(i,"Series/Area/AreaSeries.js",[i["Series/Area/AreaSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o){let{seriesTypes:{line:l}}=s,{extend:f,merge:S,objectEach:z,pick:j}=o;class F extends l{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:C,options:W}=this;[this,...this.zones].forEach((G,A)=>{let p={},v=G.fillColor||W.fillColor,b=G.area,O=b?"animate":"attr";b?(b.endX=this.preventGraphAnimation?null:C.xMap,b.animate({d:C})):(p.zIndex=0,(b=G.area=this.chart.renderer.path(C).addClass("highcharts-area"+(A?` highcharts-zone-area-${A-1} `:" ")+(A&&G.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(p.fill=v||G.color||this.color,p["fill-opacity"]=v?1:W.fillOpacity??.75,b.css({pointerEvents:this.stickyTracking?"none":"auto"})),b[O](p),b.startX=C.xMap,b.shiftUnit=W.step?2:1})}getGraphPath(C){let W,G,A,p=l.prototype.getGraphPath,v=this.options,b=v.stacking,O=this.yAxis,T=[],m=[],w=this.index,_=O.stacking.stacks[this.stackKey],g=v.threshold,d=Math.round(O.getThreshold(v.threshold)),y=j(v.connectNulls,b==="percent"),h=function(B,I,Y){let re=C[B],V=b&&_[re.x].points[w],K=re[Y+"Null"]||0,J=re[Y+"Cliff"]||0,ie,ce,D=!0;J||K?(ie=(K?V[0]:V[1])+J,ce=V[0]+J,D=!!K):!b&&C[I]&&C[I].isNull&&(ie=ce=g),ie!==void 0&&(m.push({plotX:W,plotY:ie===null?d:O.getThreshold(ie),isNull:D,isCliff:!0}),T.push({plotX:W,plotY:ce===null?d:O.getThreshold(ce),doCurve:!1}))};C=C||this.points,b&&(C=this.getStackPoints(C));for(let B=0,I=C.length;B<I;++B)b||(C[B].leftCliff=C[B].rightCliff=C[B].leftNull=C[B].rightNull=void 0),G=C[B].isNull,W=j(C[B].rectPlotX,C[B].plotX),A=b?j(C[B].yBottom,d):d,G&&!y||(y||h(B,B-1,"left"),G&&!b&&y||(m.push(C[B]),T.push({x:B,plotX:W,plotY:A})),y||h(B,B+1,"right"));let c=p.call(this,m,!0,!0);T.reversed=!0;let u=p.call(this,T,!0,!0),k=u[0];k&&k[0]==="M"&&(u[0]=["L",k[1],k[2]]);let P=c.concat(u);P.length&&P.push(["Z"]);let R=p.call(this,m,!1,y);return this.chart.series.length>1&&b&&m.some(B=>B.isCliff)&&(P.hasStackedCliffs=R.hasStackedCliffs=!0),P.xMap=c.xMap,this.areaPath=P,R}getStackPoints(C){let W=this,G=[],A=[],p=this.xAxis,v=this.yAxis,b=v.stacking.stacks[this.stackKey],O={},T=v.series,m=T.length,w=v.options.reversedStacks?1:-1,_=T.indexOf(W);if(C=C||this.points,this.options.stacking){for(let d=0;d<C.length;d++)C[d].leftNull=C[d].rightNull=void 0,O[C[d].x]=C[d];z(b,function(d,y){d.total!==null&&A.push(y)}),A.sort(function(d,y){return d-y});let g=T.map(d=>d.visible);A.forEach(function(d,y){let h=0,c,u;if(O[d]&&!O[d].isNull)G.push(O[d]),[-1,1].forEach(function(k){let P=k===1?"rightNull":"leftNull",R=b[A[y+k]],B=0;if(R){let I=_;for(;I>=0&&I<m;){let Y=T[I].index;!(c=R.points[Y])&&(Y===W.index?O[d][P]=!0:g[I]&&(u=b[d].points[Y])&&(B-=u[1]-u[0])),I+=w}}O[d][k===1?"rightCliff":"leftCliff"]=B});else{let k=_;for(;k>=0&&k<m;){let P=T[k].index;if(c=b[d].points[P]){h=c[1];break}k+=w}h=j(h,0),h=v.translate(h,0,1,0,1),G.push({isNull:!0,plotX:p.translate(d,0,0,0,1),x:d,plotY:h,yBottom:h})}})}return G}}return F.defaultOptions=S(l.defaultOptions,r),f(F.prototype,{singleStacks:!1}),s.registerSeriesType("area",F),F}),n(i,"Series/Spline/SplineSeries.js",[i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s){let{line:o}=r.seriesTypes,{merge:l,pick:f}=s;class S extends o{getPointSpline(j,F,q){let C,W,G,A,p=F.plotX||0,v=F.plotY||0,b=j[q-1],O=j[q+1];function T(w){return w&&!w.isNull&&w.doCurve!==!1&&!F.isCliff}if(T(b)&&T(O)){let w=b.plotX||0,_=b.plotY||0,g=O.plotX||0,d=O.plotY||0,y=0;C=(1.5*p+w)/2.5,W=(1.5*v+_)/2.5,G=(1.5*p+g)/2.5,A=(1.5*v+d)/2.5,G!==C&&(y=(A-W)*(G-p)/(G-C)+v-A),W+=y,A+=y,W>_&&W>v?(W=Math.max(_,v),A=2*v-W):W<_&&W<v&&(W=Math.min(_,v),A=2*v-W),A>d&&A>v?(A=Math.max(d,v),W=2*v-A):A<d&&A<v&&(A=Math.min(d,v),W=2*v-A),F.rightContX=G,F.rightContY=A,F.controlPoints={low:[C,W],high:[G,A]}}let m=["C",f(b.rightContX,b.plotX,0),f(b.rightContY,b.plotY,0),f(C,p,0),f(W,v,0),p,v];return b.rightContX=b.rightContY=void 0,m}}return S.defaultOptions=l(o.defaultOptions),r.registerSeriesType("spline",S),S}),n(i,"Series/AreaSpline/AreaSplineSeries.js",[i["Series/Spline/SplineSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o){let{area:l,area:{prototype:f}}=s.seriesTypes,{extend:S,merge:z}=o;class j extends r{}return j.defaultOptions=z(r.defaultOptions,l.defaultOptions),S(j.prototype,{getGraphPath:f.getGraphPath,getStackPoints:f.getStackPoints,drawGraph:f.drawGraph}),s.registerSeriesType("areaspline",j),j}),n(i,"Series/Column/ColumnSeriesDefaults.js",[],function(){return{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}}),n(i,"Series/Column/ColumnSeries.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Color/Color.js"],i["Series/Column/ColumnSeriesDefaults.js"],i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o,l,f,S,z){let{animObject:j}=r,{parse:F}=s,{noop:q}=l,{clamp:C,crisp:W,defined:G,extend:A,fireEvent:p,isArray:v,isNumber:b,merge:O,pick:T,objectEach:m}=z;class w extends f{animate(g){let d,y,h=this,c=this.yAxis,u=c.pos,k=c.reversed,P=h.options,{clipOffset:R,inverted:B}=this.chart,I={},Y=B?"translateX":"translateY";g&&R?(I.scaleY=.001,y=C(c.toPixels(P.threshold),u,u+c.len),B?(y+=k?-Math.floor(R[0]):Math.ceil(R[2]),I.translateX=y-c.len):(y+=k?Math.ceil(R[0]):-Math.floor(R[2]),I.translateY=y),h.clipBox&&h.setClip(),h.group.attr(I)):(d=Number(h.group.attr(Y)),h.group.animate({scaleY:1},A(j(h.options.animation),{step:function(re,V){h.group&&(I[Y]=d+V.pos*(u-d),h.group.attr(I))}})))}init(g,d){super.init.apply(this,arguments);let y=this;(g=y.chart).hasRendered&&g.series.forEach(function(h){h.type===y.type&&(h.isDirty=!0)})}getColumnMetrics(){var K,J;let g=this,d=g.options,y=g.xAxis,h=g.yAxis,c=y.options.reversedStacks,u=y.reversed&&!c||!y.reversed&&c,k={},P,R=0;d.grouping===!1?R=1:g.chart.series.forEach(function(ie){let ce,D=ie.yAxis,M=ie.options;ie.type===g.type&&ie.reserveSpace()&&h.len===D.len&&h.pos===D.pos&&(M.stacking&&M.stacking!=="group"?(k[P=ie.stackKey]===void 0&&(k[P]=R++),ce=k[P]):M.grouping!==!1&&(ce=R++),ie.columnIndex=ce)});let B=Math.min(Math.abs(y.transA)*(!((K=y.brokenAxis)!=null&&K.hasBreaks)&&((J=y.ordinal)==null?void 0:J.slope)||d.pointRange||y.closestPointRange||y.tickInterval||1),y.len),I=B*d.groupPadding,Y=(B-2*I)/(R||1),re=Math.min(d.maxPointWidth||y.len,T(d.pointWidth,Y*(1-2*d.pointPadding))),V=(g.columnIndex||0)+(u?1:0);return g.columnMetrics={width:re,offset:(Y-re)/2+(I+V*Y-B/2)*(u?-1:1),paddedWidth:Y,columnCount:R},g.columnMetrics}crispCol(g,d,y,h){let c=this.borderWidth,u=this.chart.inverted;return h=W(d+h,c,u)-(d=W(d,c,u)),this.options.crisp&&(y=W(g+y,c)-(g=W(g,c))),{x:g,y:d,width:y,height:h}}adjustForMissingColumns(g,d,y,h){var c;if(!y.isNull&&h.columnCount>1){let u=this.xAxis.series.filter(B=>B.visible).map(B=>B.index),k=0,P=0;m((c=this.xAxis.stacking)==null?void 0:c.stacks,B=>{if(typeof y.x=="number"){let I=B[y.x.toString()];if(I&&v(I.points[this.index])){let Y=Object.keys(I.points).filter(re=>!re.match(",")&&I.points[re]&&I.points[re].length>1).map(parseFloat).filter(re=>u.indexOf(re)!==-1).sort((re,V)=>V-re);k=Y.indexOf(this.index),P=Y.length}}}),k=this.xAxis.reversed?P-1-k:k;let R=(P-1)*h.paddedWidth+d;g=(y.plotX||0)+R/2-d-k*h.paddedWidth}return g}translate(){let g=this,d=g.chart,y=g.options,h=g.dense=g.closestPointRange*g.xAxis.transA<2,c=g.borderWidth=T(y.borderWidth,h?0:1),u=g.xAxis,k=g.yAxis,P=y.threshold,R=T(y.minPointLength,5),B=g.getColumnMetrics(),I=B.width,Y=g.pointXOffset=B.offset,re=g.dataMin,V=g.dataMax,K=g.translatedThreshold=k.getThreshold(P),J=g.barW=Math.max(I,1+2*c);y.pointPadding&&(J=Math.ceil(J)),f.prototype.translate.apply(g),g.points.forEach(function(ie){let ce=T(ie.yBottom,K),D=999+Math.abs(ce),M=ie.plotX||0,U=C(ie.plotY,-D,k.len+D),Z,x=Math.min(U,ce),N=Math.max(U,ce)-x,L=I,X=M+Y,$=J;R&&Math.abs(N)<R&&(N=R,Z=!k.reversed&&!ie.negative||k.reversed&&ie.negative,b(P)&&b(V)&&ie.y===P&&V<=P&&(k.min||0)<P&&(re!==V||(k.max||0)<=P)&&(Z=!Z,ie.negative=!ie.negative),x=Math.abs(x-K)>R?ce-R:K-(Z?R:0)),G(ie.options.pointWidth)&&(X-=Math.round(((L=$=Math.ceil(ie.options.pointWidth))-I)/2)),y.centerInCategory&&!y.stacking&&(X=g.adjustForMissingColumns(X,L,ie,B)),ie.barX=X,ie.pointWidth=L,ie.tooltipPos=d.inverted?[C(k.len+k.pos-d.plotLeft-U,k.pos-d.plotLeft,k.len+k.pos-d.plotLeft),u.len+u.pos-d.plotTop-X-$/2,N]:[u.left-d.plotLeft+X+$/2,C(U+k.pos-d.plotTop,k.pos-d.plotTop,k.len+k.pos-d.plotTop),N],ie.shapeType=g.pointClass.prototype.shapeType||"roundedRect",ie.shapeArgs=g.crispCol(X,ie.isNull?K:x,$,ie.isNull?0:N)}),p(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(g,d){let y=this.options,h=this.pointAttrToOptions||{},c=h.stroke||"borderColor",u=h["stroke-width"]||"borderWidth",k,P,R,B=g&&g.color||this.color,I=g&&g[c]||y[c]||B,Y=g&&g.options.dashStyle||y.dashStyle,re=g&&g[u]||y[u]||this[u]||0,V=T(g&&g.opacity,y.opacity,1);g&&this.zones.length&&(P=g.getZone(),B=g.options.color||P&&(P.color||g.nonZonedColor)||this.color,P&&(I=P.borderColor||I,Y=P.dashStyle||Y,re=P.borderWidth||re)),d&&g&&(R=(k=O(y.states[d],g.options.states&&g.options.states[d]||{})).brightness,B=k.color||R!==void 0&&F(B).brighten(k.brightness).get()||B,I=k[c]||I,re=k[u]||re,Y=k.dashStyle||Y,V=T(k.opacity,V));let K={fill:B,stroke:I,"stroke-width":re,opacity:V};return Y&&(K.dashstyle=Y),K}drawPoints(g=this.points){let d,y=this,h=this.chart,c=y.options,u=h.renderer,k=c.animationLimit||250;g.forEach(function(P){let R=P.plotY,B=P.graphic,I=!!B,Y=B&&h.pointCount<k?"animate":"attr";b(R)&&P.y!==null?(d=P.shapeArgs,B&&P.hasNewShapeType()&&(B=B.destroy()),y.enabledDataSorting&&(P.startXPos=y.xAxis.reversed?-(d&&d.width||0):y.xAxis.width),!B&&(P.graphic=B=u[P.shapeType](d).add(P.group||y.group),B&&y.enabledDataSorting&&h.hasRendered&&h.pointCount<k&&(B.attr({x:P.startXPos}),I=!0,Y="animate")),B&&I&&B[Y](O(d)),h.styledMode||B[Y](y.pointAttribs(P,P.selected&&"select")).shadow(P.allowShadow!==!1&&c.shadow),B&&(B.addClass(P.getClassName(),!0),B.attr({visibility:P.visible?"inherit":"hidden"}))):B&&(P.graphic=B.destroy())})}drawTracker(g=this.points){let d,y=this,h=y.chart,c=h.pointer,u=function(k){let P=c==null?void 0:c.getPointFromEvent(k);c&&P&&y.options.enableMouseTracking&&(c.isDirectTouch=!0,P.onMouseOver(k))};g.forEach(function(k){d=v(k.dataLabels)?k.dataLabels:k.dataLabel?[k.dataLabel]:[],k.graphic&&(k.graphic.element.point=k),d.forEach(function(P){(P.div||P.element).point=k})}),y._hasTracking||(y.trackerGroups.forEach(function(k){y[k]&&(y[k].addClass("highcharts-tracker").on("mouseover",u).on("mouseout",function(P){c==null||c.onTrackerMouseOut(P)}).on("touchstart",u),!h.styledMode&&y.options.cursor&&y[k].css({cursor:y.options.cursor}))}),y._hasTracking=!0),p(this,"afterDrawTracker")}remove(){let g=this,d=g.chart;d.hasRendered&&d.series.forEach(function(y){y.type===g.type&&(y.isDirty=!0)}),f.prototype.remove.apply(g,arguments)}}return w.defaultOptions=O(f.defaultOptions,o),A(w.prototype,{directTouch:!0,getSymbol:q,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),S.registerSeriesType("column",w),w}),n(i,"Core/Series/DataLabel.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Templating.js"],i["Core/Utilities.js"]],function(r,s,o){var l;let{getDeferredAnimation:f}=r,{format:S}=s,{defined:z,extend:j,fireEvent:F,isArray:q,isString:C,merge:W,objectEach:G,pick:A,pInt:p,splat:v}=o;return function(b){function O(){return y(this).some(c=>c==null?void 0:c.enabled)}function T(c,u,k,P,R){var U;let{chart:B,enabledDataSorting:I}=this,Y=this.isCartesian&&B.inverted,re=c.plotX,V=c.plotY,K=k.rotation||0,J=z(re)&&z(V)&&B.isInsidePlot(re,Math.round(V),{inverted:Y,paneCoordinates:!0,series:this}),ie=K===0&&A(k.overflow,I?"none":"justify")==="justify",ce=this.visible&&c.visible!==!1&&z(re)&&(c.series.forceDL||I&&!ie||J||A(k.inside,!!this.options.stacking)&&P&&B.isInsidePlot(re,Y?P.x+1:P.y+P.height-1,{inverted:Y,paneCoordinates:!0,series:this})),D=c.pos();if(ce&&D){var M;let Z=u.getBBox(),x=u.getBBox(void 0,0),N={right:1,center:.5}[k.align||0]||0,L={bottom:1,middle:.5}[k.verticalAlign||0]||0;if(P=j({x:D[0],y:Math.round(D[1]),width:0,height:0},P||{}),k.alignTo==="plotEdges"&&this.isCartesian&&(P[Y?"x":"y"]=0,P[Y?"width":"height"]=((U=this.yAxis)==null?void 0:U.len)||0),j(k,{width:Z.width,height:Z.height}),M=P,I&&this.xAxis&&!ie&&this.setDataLabelStartPos(c,u,R,J,M),u.align(W(k,{width:x.width,height:x.height}),!1,P,!1),u.alignAttr.x+=N*(x.width-Z.width),u.alignAttr.y+=L*(x.height-Z.height),u[u.placed?"animate":"attr"]({x:u.alignAttr.x+(Z.width-x.width)/2,y:u.alignAttr.y+(Z.height-x.height)/2,rotationOriginX:(u.width||0)/2,rotationOriginY:(u.height||0)/2}),ie&&P.height>=0)this.justifyDataLabel(u,k,u.alignAttr,Z,P,R);else if(A(k.crop,!0)){let{x:X,y:$}=u.alignAttr;ce=B.isInsidePlot(X,$,{paneCoordinates:!0,series:this})&&B.isInsidePlot(X+Z.width-1,$+Z.height-1,{paneCoordinates:!0,series:this})}k.shape&&!K&&u[R?"attr":"animate"]({anchorX:D[0],anchorY:D[1]})}R&&I&&(u.placed=!1),ce||I&&!ie?(u.show(),u.placed=!0):(u.hide(),u.placed=!1)}function m(){return this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",this.options.dataLabels.zIndex||6)}function w(c){let u=this.hasRendered||0,k=this.initDataLabelsGroup().attr({opacity:+u});return!u&&k&&(this.visible&&k.show(),this.options.animation?k.animate({opacity:1},c):k.attr({opacity:1})),k}function _(c){var ce;let u;c=c||this.points;let k=this,P=k.chart,R=k.options,B=P.renderer,{backgroundColor:I,plotBackgroundColor:Y}=P.options.chart,re=B.getContrast(C(Y)&&Y||C(I)&&I||"#000000"),V=y(k),{animation:K,defer:J}=V[0],ie=J?f(P,K,k):{defer:0,duration:0};F(this,"drawDataLabels"),(ce=k.hasDataLabels)!=null&&ce.call(k)&&(u=this.initDataLabels(ie),c.forEach(D=>{var Z,x;let M=D.dataLabels||[];v(d(V,D.dlOptions||((Z=D.options)==null?void 0:Z.dataLabels))).forEach((N,L)=>{let X=N.enabled&&(D.visible||D.dataLabelOnHidden)&&(!D.isNull||D.dataLabelOnNull)&&function(pe,de){let ge=de.filter;if(ge){let ye=ge.operator,xe=pe[ge.property],we=ge.value;return ye===">"&&xe>we||ye==="<"&&xe<we||ye===">="&&xe>=we||ye==="<="&&xe<=we||ye==="=="&&xe==we||ye==="==="&&xe===we||ye==="!="&&xe!=we||ye==="!=="&&xe!==we}return!0}(D,N),{backgroundColor:$,borderColor:te,distance:oe,style:le={}}=N,he,me,fe,ee,Q={},ne=M[L],se=!ne,ue;X&&(me=A(N[D.formatPrefix+"Format"],N.format),he=D.getLabelConfig(),fe=z(me)?S(me,he,P):(N[D.formatPrefix+"Formatter"]||N.formatter).call(he,N),ee=N.rotation,!P.styledMode&&(le.color=A(N.color,le.color,C(k.color)?k.color:void 0,"#000000"),le.color==="contrast"?($!=="none"&&(ue=$),D.contrastColor=B.getContrast(ue!=="auto"&&ue||D.color||k.color),le.color=ue||!z(oe)&&N.inside||0>p(oe||0)||R.stacking?D.contrastColor:re):delete D.contrastColor,R.cursor&&(le.cursor=R.cursor)),Q={r:N.borderRadius||0,rotation:ee,padding:N.padding,zIndex:1},P.styledMode||(Q.fill=$==="auto"?D.color:$,Q.stroke=te==="auto"?D.color:te,Q["stroke-width"]=N.borderWidth),G(Q,(pe,de)=>{pe===void 0&&delete Q[de]})),!ne||X&&z(fe)&&!!ne.div==!!N.useHTML&&(ne.rotation&&N.rotation||ne.rotation===N.rotation)||(ne=void 0,se=!0),X&&z(fe)&&(ne?Q.text=fe:(ne=B.label(fe,0,0,N.shape,void 0,void 0,N.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+D.colorIndex+" "+(N.className||"")+(N.useHTML?" highcharts-tracker":"")),ne&&(ne.options=N,ne.attr(Q),P.styledMode?le.width&&ne.css({width:le.width,textOverflow:le.textOverflow}):ne.css(le).shadow(N.shadow),F(ne,"beforeAddingDataLabel",{labelOptions:N,point:D}),ne.added||ne.add(u),k.alignDataLabel(D,ne,N,void 0,se),ne.isActive=!0,M[L]&&M[L]!==ne&&M[L].destroy(),M[L]=ne))});let U=M.length;for(;U--;)M[U]&&M[U].isActive?M[U].isActive=!1:((x=M[U])==null||x.destroy(),M.splice(U,1));D.dataLabel=M[0],D.dataLabels=M})),F(this,"afterDrawDataLabels")}function g(c,u,k,P,R,B){let I=this.chart,Y=u.align,re=u.verticalAlign,V=c.box?0:c.padding||0,K=I.inverted?this.yAxis:this.xAxis,J=K?K.left-I.plotLeft:0,ie=I.inverted?this.xAxis:this.yAxis,ce=ie?ie.top-I.plotTop:0,{x:D=0,y:M=0}=u,U,Z;return(U=(k.x||0)+V+J)<0&&(Y==="right"&&D>=0?(u.align="left",u.inside=!0):D-=U,Z=!0),(U=(k.x||0)+P.width-V+J)>I.plotWidth&&(Y==="left"&&D<=0?(u.align="right",u.inside=!0):D+=I.plotWidth-U,Z=!0),(U=k.y+V+ce)<0&&(re==="bottom"&&M>=0?(u.verticalAlign="top",u.inside=!0):M-=U,Z=!0),(U=(k.y||0)+P.height-V+ce)>I.plotHeight&&(re==="top"&&M<=0?(u.verticalAlign="bottom",u.inside=!0):M+=I.plotHeight-U,Z=!0),Z&&(u.x=D,u.y=M,c.placed=!B,c.align(u,void 0,R)),Z}function d(c,u){let k=[],P;if(q(c)&&!q(u))k=c.map(function(R){return W(R,u)});else if(q(u)&&!q(c))k=u.map(function(R){return W(c,R)});else if(q(c)||q(u)){if(q(c)&&q(u))for(P=Math.max(c.length,u.length);P--;)k[P]=W(c[P],u[P])}else k=W(c,u);return k}function y(c){var k,P;let u=c.chart.options.plotOptions;return v(d(d((k=u==null?void 0:u.series)==null?void 0:k.dataLabels,(P=u==null?void 0:u[c.type])==null?void 0:P.dataLabels),c.options.dataLabels))}function h(c,u,k,P,R){let B=this.chart,I=B.inverted,Y=this.xAxis,re=Y.reversed,V=((I?u.height:u.width)||0)/2,K=c.pointWidth,J=K?K/2:0;u.startXPos=I?R.x:re?-V-J:Y.width-V+J,u.startYPos=I?re?this.yAxis.height-V+J:-V-J:R.y,P?u.visibility==="hidden"&&(u.show(),u.attr({opacity:0}).animate({opacity:1})):u.attr({opacity:1}).animate({opacity:0},void 0,u.hide),B.hasRendered&&(k&&u.attr({x:u.startXPos,y:u.startYPos}),u.placed=!0)}b.compose=function(c){let u=c.prototype;u.initDataLabels||(u.initDataLabels=w,u.initDataLabelsGroup=m,u.alignDataLabel=T,u.drawDataLabels=_,u.justifyDataLabel=g,u.setDataLabelStartPos=h,u.hasDataLabels=O)}}(l||(l={})),l}),n(i,"Series/Column/ColumnDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o,l){var f;let{composed:S}=s,{series:z}=o,{merge:j,pick:F,pushUnique:q}=l;return function(C){function W(G,A,p,v,b){let O=this.chart.inverted,T=G.series,m=(T.xAxis?T.xAxis.len:this.chart.plotSizeX)||0,w=(T.yAxis?T.yAxis.len:this.chart.plotSizeY)||0,_=G.dlBox||G.shapeArgs,g=F(G.below,G.plotY>F(this.translatedThreshold,w)),d=F(p.inside,!!this.options.stacking);if(_){if(v=j(_),!(p.overflow==="allow"&&p.crop===!1)){v.y<0&&(v.height+=v.y,v.y=0);let y=v.y+v.height-w;y>0&&y<v.height-1&&(v.height-=y)}O&&(v={x:w-v.y-v.height,y:m-v.x-v.width,width:v.height,height:v.width}),d||(O?(v.x+=g?0:v.width,v.width=0):(v.y+=g?v.height:0,v.height=0))}p.align=F(p.align,!O||d?"center":g?"right":"left"),p.verticalAlign=F(p.verticalAlign,O||d?"middle":g?"top":"bottom"),z.prototype.alignDataLabel.call(this,G,A,p,v,b),p.inside&&G.contrastColor&&A.css({color:G.contrastColor})}C.compose=function(G){r.compose(z),q(S,"ColumnDataLabel")&&(G.prototype.alignDataLabel=W)}}(f||(f={})),f}),n(i,"Series/Bar/BarSeries.js",[i["Series/Column/ColumnSeries.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o){let{extend:l,merge:f}=o;class S extends r{}return S.defaultOptions=f(r.defaultOptions,{}),l(S.prototype,{inverted:!0}),s.registerSeriesType("bar",S),S}),n(i,"Series/Scatter/ScatterSeriesDefaults.js",[],function(){return{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}}),n(i,"Series/Scatter/ScatterSeries.js",[i["Series/Scatter/ScatterSeriesDefaults.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o){let{column:l,line:f}=s.seriesTypes,{addEvent:S,extend:z,merge:j}=o;class F extends f{applyJitter(){let C=this,W=this.options.jitter,G=this.points.length;W&&this.points.forEach(function(A,p){["x","y"].forEach(function(v,b){if(W[v]&&!A.isNull){let O=`plot${v.toUpperCase()}`,T=C[`${v}Axis`],m=W[v]*T.transA;if(T&&!T.logarithmic){let w=Math.max(0,(A[O]||0)-m),_=Math.min(T.len,(A[O]||0)+m);A[O]=w+(_-w)*function(g){let d=1e4*Math.sin(g);return d-Math.floor(d)}(p+b*G),v==="x"&&(A.clientX=A.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}return F.defaultOptions=j(f.defaultOptions,r),z(F.prototype,{drawTracker:l.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),S(F,"afterTranslate",function(){this.applyJitter()}),s.registerSeriesType("scatter",F),F}),n(i,"Series/CenteredUtilities.js",[i["Core/Globals.js"],i["Core/Series/Series.js"],i["Core/Utilities.js"]],function(r,s,o){var l,f;let{deg2rad:S}=r,{fireEvent:z,isNumber:j,pick:F,relativeLength:q}=o;return(f=l||(l={})).getCenter=function(){let C=this.options,W=this.chart,G=2*(C.slicedOffset||0),A=W.plotWidth-2*G,p=W.plotHeight-2*G,v=C.center,b=Math.min(A,p),O=C.thickness,T,m=C.size,w=C.innerSize||0,_,g;typeof m=="string"&&(m=parseFloat(m)),typeof w=="string"&&(w=parseFloat(w));let d=[F(v[0],"50%"),F(v[1],"50%"),F(m&&m<0?void 0:C.size,"100%"),F(w&&w<0?void 0:C.innerSize||0,"0%")];for(!W.angular||this instanceof s||(d[3]=0),_=0;_<4;++_)g=d[_],T=_<2||_===2&&/%$/.test(g),d[_]=q(g,[A,p,b,d[2]][_])+(T?G:0);return d[3]>d[2]&&(d[3]=d[2]),j(O)&&2*O<d[2]&&O>0&&(d[3]=d[2]-2*O),z(this,"afterGetCenter",{positions:d}),d},f.getStartAndEndRadians=function(C,W){let G=j(C)?C:0,A=j(W)&&W>G&&W-G<360?W:G+360;return{start:S*(G+-90),end:S*(A+-90)}},l}),n(i,"Series/Pie/PiePoint.js",[i["Core/Animation/AnimationUtilities.js"],i["Core/Series/Point.js"],i["Core/Utilities.js"]],function(r,s,o){let{setAnimation:l}=r,{addEvent:f,defined:S,extend:z,isNumber:j,pick:F,relativeLength:q}=o;class C extends s{getConnectorPath(G){let A=G.dataLabelPosition,p=G.options||{},v=p.connectorShape,b=this.connectorShapes[v]||v;return A&&b.call(this,{...A.computed,alignment:A.alignment},A.connectorPosition,p)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(G){let A=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(A.x,A.y,A.r+G,A.r+G,{innerR:A.r-1,start:A.start,end:A.end,borderRadius:A.borderRadius})}constructor(G,A,p){super(G,A,p),this.half=0,this.name??(this.name="Slice");let v=b=>{this.slice(b.type==="select")};f(this,"select",v),f(this,"unselect",v)}isValid(){return j(this.y)&&this.y>=0}setVisible(G,A=!0){G!==this.visible&&this.update({visible:G??!this.visible},A,void 0,!1)}slice(G,A,p){let v=this.series;l(p,v.chart),A=F(A,!0),this.sliced=this.options.sliced=G=S(G)?G:!this.sliced,v.options.data[v.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}return z(C.prototype,{connectorShapes:{fixedOffset:function(W,G,A){let p=G.breakAt,v=G.touchingSliceAt,b=A.softConnector?["C",W.x+(W.alignment==="left"?-5:5),W.y,2*p.x-v.x,2*p.y-v.y,p.x,p.y]:["L",p.x,p.y];return[["M",W.x,W.y],b,["L",v.x,v.y]]},straight:function(W,G){let A=G.touchingSliceAt;return[["M",W.x,W.y],["L",A.x,A.y]]},crookedLine:function(W,G,A){let{breakAt:p,touchingSliceAt:v}=G,{series:b}=this,[O,T,m]=b.center,w=m/2,{plotLeft:_,plotWidth:g}=b.chart,d=W.alignment==="left",{x:y,y:h}=W,c=p.x;if(A.crookDistance){let k=q(A.crookDistance,1);c=d?O+w+(g+_-O-w)*(1-k):_+(O-w)*k}else c=O+(T-h)*Math.tan((this.angle||0)-Math.PI/2);let u=[["M",y,h]];return(d?c<=y&&c>=p.x:c>=y&&c<=p.x)&&u.push(["L",c,h]),u.push(["L",p.x,p.y],["L",v.x,v.y]),u}}}),C}),n(i,"Series/Pie/PieSeriesDefaults.js",[],function(){return{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}}),n(i,"Series/Pie/PieSeries.js",[i["Series/CenteredUtilities.js"],i["Series/Column/ColumnSeries.js"],i["Core/Globals.js"],i["Series/Pie/PiePoint.js"],i["Series/Pie/PieSeriesDefaults.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Renderer/SVG/Symbols.js"],i["Core/Utilities.js"]],function(r,s,o,l,f,S,z,j,F){let{getStartAndEndRadians:q}=r,{noop:C}=o,{clamp:W,extend:G,fireEvent:A,merge:p,pick:v}=F;class b extends S{animate(T){let m=this,w=m.points,_=m.startAngleRad;T||w.forEach(function(g){let d=g.graphic,y=g.shapeArgs;d&&y&&(d.attr({r:v(g.startR,m.center&&m.center[3]/2),start:_,end:_}),d.animate({r:y.r,start:y.start,end:y.end},m.options.animation))})}drawEmpty(){let T,m,w=this.startAngleRad,_=this.endAngleRad,g=this.options;this.total===0&&this.center?(T=this.center[0],m=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(T,m,this.center[1]/2,0,w,_).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:j.arc(T,m,this.center[2]/2,0,{start:w,end:_,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":g.borderWidth,fill:g.fillColor||"none",stroke:g.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let T=this.chart.renderer;this.points.forEach(function(m){m.graphic&&m.hasNewShapeType()&&(m.graphic=m.graphic.destroy()),m.graphic||(m.graphic=T[m.shapeType](m.shapeArgs).add(m.series.group),m.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(T,m,w,_){let g=this.center,d=this.radii?this.radii[w.index]||0:g[2]/2,y=_.dataLabelPosition,h=(y==null?void 0:y.distance)||0,c=Math.asin(W((T-g[1])/(d+h),-1,1));return g[0]+Math.cos(c)*(d+h)*(m?-1:1)+(h>0?(m?-1:1)*(_.padding||0):0)}hasData(){return!!this.processedXData.length}redrawPoints(){let T,m,w,_,g=this,d=g.chart;this.drawEmpty(),g.group&&!d.styledMode&&g.group.shadow(g.options.shadow),g.points.forEach(function(y){let h={};m=y.graphic,!y.isNull&&m?(_=y.shapeArgs,T=y.getTranslate(),d.styledMode||(w=g.pointAttribs(y,y.selected&&"select")),y.delayedRendering?(m.setRadialReference(g.center).attr(_).attr(T),d.styledMode||m.attr(w).attr({"stroke-linejoin":"round"}),y.delayedRendering=!1):(m.setRadialReference(g.center),d.styledMode||p(!0,h,w),p(!0,h,_,T),m.animate(h)),m.attr({visibility:y.visible?"inherit":"hidden"}),m.addClass(y.getClassName(),!0)):m&&(y.graphic=m.destroy())})}sortByAngle(T,m){T.sort(function(w,_){return w.angle!==void 0&&(_.angle-w.angle)*m})}translate(T){A(this,"translate"),this.generatePoints();let m=this.options,w=m.slicedOffset,_=q(m.startAngle,m.endAngle),g=this.startAngleRad=_.start,d=(this.endAngleRad=_.end)-g,y=this.points,h=m.ignoreHiddenPoint,c=y.length,u,k,P,R,B,I,Y,re=0;for(T||(this.center=T=this.getCenter()),I=0;I<c;I++){Y=y[I],u=g+re*d,Y.isValid()&&(!h||Y.visible)&&(re+=Y.percentage/100),k=g+re*d;let V={x:T[0],y:T[1],r:T[2]/2,innerR:T[3]/2,start:Math.round(1e3*u)/1e3,end:Math.round(1e3*k)/1e3};Y.shapeType="arc",Y.shapeArgs=V,(P=(k+u)/2)>1.5*Math.PI?P-=2*Math.PI:P<-Math.PI/2&&(P+=2*Math.PI),Y.slicedTranslation={translateX:Math.round(Math.cos(P)*w),translateY:Math.round(Math.sin(P)*w)},R=Math.cos(P)*T[2]/2,B=Math.sin(P)*T[2]/2,Y.tooltipPos=[T[0]+.7*R,T[1]+.7*B],Y.half=P<-Math.PI/2||P>Math.PI/2?1:0,Y.angle=P}A(this,"afterTranslate")}updateTotals(){let T=this.points,m=T.length,w=this.options.ignoreHiddenPoint,_,g,d=0;for(_=0;_<m;_++)(g=T[_]).isValid()&&(!w||g.visible)&&(d+=g.y);for(_=0,this.total=d;_<m;_++)(g=T[_]).percentage=d>0&&(g.visible||!w)?g.y/d*100:0,g.total=d}}return b.defaultOptions=p(S.defaultOptions,f),G(b.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:s.prototype.drawTracker,getCenter:r.getCenter,getSymbol:C,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:s.prototype.pointAttribs,pointClass:l,requireSorting:!1,searchPoint:C,trackerGroups:["group","dataLabelsGroup"]}),z.registerSeriesType("pie",b),b}),n(i,"Series/Pie/PieDataLabel.js",[i["Core/Series/DataLabel.js"],i["Core/Globals.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Series/SeriesRegistry.js"],i["Core/Utilities.js"]],function(r,s,o,l,f){var S;let{composed:z,noop:j}=s,{distribute:F}=o,{series:q}=l,{arrayMax:C,clamp:W,defined:G,pick:A,pushUnique:p,relativeLength:v}=f;return function(b){let O={radialDistributionY:function(g,d){var y;return(((y=d.dataLabelPosition)==null?void 0:y.top)||0)+g.distributeBox.pos},radialDistributionX:function(g,d,y,h,c){let u=c.dataLabelPosition;return g.getX(y<((u==null?void 0:u.top)||0)+2||y>((u==null?void 0:u.bottom)||0)-2?h:y,d.half,d,c)},justify:function(g,d,y,h){var c;return h[0]+(g.half?-1:1)*(y+(((c=d.dataLabelPosition)==null?void 0:c.distance)||0))},alignToPlotEdges:function(g,d,y,h){let c=g.getBBox().width;return d?c+h:y-c-h},alignToConnectors:function(g,d,y,h){let c=0,u;return g.forEach(function(k){(u=k.dataLabel.getBBox().width)>c&&(c=u)}),d?c+h:y-c-h}};function T(g,d){let{center:y,options:h}=this,c=y[2]/2,u=g.angle||0,k=Math.cos(u),P=Math.sin(u),R=y[0]+k*c,B=y[1]+P*c,I=Math.min((h.slicedOffset||0)+(h.borderWidth||0),d/5);return{natural:{x:R+k*d,y:B+P*d},computed:{},alignment:d<0?"center":g.half?"right":"left",connectorPosition:{breakAt:{x:R+k*I,y:B+P*I},touchingSliceAt:{x:R,y:B}},distance:d}}function m(){var ce;let g=this,d=g.points,y=g.chart,h=y.plotWidth,c=y.plotHeight,u=y.plotLeft,k=Math.round(y.chartWidth/3),P=g.center,R=P[2]/2,B=P[1],I=[[],[]],Y=[0,0,0,0],re=g.dataLabelPositioners,V,K,J,ie=0;g.visible&&((ce=g.hasDataLabels)!=null&&ce.call(g))&&(d.forEach(D=>{(D.dataLabels||[]).forEach(M=>{M.shortened&&(M.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),M.shortened=!1)})}),q.prototype.drawDataLabels.apply(g),d.forEach(D=>{(D.dataLabels||[]).forEach((M,U)=>{var L;let Z=P[2]/2,x=M.options,N=v((x==null?void 0:x.distance)||0,Z);U===0&&I[D.half].push(D),!G((L=x==null?void 0:x.style)==null?void 0:L.width)&&M.getBBox().width>k&&(M.css({width:Math.round(.7*k)+"px"}),M.shortened=!0),M.dataLabelPosition=this.getDataLabelPosition(D,N),ie=Math.max(ie,N)})}),I.forEach((D,M)=>{let U=D.length,Z=[],x,N,L=0,X;U&&(g.sortByAngle(D,M-.5),ie>0&&(x=Math.max(0,B-R-ie),N=Math.min(B+R+ie,y.plotHeight),D.forEach($=>{($.dataLabels||[]).forEach(te=>{var le;let oe=te.dataLabelPosition;oe&&oe.distance>0&&(oe.top=Math.max(0,B-R-oe.distance),oe.bottom=Math.min(B+R+oe.distance,y.plotHeight),L=te.getBBox().height||21,te.lineHeight=y.renderer.fontMetrics(te.text||te).h+2*te.padding,$.distributeBox={target:(((le=te.dataLabelPosition)==null?void 0:le.natural.y)||0)-oe.top+te.lineHeight/2,size:L,rank:$.y},Z.push($.distributeBox))})}),F(Z,X=N+L-x,X/5)),D.forEach($=>{($.dataLabels||[]).forEach(te=>{let oe=te.options||{},le=$.distributeBox,he=te.dataLabelPosition,me=(he==null?void 0:he.natural.y)||0,fe=oe.connectorPadding||0,ee=te.lineHeight||21,Q=(ee-te.getBBox().height)/2,ne=0,se=me,ue="inherit";if(he){if(Z&&G(le)&&he.distance>0&&(le.pos===void 0?ue="hidden":(J=le.size,se=re.radialDistributionY($,te))),oe.justify)ne=re.justify($,te,R,P);else switch(oe.alignTo){case"connectors":ne=re.alignToConnectors(D,M,h,u);break;case"plotEdges":ne=re.alignToPlotEdges(te,M,h,u);break;default:ne=re.radialDistributionX(g,$,se-Q,me,te)}if(he.attribs={visibility:ue,align:he.alignment},he.posAttribs={x:ne+(oe.x||0)+({left:fe,right:-fe}[he.alignment]||0),y:se+(oe.y||0)-ee/2},he.computed.x=ne,he.computed.y=se-Q,A(oe.crop,!0)){let pe;ne-(K=te.getBBox().width)<fe&&M===1?(pe=Math.round(K-ne+fe),Y[3]=Math.max(pe,Y[3])):ne+K>h-fe&&M===0&&(pe=Math.round(ne+K-h+fe),Y[1]=Math.max(pe,Y[1])),se-J/2<0?Y[0]=Math.max(Math.round(-se+J/2),Y[0]):se+J/2>c&&(Y[2]=Math.max(Math.round(se+J/2-c),Y[2])),he.sideOverflow=pe}}})}))}),(C(Y)===0||this.verifyDataLabelOverflow(Y))&&(this.placeDataLabels(),this.points.forEach(D=>{(D.dataLabels||[]).forEach(M=>{var N;let{connectorColor:U,connectorWidth:Z=1}=M.options||{},x=M.dataLabelPosition;if(Z){let L;V=M.connector,x&&x.distance>0?(L=!V,V||(M.connector=V=y.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+D.colorIndex+(D.className?" "+D.className:"")).add(g.dataLabelsGroup)),y.styledMode||V.attr({"stroke-width":Z,stroke:U||D.color||"#666666"}),V[L?"attr":"animate"]({d:D.getConnectorPath(M)}),V.attr({visibility:(N=x.attribs)==null?void 0:N.visibility})):V&&(M.connector=V.destroy())}})})))}function w(){this.points.forEach(g=>{(g.dataLabels||[]).forEach(d=>{var h;let y=d.dataLabelPosition;y?(y.sideOverflow&&(d.css({width:Math.max(d.getBBox().width-y.sideOverflow,0)+"px",textOverflow:(((h=d.options)==null?void 0:h.style)||{}).textOverflow||"ellipsis"}),d.shortened=!0),d.attr(y.attribs),d[d.moved?"animate":"attr"](y.posAttribs),d.moved=!0):d&&d.attr({y:-9999})}),delete g.distributeBox},this)}function _(g){let d=this.center,y=this.options,h=y.center,c=y.minSize||80,u=c,k=y.size!==null;return!k&&(h[0]!==null?u=Math.max(d[2]-Math.max(g[1],g[3]),c):(u=Math.max(d[2]-g[1]-g[3],c),d[0]+=(g[3]-g[1])/2),h[1]!==null?u=W(u,c,d[2]-Math.max(g[0],g[2])):(u=W(u,c,d[2]-g[0]-g[2]),d[1]+=(g[0]-g[2])/2),u<d[2]?(d[2]=u,d[3]=Math.min(y.thickness?Math.max(0,u-2*y.thickness):Math.max(0,v(y.innerSize||0,u)),u),this.translate(d),this.drawDataLabels&&this.drawDataLabels()):k=!0),k}b.compose=function(g){if(r.compose(q),p(z,"PieDataLabel")){let d=g.prototype;d.dataLabelPositioners=O,d.alignDataLabel=j,d.drawDataLabels=m,d.getDataLabelPosition=T,d.placeDataLabels=w,d.verifyDataLabelOverflow=_}}}(S||(S={})),S}),n(i,"Core/Geometry/GeometryUtilities.js",[],function(){var r,s;return(s=r||(r={})).getCenterOfPoints=function(o){let l=o.reduce((f,S)=>(f.x+=S.x,f.y+=S.y,f),{x:0,y:0});return{x:l.x/o.length,y:l.y/o.length}},s.getDistanceBetweenPoints=function(o,l){return Math.sqrt(Math.pow(l.x-o.x,2)+Math.pow(l.y-o.y,2))},s.getAngleBetweenPoints=function(o,l){return Math.atan2(l.x-o.x,l.y-o.y)},s.pointInPolygon=function({x:o,y:l},f){let S=f.length,z,j,F=!1;for(z=0,j=S-1;z<S;j=z++){let[q,C]=f[z],[W,G]=f[j];C>l!=G>l&&o<(W-q)*(l-C)/(G-C)+q&&(F=!F)}return F},r}),n(i,"Extensions/OverlappingDataLabels.js",[i["Core/Geometry/GeometryUtilities.js"],i["Core/Utilities.js"]],function(r,s){let{pointInPolygon:o}=r,{addEvent:l,fireEvent:f,objectEach:S,pick:z}=s;function j(C){let W=C.length,G=(w,_)=>!(_.x>=w.x+w.width||_.x+_.width<=w.x||_.y>=w.y+w.height||_.y+_.height<=w.y),A=(w,_)=>{for(let g of w)if(o({x:g[0],y:g[1]},_))return!0;return!1},p,v,b,O,T,m=!1;for(let w=0;w<W;w++)(p=C[w])&&(p.oldOpacity=p.opacity,p.newOpacity=1,p.absoluteBox=function(_){var g,d;if(_&&(!_.alignAttr||_.placed)){let y=_.box?0:_.padding||0,h=_.alignAttr||{x:_.attr("x"),y:_.attr("y")},c=_.getBBox();return _.width=c.width,_.height=c.height,{x:h.x+(((g=_.parentGroup)==null?void 0:g.translateX)||0)+y,y:h.y+(((d=_.parentGroup)==null?void 0:d.translateY)||0)+y,width:(_.width||0)-2*y,height:(_.height||0)-2*y,polygon:c==null?void 0:c.polygon}}}(p));C.sort((w,_)=>(_.labelrank||0)-(w.labelrank||0));for(let w=0;w<W;++w){O=(v=C[w])&&v.absoluteBox;let _=O==null?void 0:O.polygon;for(let g=w+1;g<W;++g){T=(b=C[g])&&b.absoluteBox;let d=!1;if(O&&T&&v!==b&&v.newOpacity!==0&&b.newOpacity!==0&&v.visibility!=="hidden"&&b.visibility!=="hidden"){let y=T.polygon;if(_&&y&&_!==y?A(_,y)&&(d=!0):G(O,T)&&(d=!0),d){let h=v.labelrank<b.labelrank?v:b,c=h.text;h.newOpacity=0,c!=null&&c.element.querySelector("textPath")&&c.hide()}}}}for(let w of C)F(w,this)&&(m=!0);m&&f(this,"afterHideAllOverlappingLabels")}function F(C,W){let G,A,p=!1;return C&&(A=C.newOpacity,C.oldOpacity!==A&&(C.hasClass("highcharts-data-label")?(C[A?"removeClass":"addClass"]("highcharts-data-label-hidden"),G=function(){W.styledMode||C.css({pointerEvents:A?"auto":"none"})},p=!0,C[C.isOld?"animate":"attr"]({opacity:A},void 0,G),f(W,"afterHideOverlappingLabel")):C.attr({opacity:A})),C.isOld=!0),p}function q(){var G;let C=this,W=[];for(let A of C.labelCollectors||[])W=W.concat(A());for(let A of C.yAxis||[])A.stacking&&A.options.stackLabels&&!A.options.stackLabels.allowOverlap&&S(A.stacking.stacks,p=>{S(p,v=>{v.label&&W.push(v.label)})});for(let A of C.series||[])if(A.visible&&((G=A.hasDataLabels)!=null&&G.call(A))){let p=v=>{for(let b of v)b.visible&&(b.dataLabels||[]).forEach(O=>{var m;let T=O.options||{};O.labelrank=z(T.labelrank,b.labelrank,(m=b.shapeArgs)==null?void 0:m.height),T.allowOverlap??Number(T.distance)>0?(O.oldOpacity=O.opacity,O.newOpacity=1,F(O,C)):W.push(O)})};p(A.nodes||[]),p(A.points)}this.hideOverlappingLabels(W)}return{compose:function(C){let W=C.prototype;W.hideOverlappingLabels||(W.hideOverlappingLabels=j,l(C,"render",q))}}}),n(i,"Extensions/BorderRadius.js",[i["Core/Defaults.js"],i["Core/Globals.js"],i["Core/Utilities.js"]],function(r,s,o){let{defaultOptions:l}=r,{noop:f}=s,{addEvent:S,extend:z,isObject:j,merge:F,relativeLength:q}=o,C={radius:0,scope:"stack",where:void 0},W=f,G=f;function A(T,m,w,_,g={}){let d=W(T,m,w,_,g),{innerR:y=0,r:h=w,start:c=0,end:u=0}=g;if(g.open||!g.borderRadius)return d;let k=u-c,P=Math.sin(k/2),R=Math.max(Math.min(q(g.borderRadius||0,h-y),(h-y)/2,h*P/(1+P)),0),B=Math.min(R,k/Math.PI*2*y),I=d.length-1;for(;I--;)(function(Y,re,V){let K,J,ie,ce=Y[re],D=Y[re+1];if(D[0]==="Z"&&(D=Y[0]),(ce[0]==="M"||ce[0]==="L")&&D[0]==="A"?(K=ce,J=D,ie=!0):ce[0]==="A"&&(D[0]==="M"||D[0]==="L")&&(K=D,J=ce),K&&J&&J.params){let M=J[1],U=J[5],Z=J.params,{start:x,end:N,cx:L,cy:X}=Z,$=U?M-V:M+V,te=$?Math.asin(V/$):0,oe=U?te:-te,le=Math.cos(te)*$;ie?(Z.start=x+oe,K[1]=L+le*Math.cos(x),K[2]=X+le*Math.sin(x),Y.splice(re+1,0,["A",V,V,0,0,1,L+M*Math.cos(Z.start),X+M*Math.sin(Z.start)])):(Z.end=N-oe,J[6]=L+M*Math.cos(Z.end),J[7]=X+M*Math.sin(Z.end),Y.splice(re+1,0,["A",V,V,0,0,1,L+le*Math.cos(N),X+le*Math.sin(N)])),J[4]=Math.abs(Z.end-Z.start)<Math.PI?0:1}})(d,I,I>1?B:R);return d}function p(){var T,m;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:w,yAxis:_}=this,g=w.stacking==="percent",d=(m=(T=l.plotOptions)==null?void 0:T[this.type])==null?void 0:m.borderRadius,y=v(w.borderRadius,j(d)?d:{}),h=_.options.reversed;for(let c of this.points){let{shapeArgs:u}=c;if(c.shapeType==="roundedRect"&&u){let{width:k=0,height:P=0,y:R=0}=u,B=R,I=P;if(y.scope==="stack"&&c.stackTotal){let K=_.translate(g?100:c.stackTotal,!1,!0,!1,!0),J=_.translate(w.threshold||0,!1,!0,!1,!0),ie=this.crispCol(0,Math.min(K,J),0,Math.abs(K-J));B=ie.y,I=ie.height}let Y=(c.negative?-1:1)*(h?-1:1)==-1,re=y.where;!re&&this.is("waterfall")&&Math.abs((c.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(re="all"),re||(re="end");let V=Math.min(q(y.radius,k),k/2,re==="all"?P/2:1/0)||0;re==="end"&&(Y&&(B-=V),I+=V),z(u,{brBoxHeight:I,brBoxY:B,r:V})}}}}function v(T,m){return j(T)||(T={radius:T||0}),F(C,m,T)}function b(){let T=v(this.options.borderRadius);for(let m of this.points){let w=m.shapeArgs;w&&(w.borderRadius=q(T.radius,(w.r||0)-(w.innerR||0)))}}function O(T,m,w,_,g={}){let d=G(T,m,w,_,g),{r:y=0,brBoxHeight:h=_,brBoxY:c=m}=g,u=m-c,k=c+h-(m+_),P=u-y>-.1?0:y,R=k-y>-.1?0:y,B=Math.max(P&&u,0),I=Math.max(R&&k,0),Y=[T+P,m],re=[T+w-P,m],V=[T+w,m+P],K=[T+w,m+_-R],J=[T+w-R,m+_],ie=[T+R,m+_],ce=[T,m+_-R],D=[T,m+P],M=(U,Z)=>Math.sqrt(Math.pow(U,2)-Math.pow(Z,2));if(B){let U=M(P,P-B);Y[0]-=U,re[0]+=U,V[1]=D[1]=m+P-B}if(_<P-B){let U=M(P,P-B-_);V[0]=K[0]=T+w-P+U,J[0]=Math.min(V[0],J[0]),ie[0]=Math.max(K[0],ie[0]),ce[0]=D[0]=T+P-U,V[1]=D[1]=m+_}if(I){let U=M(R,R-I);J[0]+=U,ie[0]-=U,K[1]=ce[1]=m+_-R+I}if(_<R-I){let U=M(R,R-I-_);V[0]=K[0]=T+w-R+U,re[0]=Math.min(V[0],re[0]),Y[0]=Math.max(K[0],Y[0]),ce[0]=D[0]=T+R-U,K[1]=ce[1]=m}return d.length=0,d.push(["M",...Y],["L",...re],["A",P,P,0,0,1,...V],["L",...K],["A",R,R,0,0,1,...J],["L",...ie],["A",R,R,0,0,1,...ce],["L",...D],["A",P,P,0,0,1,...Y],["Z"]),d}return{compose:function(T,m,w){let _=T.types.pie;if(!m.symbolCustomAttribs.includes("borderRadius")){let g=w.prototype.symbols;S(T,"afterColumnTranslate",p,{order:9}),S(_,"afterTranslate",b),m.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY"),W=g.arc,G=g.roundedRect,g.arc=A,g.roundedRect=O}},optionsToObject:v}}),n(i,"Core/Responsive.js",[i["Core/Utilities.js"]],function(r){var s;let{diffObjects:o,extend:l,find:f,merge:S,pick:z,uniqueKey:j}=r;return function(F){function q(W,G){let A=W.condition;(A.callback||function(){return this.chartWidth<=z(A.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=z(A.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=z(A.minWidth,0)&&this.chartHeight>=z(A.minHeight,0)}).call(this)&&G.push(W._id)}function C(W,G){let A=this.options.responsive,p=this.currentResponsive,v=[],b;!G&&A&&A.rules&&A.rules.forEach(m=>{m._id===void 0&&(m._id=j()),this.matchResponsiveRule(m,v)},this);let O=S(...v.map(m=>f((A||{}).rules||[],w=>w._id===m)).map(m=>m&&m.chartOptions));O.isResponsiveOptions=!0,v=v.toString()||void 0;let T=p&&p.ruleIds;v===T||(p&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(p.undoOptions,W,!0),this.updatingResponsive=!1),v?((b=o(O,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:v,mergedOptions:O,undoOptions:b},this.updatingResponsive||this.update(O,W,!0)):this.currentResponsive=void 0)}F.compose=function(W){let G=W.prototype;return G.matchResponsiveRule||l(G,{matchResponsiveRule:q,setResponsive:C}),W}}(s||(s={})),s}),n(i,"masters/highcharts.src.js",[i["Core/Globals.js"],i["Core/Utilities.js"],i["Core/Defaults.js"],i["Core/Animation/Fx.js"],i["Core/Animation/AnimationUtilities.js"],i["Core/Renderer/HTML/AST.js"],i["Core/Templating.js"],i["Core/Renderer/RendererRegistry.js"],i["Core/Renderer/RendererUtilities.js"],i["Core/Renderer/SVG/SVGElement.js"],i["Core/Renderer/SVG/SVGRenderer.js"],i["Core/Renderer/HTML/HTMLElement.js"],i["Core/Axis/Axis.js"],i["Core/Axis/DateTimeAxis.js"],i["Core/Axis/LogarithmicAxis.js"],i["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],i["Core/Axis/Tick.js"],i["Core/Tooltip.js"],i["Core/Series/Point.js"],i["Core/Pointer.js"],i["Core/Legend/Legend.js"],i["Core/Legend/LegendSymbol.js"],i["Core/Chart/Chart.js"],i["Extensions/ScrollablePlotArea.js"],i["Core/Axis/Stacking/StackingAxis.js"],i["Core/Axis/Stacking/StackItem.js"],i["Core/Series/Series.js"],i["Core/Series/SeriesRegistry.js"],i["Series/Column/ColumnDataLabel.js"],i["Series/Pie/PieDataLabel.js"],i["Core/Series/DataLabel.js"],i["Extensions/OverlappingDataLabels.js"],i["Extensions/BorderRadius.js"],i["Core/Responsive.js"],i["Core/Color/Color.js"],i["Core/Time.js"]],function(r,s,o,l,f,S,z,j,F,q,C,W,G,A,p,v,b,O,T,m,w,_,g,d,y,h,c,u,k,P,R,B,I,Y,re,V){return r.AST=S,r.Axis=G,r.Chart=g,r.Color=re,r.DataLabel=R,r.Fx=l,r.HTMLElement=W,r.Legend=w,r.LegendSymbol=_,r.OverlappingDataLabels=r.OverlappingDataLabels||B,r.PlotLineOrBand=v,r.Point=T,r.Pointer=m,r.RendererRegistry=j,r.Series=c,r.SeriesRegistry=u,r.StackItem=h,r.SVGElement=q,r.SVGRenderer=C,r.Templating=z,r.Tick=b,r.Time=V,r.Tooltip=O,r.animate=f.animate,r.animObject=f.animObject,r.chart=g.chart,r.color=re.parse,r.dateFormat=z.dateFormat,r.defaultOptions=o.defaultOptions,r.distribute=F.distribute,r.format=z.format,r.getDeferredAnimation=f.getDeferredAnimation,r.getOptions=o.getOptions,r.numberFormat=z.numberFormat,r.seriesType=u.seriesType,r.setAnimation=f.setAnimation,r.setOptions=o.setOptions,r.stop=f.stop,r.time=o.defaultTime,r.timers=l.timers,I.compose(r.Series,r.SVGElement,r.SVGRenderer),k.compose(r.Series.types.column),R.compose(r.Series),A.compose(r.Axis),W.compose(r.SVGRenderer),w.compose(r.Chart),p.compose(r.Axis),B.compose(r.Chart),P.compose(r.Series.types.pie),v.compose(r.Chart,r.Axis),m.compose(r.Chart),Y.compose(r.Chart),d.compose(r.Axis,r.Chart,r.Series),y.compose(r.Axis,r.Chart,r.Series),O.compose(r.Pointer),s.extend(r,s),r}),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]})})(xy);var Mx=xy.exports;const Rx=rg(Mx);var rf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy=function(t){const e=[];let i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128)}return e},Dx=function(t){const e=[];let i=0,n=0;for(;i<t.length;){const r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[i++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[i++],o=t[i++],l=t[i++],f=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(f>>10)),e[n++]=String.fromCharCode(56320+(f&1023))}else{const s=t[i++],o=t[i++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,l=o?t[r+1]:0,f=r+2<t.length,S=f?t[r+2]:0,z=s>>2,j=(s&3)<<4|l>>4;let F=(l&15)<<2|S>>6,q=S&63;f||(q=64,o||(F=64)),n.push(i[z],i[j],i[F],i[q])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const s=i[t.charAt(r++)],l=r<t.length?i[t.charAt(r)]:0;++r;const S=r<t.length?i[t.charAt(r)]:64;++r;const j=r<t.length?i[t.charAt(r)]:64;if(++r,s==null||l==null||S==null||j==null)throw new Lx;const F=s<<2|l>>4;if(n.push(F),S!==64){const q=l<<4&240|S>>2;if(n.push(q),j!==64){const C=S<<6&192|j;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ox=function(t){const e=wy(t);return _y.encodeByteArray(e,!0)},Ka=function(t){return Ox(t).replace(/\./g,"")},Nx=function(t){try{return _y.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=()=>Vx().__FIREBASE_DEFAULTS__,Bx=()=>{if(typeof process>"u"||typeof rf>"u")return;const t=rf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nx(t[1]);return e&&JSON.parse(e)},Vc=()=>{try{return jx()||Bx()||Fx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zx=t=>{var e,i;return(i=(e=Vc())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},Ux=t=>{const e=zx(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),n]:[e.substring(0,i),n]},Ey=()=>{var t;return(t=Vc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},n=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ka(JSON.stringify(i)),Ka(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $x(){var t;const e=(t=Vc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xx(){return!$x()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qx(){try{return typeof indexedDB=="object"}catch{return!1}}function Yx(){return new Promise((t,e)=>{try{let i=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="FirebaseError";class ns extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=Kx,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ty.prototype.create)}}class Ty{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){const n=i[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Qx(s,n):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new ns(r,l,n)}}function Qx(t,e){return t.replace(Zx,(i,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const Zx=/\{\$([^}]+)}/g;function xu(t,e){if(t===e)return!0;const i=Object.keys(t),n=Object.keys(e);for(const r of i){if(!n.includes(r))return!1;const s=t[r],o=e[r];if(sf(s)&&sf(o)){if(!xu(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!i.includes(r))return!1;return!0}function sf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){return t&&t._delegate?t._delegate:t}class ho{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const n=new Hx;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tw(e))try{this.getOrInitializeService({instanceIdentifier:Hn})}catch{}for(const[i,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(i);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(e=Hn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hn){return this.instances.has(e)}getOptions(e=Hn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(r)}return r}onInit(e,i){var n;const r=this.normalizeInstanceIdentifier(i),s=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,i){const n=this.onInitCallbacks.get(i);if(n)for(const r of n)try{r(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:ew(e),options:i}),this.instances.set(e,n),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Hn){return this.component?this.component.multipleInstances?e:Hn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ew(t){return t===Hn?void 0:t}function tw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Jx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(He||(He={}));const nw={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},rw=He.INFO,sw={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},ow=(t,e,...i)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=sw[e];if(r)console[r](`[${n}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sy{constructor(e){this.name=e,this._logLevel=rw,this._logHandler=ow,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const aw=(t,e)=>e.some(i=>t instanceof i);let of,af;function lw(){return of||(of=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hw(){return af||(af=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cy=new WeakMap,wu=new WeakMap,Ay=new WeakMap,vh=new WeakMap,jc=new WeakMap;function uw(t){const e=new Promise((i,n)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{i(En(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(i=>{i instanceof IDBCursor&&Cy.set(i,t)}).catch(()=>{}),jc.set(e,t),e}function cw(t){if(wu.has(t))return;const e=new Promise((i,n)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{i(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wu.set(t,e)}let _u={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return wu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ay.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return En(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dw(t){_u=t(_u)}function pw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const n=t.call(xh(this),e,...i);return Ay.set(n,e.sort?e.sort():[e]),En(n)}:hw().includes(t)?function(...e){return t.apply(xh(this),e),En(Cy.get(this))}:function(...e){return En(t.apply(xh(this),e))}}function fw(t){return typeof t=="function"?pw(t):(t instanceof IDBTransaction&&cw(t),aw(t,lw())?new Proxy(t,_u):t)}function En(t){if(t instanceof IDBRequest)return uw(t);if(vh.has(t))return vh.get(t);const e=fw(t);return e!==t&&(vh.set(t,e),jc.set(e,t)),e}const xh=t=>jc.get(t);function gw(t,e,{blocked:i,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),l=En(o);return n&&o.addEventListener("upgradeneeded",f=>{n(En(o.result),f.oldVersion,f.newVersion,En(o.transaction),f)}),i&&o.addEventListener("blocked",f=>i(f.oldVersion,f.newVersion,f)),l.then(f=>{s&&f.addEventListener("close",()=>s()),r&&f.addEventListener("versionchange",S=>r(S.oldVersion,S.newVersion,S))}).catch(()=>{}),l}const mw=["get","getKey","getAll","getAllKeys","count"],yw=["put","add","delete","clear"],wh=new Map;function lf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const i=e.replace(/FromIndex$/,""),n=e!==i,r=yw.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||mw.includes(i)))return;const s=async function(o,...l){const f=this.transaction(o,r?"readwrite":"readonly");let S=f.store;return n&&(S=S.index(l.shift())),(await Promise.all([S[i](...l),r&&f.done]))[0]};return wh.set(e,s),s}dw(t=>({...t,get:(e,i,n)=>lf(e,i)||t.get(e,i,n),has:(e,i)=>!!lf(e,i)||t.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xw(i)){const n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}}function xw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Eu="@firebase/app",hf="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Sy("@firebase/app"),ww="@firebase/app-compat",_w="@firebase/analytics-compat",Ew="@firebase/analytics",Tw="@firebase/app-check-compat",Sw="@firebase/app-check",Cw="@firebase/auth",Aw="@firebase/auth-compat",kw="@firebase/database",bw="@firebase/data-connect",Iw="@firebase/database-compat",Pw="@firebase/functions",Mw="@firebase/functions-compat",Rw="@firebase/installations",Dw="@firebase/installations-compat",Lw="@firebase/messaging",Ow="@firebase/messaging-compat",Nw="@firebase/performance",Vw="@firebase/performance-compat",jw="@firebase/remote-config",Bw="@firebase/remote-config-compat",Fw="@firebase/storage",zw="@firebase/storage-compat",Uw="@firebase/firestore",Hw="@firebase/vertexai",Ww="@firebase/firestore-compat",Gw="firebase",$w="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="[DEFAULT]",Xw={[Eu]:"fire-core",[ww]:"fire-core-compat",[Ew]:"fire-analytics",[_w]:"fire-analytics-compat",[Sw]:"fire-app-check",[Tw]:"fire-app-check-compat",[Cw]:"fire-auth",[Aw]:"fire-auth-compat",[kw]:"fire-rtdb",[bw]:"fire-data-connect",[Iw]:"fire-rtdb-compat",[Pw]:"fire-fn",[Mw]:"fire-fn-compat",[Rw]:"fire-iid",[Dw]:"fire-iid-compat",[Lw]:"fire-fcm",[Ow]:"fire-fcm-compat",[Nw]:"fire-perf",[Vw]:"fire-perf-compat",[jw]:"fire-rc",[Bw]:"fire-rc-compat",[Fw]:"fire-gcs",[zw]:"fire-gcs-compat",[Uw]:"fire-fst",[Ww]:"fire-fst-compat",[Hw]:"fire-vertex","fire-js":"fire-js",[Gw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new Map,qw=new Map,Su=new Map;function uf(t,e){try{t.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Ja(t){const e=t.name;if(Su.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;Su.set(e,t);for(const i of Za.values())uf(i,t);for(const i of qw.values())uf(i,t);return!0}function Yw(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tn=new Ty("app","Firebase",Kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,i,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=$w;function ky(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Tu,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Tn.create("bad-app-name",{appName:String(r)});if(i||(i=Ey()),!i)throw Tn.create("no-options");const s=Za.get(r);if(s){if(xu(i,s.options)&&xu(n,s.config))return s;throw Tn.create("duplicate-app",{appName:r})}const o=new iw(r);for(const f of Su.values())o.addComponent(f);const l=new Qw(i,n,o);return Za.set(r,l),l}function Jw(t=Tu){const e=Za.get(t);if(!e&&t===Tu&&Ey())return ky();if(!e)throw Tn.create("no-app",{appName:t});return e}function Nr(t,e,i){var n;let r=(n=Xw[t])!==null&&n!==void 0?n:t;i&&(r+=`-${i}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(l.join(" "));return}Ja(new ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="firebase-heartbeat-database",t_=1,uo="firebase-heartbeat-store";let _h=null;function by(){return _h||(_h=gw(e_,t_,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uo)}catch(i){console.warn(i)}}}}).catch(t=>{throw Tn.create("idb-open",{originalErrorMessage:t.message})})),_h}async function i_(t){try{const i=(await by()).transaction(uo),n=await i.objectStore(uo).get(Iy(t));return await i.done,n}catch(e){if(e instanceof ns)qi.warn(e.message);else{const i=Tn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(i.message)}}}async function cf(t,e){try{const n=(await by()).transaction(uo,"readwrite");await n.objectStore(uo).put(e,Iy(t)),await n.done}catch(i){if(i instanceof ns)qi.warn(i.message);else{const n=Tn.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qi.warn(n.message)}}}function Iy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=1024,r_=30*24*60*60*1e3;class s_{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new a_(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,i;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=df();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=r_}),this._storage.overwrite(this._heartbeatsCache))}catch(n){qi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=df(),{heartbeatsToSend:n,unsentEntries:r}=o_(this._heartbeatsCache.heartbeats),s=Ka(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(i){return qi.warn(i),""}}}function df(){return new Date().toISOString().substring(0,10)}function o_(t,e=n_){const i=[];let n=t.slice();for(const r of t){const s=i.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),pf(i)>e){s.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),pf(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}class a_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qx()?Yx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await i_(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const r=await this.read();return cf(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const r=await this.read();return cf(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pf(t){return Ka(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t){Ja(new ho("platform-logger",e=>new vw(e),"PRIVATE")),Ja(new ho("heartbeat",e=>new s_(e),"PRIVATE")),Nr(Eu,hf,t),Nr(Eu,hf,"esm2017"),Nr("fire-js","")}l_("");var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kn,Py;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(m,w){function _(){}_.prototype=w.prototype,m.D=w.prototype,m.prototype=new _,m.prototype.constructor=m,m.C=function(g,d,y){for(var h=Array(arguments.length-2),c=2;c<arguments.length;c++)h[c-2]=arguments[c];return w.prototype[d].apply(g,h)}}function i(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,i),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(m,w,_){_||(_=0);var g=Array(16);if(typeof w=="string")for(var d=0;16>d;++d)g[d]=w.charCodeAt(_++)|w.charCodeAt(_++)<<8|w.charCodeAt(_++)<<16|w.charCodeAt(_++)<<24;else for(d=0;16>d;++d)g[d]=w[_++]|w[_++]<<8|w[_++]<<16|w[_++]<<24;w=m.g[0],_=m.g[1],d=m.g[2];var y=m.g[3],h=w+(y^_&(d^y))+g[0]+3614090360&4294967295;w=_+(h<<7&4294967295|h>>>25),h=y+(d^w&(_^d))+g[1]+3905402710&4294967295,y=w+(h<<12&4294967295|h>>>20),h=d+(_^y&(w^_))+g[2]+606105819&4294967295,d=y+(h<<17&4294967295|h>>>15),h=_+(w^d&(y^w))+g[3]+3250441966&4294967295,_=d+(h<<22&4294967295|h>>>10),h=w+(y^_&(d^y))+g[4]+4118548399&4294967295,w=_+(h<<7&4294967295|h>>>25),h=y+(d^w&(_^d))+g[5]+1200080426&4294967295,y=w+(h<<12&4294967295|h>>>20),h=d+(_^y&(w^_))+g[6]+2821735955&4294967295,d=y+(h<<17&4294967295|h>>>15),h=_+(w^d&(y^w))+g[7]+4249261313&4294967295,_=d+(h<<22&4294967295|h>>>10),h=w+(y^_&(d^y))+g[8]+1770035416&4294967295,w=_+(h<<7&4294967295|h>>>25),h=y+(d^w&(_^d))+g[9]+2336552879&4294967295,y=w+(h<<12&4294967295|h>>>20),h=d+(_^y&(w^_))+g[10]+4294925233&4294967295,d=y+(h<<17&4294967295|h>>>15),h=_+(w^d&(y^w))+g[11]+2304563134&4294967295,_=d+(h<<22&4294967295|h>>>10),h=w+(y^_&(d^y))+g[12]+1804603682&4294967295,w=_+(h<<7&4294967295|h>>>25),h=y+(d^w&(_^d))+g[13]+4254626195&4294967295,y=w+(h<<12&4294967295|h>>>20),h=d+(_^y&(w^_))+g[14]+2792965006&4294967295,d=y+(h<<17&4294967295|h>>>15),h=_+(w^d&(y^w))+g[15]+1236535329&4294967295,_=d+(h<<22&4294967295|h>>>10),h=w+(d^y&(_^d))+g[1]+4129170786&4294967295,w=_+(h<<5&4294967295|h>>>27),h=y+(_^d&(w^_))+g[6]+3225465664&4294967295,y=w+(h<<9&4294967295|h>>>23),h=d+(w^_&(y^w))+g[11]+643717713&4294967295,d=y+(h<<14&4294967295|h>>>18),h=_+(y^w&(d^y))+g[0]+3921069994&4294967295,_=d+(h<<20&4294967295|h>>>12),h=w+(d^y&(_^d))+g[5]+3593408605&4294967295,w=_+(h<<5&4294967295|h>>>27),h=y+(_^d&(w^_))+g[10]+38016083&4294967295,y=w+(h<<9&4294967295|h>>>23),h=d+(w^_&(y^w))+g[15]+3634488961&4294967295,d=y+(h<<14&4294967295|h>>>18),h=_+(y^w&(d^y))+g[4]+3889429448&4294967295,_=d+(h<<20&4294967295|h>>>12),h=w+(d^y&(_^d))+g[9]+568446438&4294967295,w=_+(h<<5&4294967295|h>>>27),h=y+(_^d&(w^_))+g[14]+3275163606&4294967295,y=w+(h<<9&4294967295|h>>>23),h=d+(w^_&(y^w))+g[3]+4107603335&4294967295,d=y+(h<<14&4294967295|h>>>18),h=_+(y^w&(d^y))+g[8]+1163531501&4294967295,_=d+(h<<20&4294967295|h>>>12),h=w+(d^y&(_^d))+g[13]+2850285829&4294967295,w=_+(h<<5&4294967295|h>>>27),h=y+(_^d&(w^_))+g[2]+4243563512&4294967295,y=w+(h<<9&4294967295|h>>>23),h=d+(w^_&(y^w))+g[7]+1735328473&4294967295,d=y+(h<<14&4294967295|h>>>18),h=_+(y^w&(d^y))+g[12]+2368359562&4294967295,_=d+(h<<20&4294967295|h>>>12),h=w+(_^d^y)+g[5]+4294588738&4294967295,w=_+(h<<4&4294967295|h>>>28),h=y+(w^_^d)+g[8]+2272392833&4294967295,y=w+(h<<11&4294967295|h>>>21),h=d+(y^w^_)+g[11]+1839030562&4294967295,d=y+(h<<16&4294967295|h>>>16),h=_+(d^y^w)+g[14]+4259657740&4294967295,_=d+(h<<23&4294967295|h>>>9),h=w+(_^d^y)+g[1]+2763975236&4294967295,w=_+(h<<4&4294967295|h>>>28),h=y+(w^_^d)+g[4]+1272893353&4294967295,y=w+(h<<11&4294967295|h>>>21),h=d+(y^w^_)+g[7]+4139469664&4294967295,d=y+(h<<16&4294967295|h>>>16),h=_+(d^y^w)+g[10]+3200236656&4294967295,_=d+(h<<23&4294967295|h>>>9),h=w+(_^d^y)+g[13]+681279174&4294967295,w=_+(h<<4&4294967295|h>>>28),h=y+(w^_^d)+g[0]+3936430074&4294967295,y=w+(h<<11&4294967295|h>>>21),h=d+(y^w^_)+g[3]+3572445317&4294967295,d=y+(h<<16&4294967295|h>>>16),h=_+(d^y^w)+g[6]+76029189&4294967295,_=d+(h<<23&4294967295|h>>>9),h=w+(_^d^y)+g[9]+3654602809&4294967295,w=_+(h<<4&4294967295|h>>>28),h=y+(w^_^d)+g[12]+3873151461&4294967295,y=w+(h<<11&4294967295|h>>>21),h=d+(y^w^_)+g[15]+530742520&4294967295,d=y+(h<<16&4294967295|h>>>16),h=_+(d^y^w)+g[2]+3299628645&4294967295,_=d+(h<<23&4294967295|h>>>9),h=w+(d^(_|~y))+g[0]+4096336452&4294967295,w=_+(h<<6&4294967295|h>>>26),h=y+(_^(w|~d))+g[7]+1126891415&4294967295,y=w+(h<<10&4294967295|h>>>22),h=d+(w^(y|~_))+g[14]+2878612391&4294967295,d=y+(h<<15&4294967295|h>>>17),h=_+(y^(d|~w))+g[5]+4237533241&4294967295,_=d+(h<<21&4294967295|h>>>11),h=w+(d^(_|~y))+g[12]+1700485571&4294967295,w=_+(h<<6&4294967295|h>>>26),h=y+(_^(w|~d))+g[3]+2399980690&4294967295,y=w+(h<<10&4294967295|h>>>22),h=d+(w^(y|~_))+g[10]+4293915773&4294967295,d=y+(h<<15&4294967295|h>>>17),h=_+(y^(d|~w))+g[1]+2240044497&4294967295,_=d+(h<<21&4294967295|h>>>11),h=w+(d^(_|~y))+g[8]+1873313359&4294967295,w=_+(h<<6&4294967295|h>>>26),h=y+(_^(w|~d))+g[15]+4264355552&4294967295,y=w+(h<<10&4294967295|h>>>22),h=d+(w^(y|~_))+g[6]+2734768916&4294967295,d=y+(h<<15&4294967295|h>>>17),h=_+(y^(d|~w))+g[13]+1309151649&4294967295,_=d+(h<<21&4294967295|h>>>11),h=w+(d^(_|~y))+g[4]+4149444226&4294967295,w=_+(h<<6&4294967295|h>>>26),h=y+(_^(w|~d))+g[11]+3174756917&4294967295,y=w+(h<<10&4294967295|h>>>22),h=d+(w^(y|~_))+g[2]+718787259&4294967295,d=y+(h<<15&4294967295|h>>>17),h=_+(y^(d|~w))+g[9]+3951481745&4294967295,m.g[0]=m.g[0]+w&4294967295,m.g[1]=m.g[1]+(d+(h<<21&4294967295|h>>>11))&4294967295,m.g[2]=m.g[2]+d&4294967295,m.g[3]=m.g[3]+y&4294967295}n.prototype.u=function(m,w){w===void 0&&(w=m.length);for(var _=w-this.blockSize,g=this.B,d=this.h,y=0;y<w;){if(d==0)for(;y<=_;)r(this,m,y),y+=this.blockSize;if(typeof m=="string"){for(;y<w;)if(g[d++]=m.charCodeAt(y++),d==this.blockSize){r(this,g),d=0;break}}else for(;y<w;)if(g[d++]=m[y++],d==this.blockSize){r(this,g),d=0;break}}this.h=d,this.o+=w},n.prototype.v=function(){var m=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);m[0]=128;for(var w=1;w<m.length-8;++w)m[w]=0;var _=8*this.o;for(w=m.length-8;w<m.length;++w)m[w]=_&255,_/=256;for(this.u(m),m=Array(16),w=_=0;4>w;++w)for(var g=0;32>g;g+=8)m[_++]=this.g[w]>>>g&255;return m};function s(m,w){var _=l;return Object.prototype.hasOwnProperty.call(_,m)?_[m]:_[m]=w(m)}function o(m,w){this.h=w;for(var _=[],g=!0,d=m.length-1;0<=d;d--){var y=m[d]|0;g&&y==w||(_[d]=y,g=!1)}this.g=_}var l={};function f(m){return-128<=m&&128>m?s(m,function(w){return new o([w|0],0>w?-1:0)}):new o([m|0],0>m?-1:0)}function S(m){if(isNaN(m)||!isFinite(m))return j;if(0>m)return G(S(-m));for(var w=[],_=1,g=0;m>=_;g++)w[g]=m/_|0,_*=4294967296;return new o(w,0)}function z(m,w){if(m.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(m.charAt(0)=="-")return G(z(m.substring(1),w));if(0<=m.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=S(Math.pow(w,8)),g=j,d=0;d<m.length;d+=8){var y=Math.min(8,m.length-d),h=parseInt(m.substring(d,d+y),w);8>y?(y=S(Math.pow(w,y)),g=g.j(y).add(S(h))):(g=g.j(_),g=g.add(S(h)))}return g}var j=f(0),F=f(1),q=f(16777216);t=o.prototype,t.m=function(){if(W(this))return-G(this).m();for(var m=0,w=1,_=0;_<this.g.length;_++){var g=this.i(_);m+=(0<=g?g:4294967296+g)*w,w*=4294967296}return m},t.toString=function(m){if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(C(this))return"0";if(W(this))return"-"+G(this).toString(m);for(var w=S(Math.pow(m,6)),_=this,g="";;){var d=b(_,w).g;_=A(_,d.j(w));var y=((0<_.g.length?_.g[0]:_.h)>>>0).toString(m);if(_=d,C(_))return y+g;for(;6>y.length;)y="0"+y;g=y+g}},t.i=function(m){return 0>m?0:m<this.g.length?this.g[m]:this.h};function C(m){if(m.h!=0)return!1;for(var w=0;w<m.g.length;w++)if(m.g[w]!=0)return!1;return!0}function W(m){return m.h==-1}t.l=function(m){return m=A(this,m),W(m)?-1:C(m)?0:1};function G(m){for(var w=m.g.length,_=[],g=0;g<w;g++)_[g]=~m.g[g];return new o(_,~m.h).add(F)}t.abs=function(){return W(this)?G(this):this},t.add=function(m){for(var w=Math.max(this.g.length,m.g.length),_=[],g=0,d=0;d<=w;d++){var y=g+(this.i(d)&65535)+(m.i(d)&65535),h=(y>>>16)+(this.i(d)>>>16)+(m.i(d)>>>16);g=h>>>16,y&=65535,h&=65535,_[d]=h<<16|y}return new o(_,_[_.length-1]&-2147483648?-1:0)};function A(m,w){return m.add(G(w))}t.j=function(m){if(C(this)||C(m))return j;if(W(this))return W(m)?G(this).j(G(m)):G(G(this).j(m));if(W(m))return G(this.j(G(m)));if(0>this.l(q)&&0>m.l(q))return S(this.m()*m.m());for(var w=this.g.length+m.g.length,_=[],g=0;g<2*w;g++)_[g]=0;for(g=0;g<this.g.length;g++)for(var d=0;d<m.g.length;d++){var y=this.i(g)>>>16,h=this.i(g)&65535,c=m.i(d)>>>16,u=m.i(d)&65535;_[2*g+2*d]+=h*u,p(_,2*g+2*d),_[2*g+2*d+1]+=y*u,p(_,2*g+2*d+1),_[2*g+2*d+1]+=h*c,p(_,2*g+2*d+1),_[2*g+2*d+2]+=y*c,p(_,2*g+2*d+2)}for(g=0;g<w;g++)_[g]=_[2*g+1]<<16|_[2*g];for(g=w;g<2*w;g++)_[g]=0;return new o(_,0)};function p(m,w){for(;(m[w]&65535)!=m[w];)m[w+1]+=m[w]>>>16,m[w]&=65535,w++}function v(m,w){this.g=m,this.h=w}function b(m,w){if(C(w))throw Error("division by zero");if(C(m))return new v(j,j);if(W(m))return w=b(G(m),w),new v(G(w.g),G(w.h));if(W(w))return w=b(m,G(w)),new v(G(w.g),w.h);if(30<m.g.length){if(W(m)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var _=F,g=w;0>=g.l(m);)_=O(_),g=O(g);var d=T(_,1),y=T(g,1);for(g=T(g,2),_=T(_,2);!C(g);){var h=y.add(g);0>=h.l(m)&&(d=d.add(_),y=h),g=T(g,1),_=T(_,1)}return w=A(m,d.j(w)),new v(d,w)}for(d=j;0<=m.l(w);){for(_=Math.max(1,Math.floor(m.m()/w.m())),g=Math.ceil(Math.log(_)/Math.LN2),g=48>=g?1:Math.pow(2,g-48),y=S(_),h=y.j(w);W(h)||0<h.l(m);)_-=g,y=S(_),h=y.j(w);C(y)&&(y=F),d=d.add(y),m=A(m,h)}return new v(d,m)}t.A=function(m){return b(this,m).h},t.and=function(m){for(var w=Math.max(this.g.length,m.g.length),_=[],g=0;g<w;g++)_[g]=this.i(g)&m.i(g);return new o(_,this.h&m.h)},t.or=function(m){for(var w=Math.max(this.g.length,m.g.length),_=[],g=0;g<w;g++)_[g]=this.i(g)|m.i(g);return new o(_,this.h|m.h)},t.xor=function(m){for(var w=Math.max(this.g.length,m.g.length),_=[],g=0;g<w;g++)_[g]=this.i(g)^m.i(g);return new o(_,this.h^m.h)};function O(m){for(var w=m.g.length+1,_=[],g=0;g<w;g++)_[g]=m.i(g)<<1|m.i(g-1)>>>31;return new o(_,m.h)}function T(m,w){var _=w>>5;w%=32;for(var g=m.g.length-_,d=[],y=0;y<g;y++)d[y]=0<w?m.i(y+_)>>>w|m.i(y+_+1)<<32-w:m.i(y+_);return new o(d,m.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Py=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=S,o.fromString=z,Kn=o}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});var na=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var My,Ps,Ry,_a,Cu,Dy,Ly,Oy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,E,H){return a==Array.prototype||a==Object.prototype||(a[E]=H.value),a};function i(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof na=="object"&&na];for(var E=0;E<a.length;++E){var H=a[E];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=i(this);function r(a,E){if(E)e:{var H=n;a=a.split(".");for(var ae=0;ae<a.length-1;ae++){var ve=a[ae];if(!(ve in H))break e;H=H[ve]}a=a[a.length-1],ae=H[a],E=E(ae),E!=ae&&E!=null&&e(H,a,{configurable:!0,writable:!0,value:E})}}function s(a,E){a instanceof String&&(a+="");var H=0,ae=!1,ve={next:function(){if(!ae&&H<a.length){var _e=H++;return{value:E(_e,a[_e]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return ve[Symbol.iterator]=function(){return ve},ve}r("Array.prototype.values",function(a){return a||function(){return s(this,function(E,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function f(a){var E=typeof a;return E=E!="object"?E:a?Array.isArray(a)?"array":E:"null",E=="array"||E=="object"&&typeof a.length=="number"}function S(a){var E=typeof a;return E=="object"&&a!=null||E=="function"}function z(a,E,H){return a.call.apply(a.bind,arguments)}function j(a,E,H){if(!a)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var ve=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ve,ae),a.apply(E,ve)}}return function(){return a.apply(E,arguments)}}function F(a,E,H){return F=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?z:j,F.apply(null,arguments)}function q(a,E){var H=Array.prototype.slice.call(arguments,1);return function(){var ae=H.slice();return ae.push.apply(ae,arguments),a.apply(this,ae)}}function C(a,E){function H(){}H.prototype=E.prototype,a.aa=E.prototype,a.prototype=new H,a.prototype.constructor=a,a.Qb=function(ae,ve,_e){for(var Pe=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Pe[Ze-2]=arguments[Ze];return E.prototype[ve].apply(ae,Pe)}}function W(a){const E=a.length;if(0<E){const H=Array(E);for(let ae=0;ae<E;ae++)H[ae]=a[ae];return H}return[]}function G(a,E){for(let H=1;H<arguments.length;H++){const ae=arguments[H];if(f(ae)){const ve=a.length||0,_e=ae.length||0;a.length=ve+_e;for(let Pe=0;Pe<_e;Pe++)a[ve+Pe]=ae[Pe]}else a.push(ae)}}class A{constructor(E,H){this.i=E,this.j=H,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function p(a){return/^[\s\xa0]*$/.test(a)}function v(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function b(a){return b[" "](a),a}b[" "]=function(){};var O=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function T(a,E,H){for(const ae in a)E.call(H,a[ae],ae,a)}function m(a,E){for(const H in a)E.call(void 0,a[H],H,a)}function w(a){const E={};for(const H in a)E[H]=a[H];return E}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function g(a,E){let H,ae;for(let ve=1;ve<arguments.length;ve++){ae=arguments[ve];for(H in ae)a[H]=ae[H];for(let _e=0;_e<_.length;_e++)H=_[_e],Object.prototype.hasOwnProperty.call(ae,H)&&(a[H]=ae[H])}}function d(a){var E=1;a=a.split(":");const H=[];for(;0<E&&a.length;)H.push(a.shift()),E--;return a.length&&H.push(a.join(":")),H}function y(a){l.setTimeout(()=>{throw a},0)}function h(){var a=B;let E=null;return a.g&&(E=a.g,a.g=a.g.next,a.g||(a.h=null),E.next=null),E}class c{constructor(){this.h=this.g=null}add(E,H){const ae=u.get();ae.set(E,H),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var u=new A(()=>new k,a=>a.reset());class k{constructor(){this.next=this.g=this.h=null}set(E,H){this.h=E,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let P,R=!1,B=new c,I=()=>{const a=l.Promise.resolve(void 0);P=()=>{a.then(Y)}};var Y=()=>{for(var a;a=h();){try{a.h.call(a.g)}catch(H){y(H)}var E=u;E.j(a),100>E.h&&(E.h++,a.next=E.g,E.g=a)}R=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(a,E){this.type=a,this.g=this.target=E,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,E=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const H=()=>{};l.addEventListener("test",H,E),l.removeEventListener("test",H,E)}catch{}return a}();function J(a,E){if(V.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var H=this.type=a.type,ae=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=E,E=a.relatedTarget){if(O){e:{try{b(E.nodeName);var ve=!0;break e}catch{}ve=!1}ve||(E=null)}}else H=="mouseover"?E=a.fromElement:H=="mouseout"&&(E=a.toElement);this.relatedTarget=E,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:ie[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&J.aa.h.call(this)}}C(J,V);var ie={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),D=0;function M(a,E,H,ae,ve){this.listener=a,this.proxy=null,this.src=E,this.type=H,this.capture=!!ae,this.ha=ve,this.key=++D,this.da=this.fa=!1}function U(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Z(a){this.src=a,this.g={},this.h=0}Z.prototype.add=function(a,E,H,ae,ve){var _e=a.toString();a=this.g[_e],a||(a=this.g[_e]=[],this.h++);var Pe=N(a,E,ae,ve);return-1<Pe?(E=a[Pe],H||(E.fa=!1)):(E=new M(E,this.src,_e,!!ae,ve),E.fa=H,a.push(E)),E};function x(a,E){var H=E.type;if(H in a.g){var ae=a.g[H],ve=Array.prototype.indexOf.call(ae,E,void 0),_e;(_e=0<=ve)&&Array.prototype.splice.call(ae,ve,1),_e&&(U(E),a.g[H].length==0&&(delete a.g[H],a.h--))}}function N(a,E,H,ae){for(var ve=0;ve<a.length;++ve){var _e=a[ve];if(!_e.da&&_e.listener==E&&_e.capture==!!H&&_e.ha==ae)return ve}return-1}var L="closure_lm_"+(1e6*Math.random()|0),X={};function $(a,E,H,ae,ve){if(Array.isArray(E)){for(var _e=0;_e<E.length;_e++)$(a,E[_e],H,ae,ve);return null}return H=ne(H),a&&a[ce]?a.K(E,H,S(ae)?!!ae.capture:!!ae,ve):te(a,E,H,!1,ae,ve)}function te(a,E,H,ae,ve,_e){if(!E)throw Error("Invalid event type");var Pe=S(ve)?!!ve.capture:!!ve,Ze=ee(a);if(Ze||(a[L]=Ze=new Z(a)),H=Ze.add(E,H,ae,Pe,_e),H.proxy)return H;if(ae=oe(),H.proxy=ae,ae.src=a,ae.listener=H,a.addEventListener)K||(ve=Pe),ve===void 0&&(ve=!1),a.addEventListener(E.toString(),ae,ve);else if(a.attachEvent)a.attachEvent(me(E.toString()),ae);else if(a.addListener&&a.removeListener)a.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return H}function oe(){function a(H){return E.call(a.src,a.listener,H)}const E=fe;return a}function le(a,E,H,ae,ve){if(Array.isArray(E))for(var _e=0;_e<E.length;_e++)le(a,E[_e],H,ae,ve);else ae=S(ae)?!!ae.capture:!!ae,H=ne(H),a&&a[ce]?(a=a.i,E=String(E).toString(),E in a.g&&(_e=a.g[E],H=N(_e,H,ae,ve),-1<H&&(U(_e[H]),Array.prototype.splice.call(_e,H,1),_e.length==0&&(delete a.g[E],a.h--)))):a&&(a=ee(a))&&(E=a.g[E.toString()],a=-1,E&&(a=N(E,H,ae,ve)),(H=-1<a?E[a]:null)&&he(H))}function he(a){if(typeof a!="number"&&a&&!a.da){var E=a.src;if(E&&E[ce])x(E.i,a);else{var H=a.type,ae=a.proxy;E.removeEventListener?E.removeEventListener(H,ae,a.capture):E.detachEvent?E.detachEvent(me(H),ae):E.addListener&&E.removeListener&&E.removeListener(ae),(H=ee(E))?(x(H,a),H.h==0&&(H.src=null,E[L]=null)):U(a)}}}function me(a){return a in X?X[a]:X[a]="on"+a}function fe(a,E){if(a.da)a=!0;else{E=new J(E,this);var H=a.listener,ae=a.ha||a.src;a.fa&&he(a),a=H.call(ae,E)}return a}function ee(a){return a=a[L],a instanceof Z?a:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function ne(a){return typeof a=="function"?a:(a[Q]||(a[Q]=function(E){return a.handleEvent(E)}),a[Q])}function se(){re.call(this),this.i=new Z(this),this.M=this,this.F=null}C(se,re),se.prototype[ce]=!0,se.prototype.removeEventListener=function(a,E,H,ae){le(this,a,E,H,ae)};function ue(a,E){var H,ae=a.F;if(ae)for(H=[];ae;ae=ae.F)H.push(ae);if(a=a.M,ae=E.type||E,typeof E=="string")E=new V(E,a);else if(E instanceof V)E.target=E.target||a;else{var ve=E;E=new V(ae,a),g(E,ve)}if(ve=!0,H)for(var _e=H.length-1;0<=_e;_e--){var Pe=E.g=H[_e];ve=pe(Pe,ae,!0,E)&&ve}if(Pe=E.g=a,ve=pe(Pe,ae,!0,E)&&ve,ve=pe(Pe,ae,!1,E)&&ve,H)for(_e=0;_e<H.length;_e++)Pe=E.g=H[_e],ve=pe(Pe,ae,!1,E)&&ve}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var a=this.i,E;for(E in a.g){for(var H=a.g[E],ae=0;ae<H.length;ae++)U(H[ae]);delete a.g[E],a.h--}}this.F=null},se.prototype.K=function(a,E,H,ae){return this.i.add(String(a),E,!1,H,ae)},se.prototype.L=function(a,E,H,ae){return this.i.add(String(a),E,!0,H,ae)};function pe(a,E,H,ae){if(E=a.i.g[String(E)],!E)return!0;E=E.concat();for(var ve=!0,_e=0;_e<E.length;++_e){var Pe=E[_e];if(Pe&&!Pe.da&&Pe.capture==H){var Ze=Pe.listener,kt=Pe.ha||Pe.src;Pe.fa&&x(a.i,Pe),ve=Ze.call(kt,ae)!==!1&&ve}}return ve&&!ae.defaultPrevented}function de(a,E,H){if(typeof a=="function")H&&(a=F(a,H));else if(a&&typeof a.handleEvent=="function")a=F(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(a,E||0)}function ge(a){a.g=de(()=>{a.g=null,a.i&&(a.i=!1,ge(a))},a.l);const E=a.h;a.h=null,a.m.apply(null,E)}class ye extends re{constructor(E,H){super(),this.m=E,this.l=H,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xe(a){re.call(this),this.h=a,this.g={}}C(xe,re);var we=[];function Ee(a){T(a.g,function(E,H){this.g.hasOwnProperty(H)&&he(E)},a),a.g={}}xe.prototype.N=function(){xe.aa.N.call(this),Ee(this)},xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=l.JSON.stringify,Ie=l.JSON.parse,Ae=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Se(){}Se.prototype.h=null;function Oe(a){return a.h||(a.h=a.i())}function Le(){}var Ne={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qe(){V.call(this,"d")}C(qe,V);function ze(){V.call(this,"c")}C(ze,V);var et={},st=null;function mt(){return st=st||new se}et.La="serverreachability";function mi(a){V.call(this,et.La,a)}C(mi,V);function Dt(a){const E=mt();ue(E,new mi(E))}et.STAT_EVENT="statevent";function Zi(a,E){V.call(this,et.STAT_EVENT,a),this.stat=E}C(Zi,V);function Ye(a){const E=mt();ue(E,new Zi(E,a))}et.Ma="timingevent";function Lt(a,E){V.call(this,et.Ma,a),this.size=E}C(Lt,V);function $t(a,E){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},E)}function Ln(){this.g=!0}Ln.prototype.xa=function(){this.g=!1};function Nl(a,E,H,ae,ve,_e){a.info(function(){if(a.g)if(_e)for(var Pe="",Ze=_e.split("&"),kt=0;kt<Ze.length;kt++){var Ke=Ze[kt].split("=");if(1<Ke.length){var Ot=Ke[0];Ke=Ke[1];var Nt=Ot.split("_");Pe=2<=Nt.length&&Nt[1]=="type"?Pe+(Ot+"="+Ke+"&"):Pe+(Ot+"=redacted&")}}else Pe=null;else Pe=_e;return"XMLHTTP REQ ("+ae+") [attempt "+ve+"]: "+E+`
`+H+`
`+Pe})}function Co(a,E,H,ae,ve,_e,Pe){a.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+ve+"]: "+E+`
`+H+`
`+_e+" "+Pe})}function Ni(a,E,H,ae){a.info(function(){return"XMLHTTP TEXT ("+E+"): "+ko(a,H)+(ae?" "+ae:"")})}function Ao(a,E){a.info(function(){return"TIMEOUT: "+E})}Ln.prototype.info=function(){};function ko(a,E){if(!a.g)return E;if(!E)return null;try{var H=JSON.parse(E);if(H){for(a=0;a<H.length;a++)if(Array.isArray(H[a])){var ae=H[a];if(!(2>ae.length)){var ve=ae[1];if(Array.isArray(ve)&&!(1>ve.length)){var _e=ve[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Pe=1;Pe<ve.length;Pe++)ve[Pe]=""}}}}return Ce(H)}catch{return E}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function en(){}C(en,Se),en.prototype.g=function(){return new XMLHttpRequest},en.prototype.i=function(){return{}},On=new en;function yi(a,E,H,ae){this.j=a,this.i=E,this.l=H,this.R=ae||1,this.U=new xe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nn}function Nn(){this.i=null,this.g="",this.h=!1}var Vn={},hr={};function tn(a,E,H){a.L=1,a.v=Mo(Vi(E)),a.m=H,a.P=!0,dd(a,null)}function dd(a,E){a.F=Date.now(),bo(a),a.A=Vi(a.v);var H=a.A,ae=a.R;Array.isArray(ae)||(ae=[String(ae)]),Ad(H.i,"t",ae),a.C=0,H=a.j.J,a.h=new Nn,a.g=Wd(a.j,H?E:null,!a.m),0<a.O&&(a.M=new ye(F(a.Y,a,a.g),a.O)),E=a.U,H=a.g,ae=a.ca;var ve="readystatechange";Array.isArray(ve)||(ve&&(we[0]=ve.toString()),ve=we);for(var _e=0;_e<ve.length;_e++){var Pe=$(H,ve[_e],ae||E.handleEvent,!1,E.h||E);if(!Pe)break;E.g[Pe.key]=Pe}E=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,E)):(a.u="GET",a.g.ea(a.A,a.u,null,E)),Dt(),Nl(a.i,a.u,a.A,a.l,a.R,a.m)}yi.prototype.ca=function(a){a=a.target;const E=this.M;E&&ji(a)==3?E.j():this.Y(a)},yi.prototype.Y=function(a){try{if(a==this.g)e:{const Nt=ji(this.g);var E=this.g.Ba();const dr=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Dd(this.g)))){this.J||Nt!=4||E==7||(E==8||0>=dr?Dt(3):Dt(2)),Vl(this);var H=this.g.Z();this.X=H;t:if(pd(this)){var ae=Dd(this.g);a="";var ve=ae.length,_e=ji(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),us(this);var Pe="";break t}this.h.i=new l.TextDecoder}for(E=0;E<ve;E++)this.h.h=!0,a+=this.h.i.decode(ae[E],{stream:!(_e&&E==ve-1)});ae.length=0,this.h.g+=a,this.C=0,Pe=this.h.g}else Pe=this.g.oa();if(this.o=H==200,Co(this.i,this.u,this.A,this.l,this.R,Nt,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,kt=this.g;if((Ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(Ze)){var Ke=Ze;break t}}Ke=null}if(H=Ke)Ni(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jl(this,H);else{this.o=!1,this.s=3,Ye(12),jn(this),us(this);break e}}if(this.P){H=!0;let vi;for(;!this.J&&this.C<Pe.length;)if(vi=j0(this,Pe),vi==hr){Nt==4&&(this.s=4,Ye(14),H=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(vi==Vn){this.s=4,Ye(15),Ni(this.i,this.l,Pe,"[Invalid Chunk]"),H=!1;break}else Ni(this.i,this.l,vi,null),jl(this,vi);if(pd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||Pe.length!=0||this.h.h||(this.s=1,Ye(16),H=!1),this.o=this.o&&H,!H)Ni(this.i,this.l,Pe,"[Invalid Chunked Response]"),jn(this),us(this);else if(0<Pe.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+Pe.length),Wl(Ot),Ot.M=!0,Ye(11))}}else Ni(this.i,this.l,Pe,null),jl(this,Pe);Nt==4&&jn(this),this.o&&!this.J&&(Nt==4?Fd(this.j,this):(this.o=!1,bo(this)))}else tv(this.g),H==400&&0<Pe.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),jn(this),us(this)}}}catch{}finally{}};function pd(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function j0(a,E){var H=a.C,ae=E.indexOf(`
`,H);return ae==-1?hr:(H=Number(E.substring(H,ae)),isNaN(H)?Vn:(ae+=1,ae+H>E.length?hr:(E=E.slice(ae,ae+H),a.C=ae+H,E)))}yi.prototype.cancel=function(){this.J=!0,jn(this)};function bo(a){a.S=Date.now()+a.I,fd(a,a.I)}function fd(a,E){if(a.B!=null)throw Error("WatchDog timer not null");a.B=$t(F(a.ba,a),E)}function Vl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}yi.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ao(this.i,this.A),this.L!=2&&(Dt(),Ye(17)),jn(this),this.s=2,us(this)):fd(this,this.S-a)};function us(a){a.j.G==0||a.J||Fd(a.j,a)}function jn(a){Vl(a);var E=a.M;E&&typeof E.ma=="function"&&E.ma(),a.M=null,Ee(a.U),a.g&&(E=a.g,a.g=null,E.abort(),E.ma())}function jl(a,E){try{var H=a.j;if(H.G!=0&&(H.g==a||Bl(H.h,a))){if(!a.K&&Bl(H.h,a)&&H.G==3){try{var ae=H.Da.g.parse(E)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var ve=ae;if(ve[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<a.F)Vo(H),Oo(H);else break e;Hl(H),Ye(18)}}else H.za=ve[1],0<H.za-H.T&&37500>ve[2]&&H.F&&H.v==0&&!H.C&&(H.C=$t(F(H.Za,H),6e3));if(1>=yd(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Fn(H,11)}else if((a.K||H.g==a)&&Vo(H),!p(E))for(ve=H.Da.g.parse(E),E=0;E<ve.length;E++){let Ke=ve[E];if(H.T=Ke[0],Ke=Ke[1],H.G==2)if(Ke[0]=="c"){H.K=Ke[1],H.ia=Ke[2];const Ot=Ke[3];Ot!=null&&(H.la=Ot,H.j.info("VER="+H.la));const Nt=Ke[4];Nt!=null&&(H.Aa=Nt,H.j.info("SVER="+H.Aa));const dr=Ke[5];dr!=null&&typeof dr=="number"&&0<dr&&(ae=1.5*dr,H.L=ae,H.j.info("backChannelRequestTimeoutMs_="+ae)),ae=H;const vi=a.g;if(vi){const Bo=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var _e=ae.h;_e.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Fl(_e,_e.h),_e.h=null))}if(ae.D){const Gl=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Gl&&(ae.ya=Gl,tt(ae.I,ae.D,Gl))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-a.F,H.j.info("Handshake RTT: "+H.R+"ms")),ae=H;var Pe=a;if(ae.qa=Hd(ae,ae.J?ae.ia:null,ae.W),Pe.K){vd(ae.h,Pe);var Ze=Pe,kt=ae.L;kt&&(Ze.I=kt),Ze.B&&(Vl(Ze),bo(Ze)),ae.g=Pe}else jd(ae);0<H.i.length&&No(H)}else Ke[0]!="stop"&&Ke[0]!="close"||Fn(H,7);else H.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Fn(H,7):Ul(H):Ke[0]!="noop"&&H.l&&H.l.ta(Ke),H.v=0)}}Dt(4)}catch{}}var B0=class{constructor(a,E){this.g=a,this.map=E}};function gd(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function md(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function yd(a){return a.h?1:a.g?a.g.size:0}function Bl(a,E){return a.h?a.h==E:a.g?a.g.has(E):!1}function Fl(a,E){a.g?a.g.add(E):a.h=E}function vd(a,E){a.h&&a.h==E?a.h=null:a.g&&a.g.has(E)&&a.g.delete(E)}gd.prototype.cancel=function(){if(this.i=xd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function xd(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let E=a.i;for(const H of a.g.values())E=E.concat(H.D);return E}return W(a.i)}function F0(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(f(a)){for(var E=[],H=a.length,ae=0;ae<H;ae++)E.push(a[ae]);return E}E=[],H=0;for(ae in a)E[H++]=a[ae];return E}function z0(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(f(a)||typeof a=="string"){var E=[];a=a.length;for(var H=0;H<a;H++)E.push(H);return E}E=[],H=0;for(const ae in a)E[H++]=ae;return E}}}function wd(a,E){if(a.forEach&&typeof a.forEach=="function")a.forEach(E,void 0);else if(f(a)||typeof a=="string")Array.prototype.forEach.call(a,E,void 0);else for(var H=z0(a),ae=F0(a),ve=ae.length,_e=0;_e<ve;_e++)E.call(void 0,ae[_e],H&&H[_e],a)}var _d=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U0(a,E){if(a){a=a.split("&");for(var H=0;H<a.length;H++){var ae=a[H].indexOf("="),ve=null;if(0<=ae){var _e=a[H].substring(0,ae);ve=a[H].substring(ae+1)}else _e=a[H];E(_e,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function Bn(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Bn){this.h=a.h,Io(this,a.j),this.o=a.o,this.g=a.g,Po(this,a.s),this.l=a.l;var E=a.i,H=new ps;H.i=E.i,E.g&&(H.g=new Map(E.g),H.h=E.h),Ed(this,H),this.m=a.m}else a&&(E=String(a).match(_d))?(this.h=!1,Io(this,E[1]||"",!0),this.o=cs(E[2]||""),this.g=cs(E[3]||"",!0),Po(this,E[4]),this.l=cs(E[5]||"",!0),Ed(this,E[6]||"",!0),this.m=cs(E[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}Bn.prototype.toString=function(){var a=[],E=this.j;E&&a.push(ds(E,Td,!0),":");var H=this.g;return(H||E=="file")&&(a.push("//"),(E=this.o)&&a.push(ds(E,Td,!0),"@"),a.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&a.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&a.push("/"),a.push(ds(H,H.charAt(0)=="/"?G0:W0,!0))),(H=this.i.toString())&&a.push("?",H),(H=this.m)&&a.push("#",ds(H,X0)),a.join("")};function Vi(a){return new Bn(a)}function Io(a,E,H){a.j=H?cs(E,!0):E,a.j&&(a.j=a.j.replace(/:$/,""))}function Po(a,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);a.s=E}else a.s=null}function Ed(a,E,H){E instanceof ps?(a.i=E,q0(a.i,a.h)):(H||(E=ds(E,$0)),a.i=new ps(E,a.h))}function tt(a,E,H){a.i.set(E,H)}function Mo(a){return tt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function cs(a,E){return a?E?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ds(a,E,H){return typeof a=="string"?(a=encodeURI(a).replace(E,H0),H&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function H0(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Td=/[#\/\?@]/g,W0=/[#\?:]/g,G0=/[#\?]/g,$0=/[#\?@]/g,X0=/#/g;function ps(a,E){this.h=this.g=null,this.i=a||null,this.j=!!E}function nn(a){a.g||(a.g=new Map,a.h=0,a.i&&U0(a.i,function(E,H){a.add(decodeURIComponent(E.replace(/\+/g," ")),H)}))}t=ps.prototype,t.add=function(a,E){nn(this),this.i=null,a=ur(this,a);var H=this.g.get(a);return H||this.g.set(a,H=[]),H.push(E),this.h+=1,this};function Sd(a,E){nn(a),E=ur(a,E),a.g.has(E)&&(a.i=null,a.h-=a.g.get(E).length,a.g.delete(E))}function Cd(a,E){return nn(a),E=ur(a,E),a.g.has(E)}t.forEach=function(a,E){nn(this),this.g.forEach(function(H,ae){H.forEach(function(ve){a.call(E,ve,ae,this)},this)},this)},t.na=function(){nn(this);const a=Array.from(this.g.values()),E=Array.from(this.g.keys()),H=[];for(let ae=0;ae<E.length;ae++){const ve=a[ae];for(let _e=0;_e<ve.length;_e++)H.push(E[ae])}return H},t.V=function(a){nn(this);let E=[];if(typeof a=="string")Cd(this,a)&&(E=E.concat(this.g.get(ur(this,a))));else{a=Array.from(this.g.values());for(let H=0;H<a.length;H++)E=E.concat(a[H])}return E},t.set=function(a,E){return nn(this),this.i=null,a=ur(this,a),Cd(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[E]),this.h+=1,this},t.get=function(a,E){return a?(a=this.V(a),0<a.length?String(a[0]):E):E};function Ad(a,E,H){Sd(a,E),0<H.length&&(a.i=null,a.g.set(ur(a,E),W(H)),a.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],E=Array.from(this.g.keys());for(var H=0;H<E.length;H++){var ae=E[H];const _e=encodeURIComponent(String(ae)),Pe=this.V(ae);for(ae=0;ae<Pe.length;ae++){var ve=_e;Pe[ae]!==""&&(ve+="="+encodeURIComponent(String(Pe[ae]))),a.push(ve)}}return this.i=a.join("&")};function ur(a,E){return E=String(E),a.j&&(E=E.toLowerCase()),E}function q0(a,E){E&&!a.j&&(nn(a),a.i=null,a.g.forEach(function(H,ae){var ve=ae.toLowerCase();ae!=ve&&(Sd(this,ae),Ad(this,ve,H))},a)),a.j=E}function Y0(a,E){const H=new Ln;if(l.Image){const ae=new Image;ae.onload=q(rn,H,"TestLoadImage: loaded",!0,E,ae),ae.onerror=q(rn,H,"TestLoadImage: error",!1,E,ae),ae.onabort=q(rn,H,"TestLoadImage: abort",!1,E,ae),ae.ontimeout=q(rn,H,"TestLoadImage: timeout",!1,E,ae),l.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=a}else E(!1)}function K0(a,E){const H=new Ln,ae=new AbortController,ve=setTimeout(()=>{ae.abort(),rn(H,"TestPingServer: timeout",!1,E)},1e4);fetch(a,{signal:ae.signal}).then(_e=>{clearTimeout(ve),_e.ok?rn(H,"TestPingServer: ok",!0,E):rn(H,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ve),rn(H,"TestPingServer: error",!1,E)})}function rn(a,E,H,ae,ve){try{ve&&(ve.onload=null,ve.onerror=null,ve.onabort=null,ve.ontimeout=null),ae(H)}catch{}}function Q0(){this.g=new Ae}function Z0(a,E,H){const ae=H||"";try{wd(a,function(ve,_e){let Pe=ve;S(ve)&&(Pe=Ce(ve)),E.push(ae+_e+"="+encodeURIComponent(Pe))})}catch(ve){throw E.push(ae+"type="+encodeURIComponent("_badmap")),ve}}function Ro(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Ro,Se),Ro.prototype.g=function(){return new Do(this.l,this.j)},Ro.prototype.i=function(a){return function(){return a}}({});function Do(a,E){se.call(this),this.D=a,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Do,se),t=Do.prototype,t.open=function(a,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=E,this.readyState=1,gs(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(E.body=a),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kd(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function kd(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var E=a.value?a.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!a.done}))&&(this.response=this.responseText+=E)}a.done?fs(this):gs(this),this.readyState==3&&kd(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,fs(this))},t.Qa=function(a){this.g&&(this.response=a,fs(this))},t.ga=function(){this.g&&fs(this)};function fs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,gs(a)}t.setRequestHeader=function(a,E){this.u.append(a,E)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],E=this.h.entries();for(var H=E.next();!H.done;)H=H.value,a.push(H[0]+": "+H[1]),H=E.next();return a.join(`\r
`)};function gs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function bd(a){let E="";return T(a,function(H,ae){E+=ae,E+=":",E+=H,E+=`\r
`}),E}function zl(a,E,H){e:{for(ae in H){var ae=!1;break e}ae=!0}ae||(H=bd(H),typeof a=="string"?H!=null&&encodeURIComponent(String(H)):tt(a,E,H))}function ct(a){se.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ct,se);var J0=/^https?$/i,ev=["POST","PUT"];t=ct.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,E,H,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);E=E?E.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Oe(this.o):Oe(On),this.g.onreadystatechange=F(this.Ea,this);try{this.B=!0,this.g.open(E,String(a),!0),this.B=!1}catch(_e){Id(this,_e);return}if(a=H||"",H=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var ve in ae)H.set(ve,ae[ve]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const _e of ae.keys())H.set(_e,ae.get(_e));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(H.keys()).find(_e=>_e.toLowerCase()=="content-type"),ve=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(ev,E,void 0))||ae||ve||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Pe]of H)this.g.setRequestHeader(_e,Pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rd(this),this.u=!0,this.g.send(a),this.u=!1}catch(_e){Id(this,_e)}};function Id(a,E){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=E,a.m=5,Pd(a),Lo(a)}function Pd(a){a.A||(a.A=!0,ue(a,"complete"),ue(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ue(this,"complete"),ue(this,"abort"),Lo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lo(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Md(this):this.bb())},t.bb=function(){Md(this)};function Md(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ji(a)!=4||a.Z()!=2)){if(a.u&&ji(a)==4)de(a.Ea,0,a);else if(ue(a,"readystatechange"),ji(a)==4){a.h=!1;try{const Pe=a.Z();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var H;if(!(H=E)){var ae;if(ae=Pe===0){var ve=String(a.D).match(_d)[1]||null;!ve&&l.self&&l.self.location&&(ve=l.self.location.protocol.slice(0,-1)),ae=!J0.test(ve?ve.toLowerCase():"")}H=ae}if(H)ue(a,"complete"),ue(a,"success");else{a.m=6;try{var _e=2<ji(a)?a.g.statusText:""}catch{_e=""}a.l=_e+" ["+a.Z()+"]",Pd(a)}}finally{Lo(a)}}}}function Lo(a,E){if(a.g){Rd(a);const H=a.g,ae=a.v[0]?()=>{}:null;a.g=null,a.v=null,E||ue(a,"ready");try{H.onreadystatechange=ae}catch{}}}function Rd(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ji(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ji(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var E=this.g.responseText;return a&&E.indexOf(a)==0&&(E=E.substring(a.length)),Ie(E)}};function Dd(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tv(a){const E={};a=(a.g&&2<=ji(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<a.length;ae++){if(p(a[ae]))continue;var H=d(a[ae]);const ve=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const _e=E[ve]||[];E[ve]=_e,_e.push(H)}m(E,function(ae){return ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(a,E,H){return H&&H.internalChannelParams&&H.internalChannelParams[a]||E}function Ld(a){this.Aa=0,this.i=[],this.j=new Ln,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,a),this.cb=ms("retryDelaySeedMs",1e4,a),this.Wa=ms("forwardChannelMaxRetries",2,a),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new gd(a&&a.concurrentRequestLimit),this.Da=new Q0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ld.prototype,t.la=8,t.G=1,t.connect=function(a,E,H,ae){Ye(0),this.W=a,this.H=E||{},H&&ae!==void 0&&(this.H.OSID=H,this.H.OAID=ae),this.F=this.X,this.I=Hd(this,null,this.W),No(this)};function Ul(a){if(Od(a),a.G==3){var E=a.U++,H=Vi(a.I);if(tt(H,"SID",a.K),tt(H,"RID",E),tt(H,"TYPE","terminate"),ys(a,H),E=new yi(a,a.j,E),E.L=2,E.v=Mo(Vi(H)),H=!1,l.navigator&&l.navigator.sendBeacon)try{H=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!H&&l.Image&&(new Image().src=E.v,H=!0),H||(E.g=Wd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),bo(E)}Ud(a)}function Oo(a){a.g&&(Wl(a),a.g.cancel(),a.g=null)}function Od(a){Oo(a),a.u&&(l.clearTimeout(a.u),a.u=null),Vo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function No(a){if(!md(a.h)&&!a.s){a.s=!0;var E=a.Ga;P||I(),R||(P(),R=!0),B.add(E,a),a.B=0}}function iv(a,E){return yd(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=E.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=$t(F(a.Ga,a,E),zd(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const ve=new yi(this,this.j,a);let _e=this.o;if(this.S&&(_e?(_e=w(_e),g(_e,this.S)):_e=this.S),this.m!==null||this.O||(ve.H=_e,_e=null),this.P)e:{for(var E=0,H=0;H<this.i.length;H++){t:{var ae=this.i[H];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(E+=ae,4096<E){E=H;break e}if(E===4096||H===this.i.length-1){E=H+1;break e}}E=1e3}else E=1e3;E=Vd(this,ve,E),H=Vi(this.I),tt(H,"RID",a),tt(H,"CVER",22),this.D&&tt(H,"X-HTTP-Session-Id",this.D),ys(this,H),_e&&(this.O?E="headers="+encodeURIComponent(String(bd(_e)))+"&"+E:this.m&&zl(H,this.m,_e)),Fl(this.h,ve),this.Ua&&tt(H,"TYPE","init"),this.P?(tt(H,"$req",E),tt(H,"SID","null"),ve.T=!0,tn(ve,H,null)):tn(ve,H,E),this.G=2}}else this.G==3&&(a?Nd(this,a):this.i.length==0||md(this.h)||Nd(this))};function Nd(a,E){var H;E?H=E.l:H=a.U++;const ae=Vi(a.I);tt(ae,"SID",a.K),tt(ae,"RID",H),tt(ae,"AID",a.T),ys(a,ae),a.m&&a.o&&zl(ae,a.m,a.o),H=new yi(a,a.j,H,a.B+1),a.m===null&&(H.H=a.o),E&&(a.i=E.D.concat(a.i)),E=Vd(a,H,1e3),H.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Fl(a.h,H),tn(H,ae,E)}function ys(a,E){a.H&&T(a.H,function(H,ae){tt(E,ae,H)}),a.l&&wd({},function(H,ae){tt(E,ae,H)})}function Vd(a,E,H){H=Math.min(a.i.length,H);var ae=a.l?F(a.l.Na,a.l,a):null;e:{var ve=a.i;let _e=-1;for(;;){const Pe=["count="+H];_e==-1?0<H?(_e=ve[0].g,Pe.push("ofs="+_e)):_e=0:Pe.push("ofs="+_e);let Ze=!0;for(let kt=0;kt<H;kt++){let Ke=ve[kt].g;const Ot=ve[kt].map;if(Ke-=_e,0>Ke)_e=Math.max(0,ve[kt].g-100),Ze=!1;else try{Z0(Ot,Pe,"req"+Ke+"_")}catch{ae&&ae(Ot)}}if(Ze){ae=Pe.join("&");break e}}}return a=a.i.splice(0,H),E.D=a,ae}function jd(a){if(!a.g&&!a.u){a.Y=1;var E=a.Fa;P||I(),R||(P(),R=!0),B.add(E,a),a.v=0}}function Hl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=$t(F(a.Fa,a),zd(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Bd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=$t(F(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),Oo(this),Bd(this))};function Wl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Bd(a){a.g=new yi(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var E=Vi(a.qa);tt(E,"RID","rpc"),tt(E,"SID",a.K),tt(E,"AID",a.T),tt(E,"CI",a.F?"0":"1"),!a.F&&a.ja&&tt(E,"TO",a.ja),tt(E,"TYPE","xmlhttp"),ys(a,E),a.m&&a.o&&zl(E,a.m,a.o),a.L&&(a.g.I=a.L);var H=a.g;a=a.ia,H.L=1,H.v=Mo(Vi(E)),H.m=null,H.P=!0,dd(H,a)}t.Za=function(){this.C!=null&&(this.C=null,Oo(this),Hl(this),Ye(19))};function Vo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Fd(a,E){var H=null;if(a.g==E){Vo(a),Wl(a),a.g=null;var ae=2}else if(Bl(a.h,E))H=E.D,vd(a.h,E),ae=1;else return;if(a.G!=0){if(E.o)if(ae==1){H=E.m?E.m.length:0,E=Date.now()-E.F;var ve=a.B;ae=mt(),ue(ae,new Lt(ae,H)),No(a)}else jd(a);else if(ve=E.s,ve==3||ve==0&&0<E.X||!(ae==1&&iv(a,E)||ae==2&&Hl(a)))switch(H&&0<H.length&&(E=a.h,E.i=E.i.concat(H)),ve){case 1:Fn(a,5);break;case 4:Fn(a,10);break;case 3:Fn(a,6);break;default:Fn(a,2)}}}function zd(a,E){let H=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(H*=2),H*E}function Fn(a,E){if(a.j.info("Error code "+E),E==2){var H=F(a.fb,a),ae=a.Xa;const ve=!ae;ae=new Bn(ae||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Io(ae,"https"),Mo(ae),ve?Y0(ae.toString(),H):K0(ae.toString(),H)}else Ye(2);a.G=0,a.l&&a.l.sa(E),Ud(a),Od(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function Ud(a){if(a.G=0,a.ka=[],a.l){const E=xd(a.h);(E.length!=0||a.i.length!=0)&&(G(a.ka,E),G(a.ka,a.i),a.h.i.length=0,W(a.i),a.i.length=0),a.l.ra()}}function Hd(a,E,H){var ae=H instanceof Bn?Vi(H):new Bn(H);if(ae.g!="")E&&(ae.g=E+"."+ae.g),Po(ae,ae.s);else{var ve=l.location;ae=ve.protocol,E=E?E+"."+ve.hostname:ve.hostname,ve=+ve.port;var _e=new Bn(null);ae&&Io(_e,ae),E&&(_e.g=E),ve&&Po(_e,ve),H&&(_e.l=H),ae=_e}return H=a.D,E=a.ya,H&&E&&tt(ae,H,E),tt(ae,"VER",a.la),ys(a,ae),ae}function Wd(a,E,H){if(E&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=a.Ca&&!a.pa?new ct(new Ro({eb:H})):new ct(a.pa),E.Ha(a.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gd(){}t=Gd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jo(){}jo.prototype.g=function(a,E){return new ni(a,E)};function ni(a,E){se.call(this),this.g=new Ld(E),this.l=a,this.h=E&&E.messageUrlParams||null,a=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(a?a["X-WebChannel-Content-Type"]=E.messageContentType:a={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(a?a["X-WebChannel-Client-Profile"]=E.va:a={"X-WebChannel-Client-Profile":E.va}),this.g.S=a,(a=E&&E.Sb)&&!p(a)&&(this.g.m=a),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!p(E)&&(this.g.D=E,a=this.h,a!==null&&E in a&&(a=this.h,E in a&&delete a[E])),this.j=new cr(this)}C(ni,se),ni.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ni.prototype.close=function(){Ul(this.g)},ni.prototype.o=function(a){var E=this.g;if(typeof a=="string"){var H={};H.__data__=a,a=H}else this.u&&(H={},H.__data__=Ce(a),a=H);E.i.push(new B0(E.Ya++,a)),E.G==3&&No(E)},ni.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,ni.aa.N.call(this)};function $d(a){qe.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var E=a.__sm__;if(E){e:{for(const H in E){a=H;break e}a=void 0}(this.i=a)&&(a=this.i,E=E!==null&&a in E?E[a]:void 0),this.data=E}else this.data=a}C($d,qe);function Xd(){ze.call(this),this.status=1}C(Xd,ze);function cr(a){this.g=a}C(cr,Gd),cr.prototype.ua=function(){ue(this.g,"a")},cr.prototype.ta=function(a){ue(this.g,new $d(a))},cr.prototype.sa=function(a){ue(this.g,new Xd)},cr.prototype.ra=function(){ue(this.g,"b")},jo.prototype.createWebChannel=jo.prototype.g,ni.prototype.send=ni.prototype.o,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,Oy=function(){return new jo},Ly=function(){return mt()},Dy=et,Cu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,_a=Ji,hs.COMPLETE="complete",Ry=hs,Le.EventType=Ne,Ne.OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",se.prototype.listen=se.prototype.K,Ps=Le,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,My=ct}).apply(typeof na<"u"?na:typeof self<"u"?self:typeof window<"u"?window:{});const gf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Sy("@firebase/firestore");function fr(){return rr.logLevel}function Me(t,...e){if(rr.logLevel<=He.DEBUG){const i=e.map(Bc);rr.debug(`Firestore (${rs}): ${t}`,...i)}}function Yi(t,...e){if(rr.logLevel<=He.ERROR){const i=e.map(Bc);rr.error(`Firestore (${rs}): ${t}`,...i)}}function Xr(t,...e){if(rr.logLevel<=He.WARN){const i=e.map(Bc);rr.warn(`Firestore (${rs}): ${t}`,...i)}}function Bc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t="Unexpected state"){const e=`FIRESTORE (${rs}) INTERNAL ASSERTION FAILED: `+t;throw Yi(e),new Error(e)}function ht(t,e){t||Be()}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends ns{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(zt.UNAUTHENTICATED))}shutdown(){}}class u_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class c_{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ht(this.o===void 0);let n=this.i;const r=f=>this.i!==n?(n=this.i,i(f)):Promise.resolve();let s=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const f=s;e.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},l=f=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(f=>l(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?l(f):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qn)}},0),o()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ht(typeof n.accessToken=="string"),new Ny(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new zt(e)}}class d_{constructor(e,i,n){this.l=e,this.h=i,this.P=n,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class p_{constructor(e,i,n){this.l=e,this.h=i,this.P=n}getToken(){return Promise.resolve(new d_(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g_{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){ht(this.o===void 0);const n=s=>{s.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?i(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const r=s=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ht(typeof i.token=="string"),this.R=i.token,new f_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=m_(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<i&&(n+=e.charAt(r[s]%e.length))}return n}}function We(t,e){return t<e?-1:t>e?1:0}function qr(t,e,i){return t.length===e.length&&t.every((n,r)=>i(n,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*i));return new wt(i,n)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new De(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new De(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new De(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new wt(0,0))}static max(){return new je(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,i,n){i===void 0?i=0:i>e.length&&Be(),n===void 0?n=e.length-i:n>e.length-i&&Be(),this.segments=e,this.offset=i,this.len=n}get length(){return this.len}isEqual(e){return co.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof co?e.forEach(n=>{i.push(n)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,n=this.limit();i<n;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const n=Math.min(e.length,i.length);for(let r=0;r<n;r++){const s=e.get(r),o=i.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<i.length?-1:e.length>i.length?1:0}}class at extends co{construct(e,i,n){return new at(e,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const n of e){if(n.indexOf("//")>=0)throw new De(be.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new at(i)}static emptyPath(){return new at([])}}const v_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends co{construct(e,i,n){return new Wt(e,i,n)}static isValidIdentifier(e){return v_.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const i=[];let n="",r=0;const s=()=>{if(n.length===0)throw new De(be.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new De(be.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new De(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=f,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(n+=l,r++):(s(),r++)}if(s(),o)throw new De(be.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(i)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(at.fromString(e))}static fromName(e){return new Ve(at.fromString(e).popFirst(5))}static empty(){return new Ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return at.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new at(e.slice()))}}function x_(t,e){const i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,r=je.fromTimestamp(n===1e9?new wt(i+1,0):new wt(i,n));return new An(r,Ve.empty(),e)}function w_(t){return new An(t.readTime,t.key,-1)}class An{constructor(e,i,n){this.readTime=e,this.documentKey=i,this.largestBatchId=n}static min(){return new An(je.min(),Ve.empty(),-1)}static max(){return new An(je.max(),Ve.empty(),-1)}}function __(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=Ve.comparator(t.documentKey,e.documentKey),i!==0?i:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t){if(t.code!==be.FAILED_PRECONDITION||t.message!==E_)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Te((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(i,s).next(n,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Te?i:Te.resolve(i)}catch(i){return Te.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Te.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Te.reject(i)}static resolve(e){return new Te((i,n)=>{i(e)})}static reject(e){return new Te((i,n)=>{n(e)})}static waitFor(e){return new Te((i,n)=>{let r=0,s=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++s,o&&s===r&&i()},f=>n(f))}),o=!0,s===r&&i()})}static or(e){let i=Te.resolve(!1);for(const n of e)i=i.next(r=>r?Te.resolve(r):n());return i}static forEach(e,i){const n=[];return e.forEach((r,s)=>{n.push(i.call(this,r,s))}),this.waitFor(n)}static mapArray(e,i){return new Te((n,r)=>{const s=e.length,o=new Array(s);let l=0;for(let f=0;f<s;f++){const S=f;i(e[S]).next(z=>{o[S]=z,++l,l===s&&n(o)},z=>r(z))}})}static doWhile(e,i){return new Te((n,r)=>{const s=()=>{e()===!0?i().next(()=>{s()},r):n()};s()})}}function S_(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ss(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=n=>this.ie(n),this.se=n=>i.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Tl.oe=-1;function Sl(t){return t==null}function el(t){return t===0&&1/t==-1/0}function C_(t){return typeof t=="number"&&Number.isInteger(t)&&!el(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){let e="";for(let i=0;i<t.length;i++)e.length>0&&(e=mf(e)),e=k_(t.get(i),e);return mf(e)}function k_(t,e){let i=e;const n=t.length;for(let r=0;r<n;r++){const s=t.charAt(r);switch(s){case"\0":i+="";break;case"":i+="";break;default:i+=s}}return i}function mf(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){let e=0;for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function os(t,e){for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function Vy(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,i){this.comparator=e,this.root=i||It.EMPTY}insert(e,i){return new gt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,It.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const n=this.comparator(e,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(e){let i=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,n)=>(e(i,n),!1))}toString(){const e=[];return this.inorderTraversal((i,n)=>(e.push(`${i}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ra(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ra(this.root,e,this.comparator,!1)}getReverseIterator(){return new ra(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ra(this.root,e,this.comparator,!0)}}class ra{constructor(e,i,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=i?n(e.key,i):1,i&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class It{constructor(e,i,n,r,s){this.key=e,this.value=i,this.color=n??It.RED,this.left=r??It.EMPTY,this.right=s??It.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,n,r,s){return new It(e??this.key,i??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,i,n),null):s===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return It.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let n,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return It.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Be();const e=this.left.check();if(e!==this.right.check())throw Be();return e+(this.isRed()?0:1)}}It.EMPTY=null,It.RED=!0,It.BLACK=!1;It.EMPTY=new class{constructor(){this.size=0}get key(){throw Be()}get value(){throw Be()}get color(){throw Be()}get left(){throw Be()}get right(){throw Be()}copy(e,i,n,r,s){return this}insert(e,i,n){return new It(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,n)=>(e(i),!1))}forEachInRange(e,i){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new vf(this.data.getIterator())}getIteratorFrom(e){return new vf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(n=>{i=i.add(n)}),i}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const i=this.data.getIterator(),n=e.data.getIterator();for(;i.hasNext();){const r=i.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Tt(this.comparator);return i.data=e,i}}class vf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new dn([])}unionWith(e){let i=new Tt(Wt.comparator);for(const n of this.fields)i=i.add(n);for(const n of e)i=i.add(n);return new dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return qr(this.fields,e.fields,(i,n)=>i.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jy("Invalid base64 string: "+s):s}}(e);return new Rt(i)}static fromUint8Array(e){const i=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Rt(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const b_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kn(t){if(ht(!!t),typeof t=="string"){let e=0;const i=b_.exec(t);if(ht(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bn(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){var e,i;return((i=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Cl(t){const e=t.mapValue.fields.__previous_value__;return Fc(e)?Cl(e):e}function po(t){const e=kn(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,i,n,r,s,o,l,f,S){this.databaseId=e,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=f,this.useFetchStreams=S}}class fo{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new fo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function In(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fc(t)?4:M_(t)?9007199254740991:P_(t)?10:11:Be()}function Oi(t,e){if(t===e)return!0;const i=In(t);if(i!==In(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return po(t).isEqual(po(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=kn(r.timestampValue),l=kn(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return bn(r.bytesValue).isEqual(bn(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return pt(r.geoPointValue.latitude)===pt(s.geoPointValue.latitude)&&pt(r.geoPointValue.longitude)===pt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return pt(r.integerValue)===pt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=pt(r.doubleValue),l=pt(s.doubleValue);return o===l?el(o)===el(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return qr(t.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},l=s.mapValue.fields||{};if(yf(o)!==yf(l))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(l[f]===void 0||!Oi(o[f],l[f])))return!1;return!0}(t,e);default:return Be()}}function go(t,e){return(t.values||[]).find(i=>Oi(i,e))!==void 0}function Yr(t,e){if(t===e)return 0;const i=In(t),n=In(e);if(i!==n)return We(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=pt(s.integerValue||s.doubleValue),f=pt(o.integerValue||o.doubleValue);return l<f?-1:l>f?1:l===f?0:isNaN(l)?isNaN(f)?0:-1:1}(t,e);case 3:return xf(t.timestampValue,e.timestampValue);case 4:return xf(po(t),po(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(s,o){const l=bn(s),f=bn(o);return l.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),f=o.split("/");for(let S=0;S<l.length&&S<f.length;S++){const z=We(l[S],f[S]);if(z!==0)return z}return We(l.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=We(pt(s.latitude),pt(o.latitude));return l!==0?l:We(pt(s.longitude),pt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wf(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,f,S,z;const j=s.fields||{},F=o.fields||{},q=(l=j.value)===null||l===void 0?void 0:l.arrayValue,C=(f=F.value)===null||f===void 0?void 0:f.arrayValue,W=We(((S=q==null?void 0:q.values)===null||S===void 0?void 0:S.length)||0,((z=C==null?void 0:C.values)===null||z===void 0?void 0:z.length)||0);return W!==0?W:wf(q,C)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===sa.mapValue&&o===sa.mapValue)return 0;if(s===sa.mapValue)return 1;if(o===sa.mapValue)return-1;const l=s.fields||{},f=Object.keys(l),S=o.fields||{},z=Object.keys(S);f.sort(),z.sort();for(let j=0;j<f.length&&j<z.length;++j){const F=We(f[j],z[j]);if(F!==0)return F;const q=Yr(l[f[j]],S[z[j]]);if(q!==0)return q}return We(f.length,z.length)}(t.mapValue,e.mapValue);default:throw Be()}}function xf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const i=kn(t),n=kn(e),r=We(i.seconds,n.seconds);return r!==0?r:We(i.nanos,n.nanos)}function wf(t,e){const i=t.values||[],n=e.values||[];for(let r=0;r<i.length&&r<n.length;++r){const s=Yr(i[r],n[r]);if(s)return s}return We(i.length,n.length)}function Kr(t){return Au(t)}function Au(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const n=kn(i);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(i){return bn(i).toBase64()}(t.bytesValue):"referenceValue"in t?function(i){return Ve.fromName(i).toString()}(t.referenceValue):"geoPointValue"in t?function(i){return`geo(${i.latitude},${i.longitude})`}(t.geoPointValue):"arrayValue"in t?function(i){let n="[",r=!0;for(const s of i.values||[])r?r=!1:n+=",",n+=Au(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(i){const n=Object.keys(i.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${Au(i.fields[o])}`;return r+"}"}(t.mapValue):Be()}function Ea(t){switch(In(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cl(t);return e?16+Ea(e):16;case 5:return 2*t.stringValue.length;case 6:return bn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((r,s)=>r+Ea(s),0)}(t.arrayValue);case 10:case 11:return function(n){let r=0;return os(n.fields,(s,o)=>{r+=s.length+Ea(o)}),r}(t.mapValue);default:throw Be()}}function _f(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ku(t){return!!t&&"integerValue"in t}function zc(t){return!!t&&"arrayValue"in t}function Ef(t){return!!t&&"nullValue"in t}function Tf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eh(t){return!!t&&"mapValue"in t}function P_(t){var e,i;return((i=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Us(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return os(t.mapValue.fields,(i,n)=>e.mapValue.fields[i]=Us(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Us(t.arrayValue.values[i]);return e}return Object.assign({},t)}function M_(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.value=e}static empty(){return new Mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let n=0;n<e.length-1;++n)if(i=(i.mapValue.fields||{})[e.get(n)],!Eh(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Us(i)}setAll(e){let i=Wt.emptyPath(),n={},r=[];e.forEach((o,l)=>{if(!i.isImmediateParentOf(l)){const f=this.getFieldsMap(i);this.applyChanges(f,n,r),n={},r=[],i=l.popLast()}o?n[l.lastSegment()]=Us(o):r.push(l.lastSegment())});const s=this.getFieldsMap(i);this.applyChanges(s,n,r)}delete(e){const i=this.field(e.popLast());Eh(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=i.mapValue.fields[e.get(n)];Eh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,n){os(i,(r,s)=>e[r]=s);for(const r of n)delete e[r]}clone(){return new Mi(Us(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,i,n,r,s,o,l){this.key=e,this.documentType=i,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Ht(e,0,je.min(),je.min(),je.min(),Mi.empty(),0)}static newFoundDocument(e,i,n,r){return new Ht(e,1,i,je.min(),n,r,0)}static newNoDocument(e,i){return new Ht(e,2,i,je.min(),je.min(),Mi.empty(),0)}static newUnknownDocument(e,i){return new Ht(e,3,i,je.min(),je.min(),Mi.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,i){this.position=e,this.inclusive=i}}function Sf(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?n=Ve.comparator(Ve.fromName(o.referenceValue),i.key):n=Yr(o,i.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Cf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!Oi(t.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,i="asc"){this.field=e,this.dir=i}}function R_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{}class xt extends By{constructor(e,i,n){super(),this.field=e,this.op=i,this.value=n}static create(e,i,n){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,n):new L_(e,i,n):i==="array-contains"?new V_(e,n):i==="in"?new j_(e,n):i==="not-in"?new B_(e,n):i==="array-contains-any"?new F_(e,n):new xt(e,i,n)}static createKeyFieldInFilter(e,i,n){return i==="in"?new O_(e,n):new N_(e,n)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Yr(i,this.value)):i!==null&&In(this.value)===In(i)&&this.matchesComparison(Yr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends By{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Ai(e,i)}matches(e){return Fy(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Fy(t){return t.op==="and"}function zy(t){return D_(t)&&Fy(t)}function D_(t){for(const e of t.filters)if(e instanceof Ai)return!1;return!0}function bu(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+Kr(t.value);if(zy(t))return t.filters.map(e=>bu(e)).join(",");{const e=t.filters.map(i=>bu(i)).join(",");return`${t.op}(${e})`}}function Uy(t,e){return t instanceof xt?function(n,r){return r instanceof xt&&n.op===r.op&&n.field.isEqual(r.field)&&Oi(n.value,r.value)}(t,e):t instanceof Ai?function(n,r){return r instanceof Ai&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,l)=>s&&Uy(o,r.filters[l]),!0):!1}(t,e):void Be()}function Hy(t){return t instanceof xt?function(i){return`${i.field.canonicalString()} ${i.op} ${Kr(i.value)}`}(t):t instanceof Ai?function(i){return i.op.toString()+" {"+i.getFilters().map(Hy).join(" ,")+"}"}(t):"Filter"}class L_ extends xt{constructor(e,i,n){super(e,i,n),this.key=Ve.fromName(n.referenceValue)}matches(e){const i=Ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class O_ extends xt{constructor(e,i){super(e,"in",i),this.keys=Wy("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class N_ extends xt{constructor(e,i){super(e,"not-in",i),this.keys=Wy("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Wy(t,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>Ve.fromName(n.referenceValue))}class V_ extends xt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zc(i)&&go(i.arrayValue,this.value)}}class j_ extends xt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&go(this.value.arrayValue,i)}}class B_ extends xt{constructor(e,i){super(e,"not-in",i)}matches(e){if(go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!go(this.value.arrayValue,i)}}class F_ extends xt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zc(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>go(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,i=null,n=[],r=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Af(t,e=null,i=[],n=[],r=null,s=null,o=null){return new z_(t,e,i,n,r,s,o)}function Uc(t){const e=Ge(t);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(n=>bu(n)).join(","),i+="|ob:",i+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Sl(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(n=>Kr(n)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(n=>Kr(n)).join(",")),e.ue=i}return e.ue}function Hc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!R_(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!Uy(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cf(t.startAt,e.startAt)&&Cf(t.endAt,e.endAt)}function Iu(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,i=null,n=[],r=[],s=null,o="F",l=null,f=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function U_(t,e,i,n,r,s,o,l){return new as(t,e,i,n,r,s,o,l)}function Gy(t){return new as(t)}function kf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $y(t){return t.collectionGroup!==null}function Hs(t){const e=Ge(t);if(e.ce===null){e.ce=[];const i=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),i.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Tt(Wt.comparator);return o.filters.forEach(f=>{f.getFlattenedFilters().forEach(S=>{S.isInequality()&&(l=l.add(S.field))})}),l})(e).forEach(s=>{i.has(s.canonicalString())||s.isKeyField()||e.ce.push(new mo(s,n))}),i.has(Wt.keyField().canonicalString())||e.ce.push(new mo(Wt.keyField(),n))}return e.ce}function Li(t){const e=Ge(t);return e.le||(e.le=H_(e,Hs(t))),e.le}function H_(t,e){if(t.limitType==="F")return Af(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new mo(r.field,s)});const i=t.endAt?new tl(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new tl(t.startAt.position,t.startAt.inclusive):null;return Af(t.path,t.collectionGroup,e,t.filters,t.limit,i,n)}}function Pu(t,e){const i=t.filters.concat([e]);return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function Mu(t,e,i){return new as(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Al(t,e){return Hc(Li(t),Li(e))&&t.limitType===e.limitType}function Xy(t){return`${Uc(Li(t))}|lt:${t.limitType}`}function gr(t){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>Hy(r)).join(", ")}]`),Sl(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>Kr(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>Kr(r)).join(",")),`Target(${n})`}(Li(t))}; limitType=${t.limitType})`}function kl(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ve.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Hs(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(o,l,f){const S=Sf(o,l,f);return o.inclusive?S<=0:S<0}(n.startAt,Hs(n),r)||n.endAt&&!function(o,l,f){const S=Sf(o,l,f);return o.inclusive?S>=0:S>0}(n.endAt,Hs(n),r))}(t,e)}function W_(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qy(t){return(e,i)=>{let n=!1;for(const r of Hs(t)){const s=G_(r,e,i);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function G_(t,e,i){const n=t.field.isKeyField()?Ve.comparator(e.key,i.key):function(s,o,l){const f=o.data.field(s),S=l.data.field(s);return f!==null&&S!==null?Yr(f,S):Be()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n!==void 0){for(const[r,s]of n)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,i){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,i]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,i]);r.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(i,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Vy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new gt(Ve.comparator);function Pn(){return $_}const Yy=new gt(Ve.comparator);function Ms(...t){let e=Yy;for(const i of t)e=e.insert(i.key,i);return e}function X_(t){let e=Yy;return t.forEach((i,n)=>e=e.insert(i,n.overlayedDocument)),e}function Xn(){return Ws()}function Ky(){return Ws()}function Ws(){return new ar(t=>t.toString(),(t,e)=>t.isEqual(e))}const q_=new Tt(Ve.comparator);function $e(...t){let e=q_;for(const i of t)e=e.add(i);return e}const Y_=new Tt(We);function K_(){return Y_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:el(e)?"-0":e}}function Qy(t){return{integerValue:""+t}}function Q_(t,e){return C_(e)?Qy(e):Wc(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this._=void 0}}function Z_(t,e,i){return t instanceof Ru?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Fc(s)&&(s=Cl(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(i,e):t instanceof il?Zy(t,e):t instanceof nl?Jy(t,e):function(r,s){const o=eE(r,s),l=bf(o)+bf(r.Pe);return ku(o)&&ku(r.Pe)?Qy(l):Wc(r.serializer,l)}(t,e)}function J_(t,e,i){return t instanceof il?Zy(t,e):t instanceof nl?Jy(t,e):i}function eE(t,e){return t instanceof Du?function(n){return ku(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Ru extends bl{}class il extends bl{constructor(e){super(),this.elements=e}}function Zy(t,e){const i=e0(e);for(const n of t.elements)i.some(r=>Oi(r,n))||i.push(n);return{arrayValue:{values:i}}}class nl extends bl{constructor(e){super(),this.elements=e}}function Jy(t,e){let i=e0(e);for(const n of t.elements)i=i.filter(r=>!Oi(r,n));return{arrayValue:{values:i}}}class Du extends bl{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function bf(t){return pt(t.integerValue||t.doubleValue)}function e0(t){return zc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tE(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof il&&r instanceof il||n instanceof nl&&r instanceof nl?qr(n.elements,r.elements,Oi):n instanceof Du&&r instanceof Du?Oi(n.Pe,r.Pe):n instanceof Ru&&r instanceof Ru}(t.transform,e.transform)}class Zn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ta(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gc{}function t0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nE(t.key,Zn.none()):new $c(t.key,t.data,Zn.none());{const i=t.data,n=Mi.empty();let r=new Tt(Wt.comparator);for(let s of e.fields)if(!r.has(s)){let o=i.field(s);o===null&&s.length>1&&(s=s.popLast(),o=i.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new Il(t.key,n,new dn(r.toArray()),Zn.none())}}function iE(t,e,i){t instanceof $c?function(r,s,o){const l=r.value.clone(),f=Pf(r.fieldTransforms,s,o.transformResults);l.setAll(f),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,i):t instanceof Il?function(r,s,o){if(!Ta(r.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Pf(r.fieldTransforms,s,o.transformResults),f=s.data;f.setAll(i0(r)),f.setAll(l),s.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(t,e,i):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,i)}function Gs(t,e,i,n){return t instanceof $c?function(s,o,l,f){if(!Ta(s.precondition,o))return l;const S=s.value.clone(),z=Mf(s.fieldTransforms,f,o);return S.setAll(z),o.convertToFoundDocument(o.version,S).setHasLocalMutations(),null}(t,e,i,n):t instanceof Il?function(s,o,l,f){if(!Ta(s.precondition,o))return l;const S=Mf(s.fieldTransforms,f,o),z=o.data;return z.setAll(i0(s)),z.setAll(S),o.convertToFoundDocument(o.version,z).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(j=>j.field))}(t,e,i,n):function(s,o,l){return Ta(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,i)}function If(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&qr(n,r,(s,o)=>tE(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends Gc{constructor(e,i,n,r=[]){super(),this.key=e,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Il extends Gc{constructor(e,i,n,r,s=[]){super(),this.key=e,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function i0(t){const e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const n=t.data.field(i);e.set(i,n)}}),e}function Pf(t,e,i){const n=new Map;ht(t.length===i.length);for(let r=0;r<i.length;r++){const s=t[r],o=s.transform,l=e.data.field(s.field);n.set(s.field,J_(o,l,i[r]))}return n}function Mf(t,e,i){const n=new Map;for(const r of t){const s=r.transform,o=i.data.field(r.field);n.set(r.field,Z_(s,o,e))}return n}class nE extends Gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,i,n,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,i){const n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&iE(s,e,n[r])}}applyToLocalView(e,i){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(i=Gs(n,e,i,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(i=Gs(n,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const n=Ky();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=i.has(r.key)?null:l;const f=t0(o,l);f!==null&&n.set(r.key,f),o.isValidDocument()||o.convertToNoDocument(je.min())}),n}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),$e())}isEqual(e){return this.batchId===e.batchId&&qr(this.mutations,e.mutations,(i,n)=>If(i,n))&&qr(this.baseMutations,e.baseMutations,(i,n)=>If(i,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Ue;function n0(t){if(t===void 0)return Yi("GRPC error has no .code"),be.UNKNOWN;switch(t){case yt.OK:return be.OK;case yt.CANCELLED:return be.CANCELLED;case yt.UNKNOWN:return be.UNKNOWN;case yt.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case yt.INTERNAL:return be.INTERNAL;case yt.UNAVAILABLE:return be.UNAVAILABLE;case yt.UNAUTHENTICATED:return be.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case yt.NOT_FOUND:return be.NOT_FOUND;case yt.ALREADY_EXISTS:return be.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return be.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case yt.ABORTED:return be.ABORTED;case yt.OUT_OF_RANGE:return be.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return be.UNIMPLEMENTED;case yt.DATA_LOSS:return be.DATA_LOSS;default:return Be()}}(Ue=yt||(yt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=new Kn([4294967295,4294967295],0);function Rf(t){const e=aE().encode(t),i=new Py;return i.update(e),new Uint8Array(i.digest())}function Df(t){const e=new DataView(t.buffer),i=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Kn([i,n],0),new Kn([r,s],0)]}class Xc{constructor(e,i,n){if(this.bitmap=e,this.padding=i,this.hashCount=n,i<0||i>=8)throw new Rs(`Invalid padding: ${i}`);if(n<0)throw new Rs(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Rs(`Invalid hash count: ${n}`);if(e.length===0&&i!==0)throw new Rs(`Invalid padding when bitmap length is 0: ${i}`);this.Te=8*e.length-i,this.Ie=Kn.fromNumber(this.Te)}Ee(e,i,n){let r=e.add(i.multiply(Kn.fromNumber(n)));return r.compare(lE)===1&&(r=new Kn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const i=Rf(e),[n,r]=Df(i);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);if(!this.de(o))return!1}return!0}static create(e,i,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Xc(s,r,i);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.Te===0)return;const i=Rf(e),[n,r]=Df(i);for(let s=0;s<this.hashCount;s++){const o=this.Ee(n,r,s);this.Ae(o)}}Ae(e){const i=Math.floor(e/8),n=e%8;this.bitmap[i]|=1<<n}}class Rs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,i,n,r,s){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,i,n){const r=new Map;return r.set(e,Eo.createSynthesizedTargetChangeForCurrentChange(e,i,n)),new Pl(je.min(),r,new gt(We),Pn(),$e())}}class Eo{constructor(e,i,n,r,s){this.resumeToken=e,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,i,n){return new Eo(n,i,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,i,n,r){this.Re=e,this.removedTargetIds=i,this.key=n,this.Ve=r}}class r0{constructor(e,i){this.targetId=e,this.me=i}}class s0{constructor(e,i,n=Rt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=n,this.cause=r}}class Lf{constructor(){this.fe=0,this.ge=Of(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=$e(),i=$e(),n=$e();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:Be()}}),new Eo(this.pe,this.ye,e,i,n)}Ce(){this.we=!1,this.ge=Of()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hE{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pn(),this.qe=oa(),this.Qe=oa(),this.Ke=new gt(We)}$e(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(i,e.Ve):this.We(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.We(i,e.key,e.Ve)}Ge(e){this.forEachTarget(e,i=>{const n=this.ze(i);switch(e.state){case 0:this.je(i)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.je(i)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(i)&&(this.He(i),n.De(e.resumeToken));break;default:Be()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.je(r)&&i(r)})}Je(e){const i=e.targetId,n=e.me.count,r=this.Ye(i);if(r){const s=r.target;if(Iu(s))if(n===0){const o=new Ve(s.path);this.We(i,o,Ht.newNoDocument(o,je.min()))}else ht(n===1);else{const o=this.Ze(i);if(o!==n){const l=this.Xe(e),f=l?this.et(l,e,o):1;if(f!==0){this.He(i);const S=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,S)}}}}}Xe(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=i;let o,l;try{o=bn(n).toUint8Array()}catch(f){if(f instanceof jy)return Xr("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{l=new Xc(o,r,s)}catch(f){return Xr(f instanceof Rs?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return l.Te===0?null:l}et(e,i,n){return i.me.count===n-this.rt(e,i.targetId)?0:2}rt(e,i){const n=this.Le.getRemoteKeysForTarget(i);let r=0;return n.forEach(s=>{const o=this.Le.nt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.We(i,s,null),r++)}),r}it(e){const i=new Map;this.Be.forEach((s,o)=>{const l=this.Ye(o);if(l){if(s.current&&Iu(l.target)){const f=new Ve(l.target.path);this.st(f).has(o)||this.ot(o,f)||this.We(o,f,Ht.newNoDocument(f,e))}s.be&&(i.set(o,s.ve()),s.Ce())}});let n=$e();this.Qe.forEach((s,o)=>{let l=!0;o.forEachWhile(f=>{const S=this.Ye(f);return!S||S.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new Pl(e,i,this.Ke,this.ke,n);return this.ke=Pn(),this.qe=oa(),this.Qe=oa(),this.Ke=new gt(We),r}Ue(e,i){if(!this.je(e))return;const n=this.ot(e,i.key)?2:0;this.ze(e).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e)),this.Qe=this.Qe.insert(i.key,this._t(i.key).add(e))}We(e,i,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,i)?r.Fe(i,1):r.Me(i),this.Qe=this.Qe.insert(i,this._t(i).delete(e)),this.Qe=this.Qe.insert(i,this._t(i).add(e)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const i=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let i=this.Be.get(e);return i||(i=new Lf,this.Be.set(e,i)),i}_t(e){let i=this.Qe.get(e);return i||(i=new Tt(We),this.Qe=this.Qe.insert(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Tt(We),this.qe=this.qe.insert(e,i)),i}je(e){const i=this.Ye(e)!==null;return i||Me("WatchChangeAggregator","Detected inactive target",e),i}Ye(e){const i=this.Be.get(e);return i&&i.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Lf),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.We(e,i,null)})}ot(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}}function oa(){return new gt(Ve.comparator)}function Of(){return new gt(Ve.comparator)}const uE={asc:"ASCENDING",desc:"DESCENDING"},cE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dE={and:"AND",or:"OR"};class pE{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Lu(t,e){return t.useProto3Json||Sl(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Vr(t){return ht(!!t),je.fromTimestamp(function(i){const n=kn(i);return new wt(n.seconds,n.nanos)}(t))}function a0(t,e){return Nu(t,e).canonicalString()}function Nu(t,e){const i=function(r){return new at(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?i:i.child(e)}function l0(t){const e=at.fromString(t);return ht(p0(e)),e}function Th(t,e){const i=l0(e);if(i.get(1)!==t.databaseId.projectId)throw new De(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new De(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new Ve(u0(i))}function h0(t,e){return a0(t.databaseId,e)}function fE(t){const e=l0(t);return e.length===4?at.emptyPath():u0(e)}function Nf(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function u0(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gE(t,e){let i;if("targetChange"in e){e.targetChange;const n=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Be()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(S,z){return S.useProto3Json?(ht(z===void 0||typeof z=="string"),Rt.fromBase64String(z||"")):(ht(z===void 0||z instanceof Buffer||z instanceof Uint8Array),Rt.fromUint8Array(z||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(S){const z=S.code===void 0?be.UNKNOWN:n0(S.code);return new De(z,S.message||"")}(o);i=new s0(n,r,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Th(t,n.document.name),s=Vr(n.document.updateTime),o=n.document.createTime?Vr(n.document.createTime):je.min(),l=new Mi({mapValue:{fields:n.document.fields}}),f=Ht.newFoundDocument(r,s,o,l),S=n.targetIds||[],z=n.removedTargetIds||[];i=new Sa(S,z,f.key,f)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Th(t,n.document),s=n.readTime?Vr(n.readTime):je.min(),o=Ht.newNoDocument(r,s),l=n.removedTargetIds||[];i=new Sa([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Th(t,n.document),s=n.removedTargetIds||[];i=new Sa([],s,r,null)}else{if(!("filter"in e))return Be();{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:s}=n,o=new oE(r,s),l=n.targetId;i=new r0(l,o)}}return i}function mE(t,e){return{documents:[h0(t,e.path)]}}function yE(t,e){const i={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=h0(t,r);const s=function(S){if(S.length!==0)return d0(Ai.create(S,"and"))}(e.filters);s&&(i.structuredQuery.where=s);const o=function(S){if(S.length!==0)return S.map(z=>function(F){return{field:mr(F.field),direction:wE(F.dir)}}(z))}(e.orderBy);o&&(i.structuredQuery.orderBy=o);const l=Lu(t,e.limit);return l!==null&&(i.structuredQuery.limit=l),e.startAt&&(i.structuredQuery.startAt=function(S){return{before:S.inclusive,values:S.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(S){return{before:!S.inclusive,values:S.position}}(e.endAt)),{ct:i,parent:r}}function vE(t){let e=fE(t.parent);const i=t.structuredQuery,n=i.from?i.from.length:0;let r=null;if(n>0){ht(n===1);const z=i.from[0];z.allDescendants?r=z.collectionId:e=e.child(z.collectionId)}let s=[];i.where&&(s=function(j){const F=c0(j);return F instanceof Ai&&zy(F)?F.getFilters():[F]}(i.where));let o=[];i.orderBy&&(o=function(j){return j.map(F=>function(C){return new mo(yr(C.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(F))}(i.orderBy));let l=null;i.limit&&(l=function(j){let F;return F=typeof j=="object"?j.value:j,Sl(F)?null:F}(i.limit));let f=null;i.startAt&&(f=function(j){const F=!!j.before,q=j.values||[];return new tl(q,F)}(i.startAt));let S=null;return i.endAt&&(S=function(j){const F=!j.before,q=j.values||[];return new tl(q,F)}(i.endAt)),U_(e,r,o,s,l,"F",f,S)}function xE(t,e){const i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function c0(t){return t.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const n=yr(i.unaryFilter.field);return xt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=yr(i.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yr(i.unaryFilter.field);return xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yr(i.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Be()}}(t):t.fieldFilter!==void 0?function(i){return xt.create(yr(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Be()}}(i.fieldFilter.op),i.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(i){return Ai.create(i.compositeFilter.filters.map(n=>c0(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Be()}}(i.compositeFilter.op))}(t):Be()}function wE(t){return uE[t]}function _E(t){return cE[t]}function EE(t){return dE[t]}function mr(t){return{fieldPath:t.canonicalString()}}function yr(t){return Wt.fromServerFormat(t.fieldPath)}function d0(t){return t instanceof xt?function(i){if(i.op==="=="){if(Tf(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NAN"}};if(Ef(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tf(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NOT_NAN"}};if(Ef(i.value))return{unaryFilter:{field:mr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mr(i.field),op:_E(i.op),value:i.value}}}(t):t instanceof Ai?function(i){const n=i.getFilters().map(r=>d0(r));return n.length===1?n[0]:{compositeFilter:{op:EE(i.op),filters:n}}}(t):Be()}function p0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,i,n,r,s=je.min(),o=je.min(),l=Rt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=f}withSequenceNumber(e){return new pn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this.ht=e}}function SE(t){const e=vE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.ln=new AE}addToCollectionParentIndex(e,i){return this.ln.add(i),Te.resolve()}getCollectionParents(e,i){return Te.resolve(this.ln.getEntries(i))}addFieldIndex(e,i){return Te.resolve()}deleteFieldIndex(e,i){return Te.resolve()}deleteAllFieldIndexes(e){return Te.resolve()}createTargetIndexes(e,i){return Te.resolve()}getDocumentsMatchingTarget(e,i){return Te.resolve(null)}getIndexType(e,i){return Te.resolve(0)}getFieldIndexes(e,i){return Te.resolve([])}getNextCollectionGroupToUpdate(e){return Te.resolve(null)}getMinOffset(e,i){return Te.resolve(An.min())}getMinOffsetFromCollectionGroup(e,i){return Te.resolve(An.min())}updateCollectionGroup(e,i,n){return Te.resolve()}updateIndexEntries(e,i){return Te.resolve()}}class AE{constructor(){this.index={}}add(e){const i=e.lastSegment(),n=e.popLast(),r=this.index[i]||new Tt(at.comparator),s=!r.has(n);return this.index[i]=r.add(n),s}has(e){const i=e.lastSegment(),n=e.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Tt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Qr(0)}static Qn(){return new Qr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf([t,e],[i,n]){const r=We(t,i);return r===0?We(e,n):r}class kE{constructor(e){this.Gn=e,this.buffer=new Tt(jf),this.zn=0}jn(){return++this.zn}Hn(e){const i=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(i);else{const n=this.buffer.last();jf(i,n)<0&&(this.buffer=this.buffer.delete(n).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bE{constructor(e,i,n){this.garbageCollector=e,this.asyncQueue=i,this.localStore=n,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ss(i)?Me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):await El(i)}await this.Yn(3e5)})}}class IE{constructor(e,i){this.Zn=e,this.params=i}calculateTargetCount(e,i){return this.Zn.Xn(e).next(n=>Math.floor(i/100*n))}nthSequenceNumber(e,i){if(i===0)return Te.resolve(Tl.oe);const n=new kE(i);return this.Zn.forEachTarget(e,r=>n.Hn(r.sequenceNumber)).next(()=>this.Zn.er(e,r=>n.Hn(r))).next(()=>n.maxValue)}removeTargets(e,i,n){return this.Zn.removeTargets(e,i,n)}removeOrphanedDocuments(e,i){return this.Zn.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(Vf)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vf):this.tr(e,i))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,i){let n,r,s,o,l,f,S;const z=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(j=>(j>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${j}`),r=this.params.maximumSequenceNumbersToCollect):r=j,o=Date.now(),this.nthSequenceNumber(e,r))).next(j=>(n=j,l=Date.now(),this.removeTargets(e,n,i))).next(j=>(s=j,f=Date.now(),this.removeOrphanedDocuments(e,n))).next(j=>(S=Date.now(),fr()<=He.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-z}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${s} targets in `+(f-l)+`ms
	Removed ${j} documents in `+(S-f)+`ms
Total Duration: ${S-z}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:j})))}}function PE(t,e){return new IE(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.changes=new ar(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const n=this.changes.get(i);return n!==void 0?Te.resolve(n):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,i,n,r){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,i){let n=null;return this.documentOverlayCache.getOverlay(e,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,i))).next(r=>(n!==null&&Gs(n.mutation,r,dn.empty(),wt.now()),r))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.getLocalViewOfDocuments(e,n,$e()).next(()=>n))}getLocalViewOfDocuments(e,i,n=$e()){const r=Xn();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,n).next(s=>{let o=Ms();return s.forEach((l,f)=>{o=o.insert(l,f.overlayedDocument)}),o}))}getOverlayedDocuments(e,i){const n=Xn();return this.populateOverlays(e,n,i).next(()=>this.computeViews(e,i,n,$e()))}populateOverlays(e,i,n){const r=[];return n.forEach(s=>{i.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,l)=>{i.set(o,l)})})}computeViews(e,i,n,r){let s=Pn();const o=Ws(),l=function(){return Ws()}();return i.forEach((f,S)=>{const z=n.get(S.key);r.has(S.key)&&(z===void 0||z.mutation instanceof Il)?s=s.insert(S.key,S):z!==void 0?(o.set(S.key,z.mutation.getFieldMask()),Gs(z.mutation,S,z.mutation.getFieldMask(),wt.now())):o.set(S.key,dn.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((S,z)=>o.set(S,z)),i.forEach((S,z)=>{var j;return l.set(S,new RE(z,(j=o.get(S))!==null&&j!==void 0?j:null))}),l))}recalculateAndSaveOverlays(e,i){const n=Ws();let r=new gt((o,l)=>o-l),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(o=>{for(const l of o)l.keys().forEach(f=>{const S=i.get(f);if(S===null)return;let z=n.get(f)||dn.empty();z=l.applyToLocalView(S,z),n.set(f,z);const j=(r.get(l.batchId)||$e()).add(f);r=r.insert(l.batchId,j)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const f=l.getNext(),S=f.key,z=f.value,j=Ky();z.forEach(F=>{if(!s.has(F)){const q=t0(i.get(F),n.get(F));q!==null&&j.set(F,q),s=s.add(F)}}),o.push(this.documentOverlayCache.saveOverlays(e,S,j))}return Te.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,i,n,r){return function(o){return Ve.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):$y(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,n,r):this.getDocumentsMatchingCollectionQuery(e,i,n,r)}getNextDocuments(e,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,n,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,n.largestBatchId,r-s.size):Te.resolve(Xn());let l=-1,f=s;return o.next(S=>Te.forEach(S,(z,j)=>(l<j.largestBatchId&&(l=j.largestBatchId),s.get(z)?Te.resolve():this.remoteDocumentCache.getEntry(e,z).next(F=>{f=f.insert(z,F)}))).next(()=>this.populateOverlays(e,S,s)).next(()=>this.computeViews(e,f,S,$e())).next(z=>({batchId:l,changes:X_(z)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ve(i)).next(n=>{let r=Ms();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,i,n,r){const s=i.collectionGroup;let o=Ms();return this.indexManager.getCollectionParents(e,s).next(l=>Te.forEach(l,f=>{const S=function(j,F){return new as(F,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt)}(i,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,S,n,r).next(z=>{z.forEach((j,F)=>{o=o.insert(j,F)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,i,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,n,s,r))).next(o=>{s.forEach((f,S)=>{const z=S.getKey();o.get(z)===null&&(o=o.insert(z,Ht.newInvalidDocument(z)))});let l=Ms();return o.forEach((f,S)=>{const z=s.get(f);z!==void 0&&Gs(z.mutation,S,dn.empty(),wt.now()),kl(i,S)&&(l=l.insert(f,S))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,i){return Te.resolve(this.Tr.get(i))}saveBundleMetadata(e,i){return this.Tr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:Vr(r.createTime)}}(i)),Te.resolve()}getNamedQuery(e,i){return Te.resolve(this.Ir.get(i))}saveNamedQuery(e,i){return this.Ir.set(i.name,function(r){return{name:r.name,query:SE(r.bundledQuery),readTime:Vr(r.readTime)}}(i)),Te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.overlays=new gt(Ve.comparator),this.Er=new Map}getOverlay(e,i){return Te.resolve(this.overlays.get(i))}getOverlays(e,i){const n=Xn();return Te.forEach(i,r=>this.getOverlay(e,r).next(s=>{s!==null&&n.set(r,s)})).next(()=>n)}saveOverlays(e,i,n){return n.forEach((r,s)=>{this.Tt(e,i,s)}),Te.resolve()}removeOverlaysForBatchId(e,i,n){const r=this.Er.get(n);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(n)),Te.resolve()}getOverlaysForCollection(e,i,n){const r=Xn(),s=i.length+1,o=new Ve(i.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const f=l.getNext().value,S=f.getKey();if(!i.isPrefixOf(S.path))break;S.path.length===s&&f.largestBatchId>n&&r.set(f.getKey(),f)}return Te.resolve(r)}getOverlaysForCollectionGroup(e,i,n,r){let s=new gt((S,z)=>S-z);const o=this.overlays.getIterator();for(;o.hasNext();){const S=o.getNext().value;if(S.getKey().getCollectionGroup()===i&&S.largestBatchId>n){let z=s.get(S.largestBatchId);z===null&&(z=Xn(),s=s.insert(S.largestBatchId,z)),z.set(S.getKey(),S)}}const l=Xn(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((S,z)=>l.set(S,z)),!(l.size()>=r)););return Te.resolve(l)}Tt(e,i,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new sE(i,n));let s=this.Er.get(i);s===void 0&&(s=$e(),this.Er.set(i,s)),this.Er.set(i,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return Te.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.dr=new Tt(St.Ar),this.Rr=new Tt(St.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,i){const n=new St(e,i);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,i){e.forEach(n=>this.addReference(n,i))}removeReference(e,i){this.gr(new St(e,i))}pr(e,i){e.forEach(n=>this.removeReference(n,i))}yr(e){const i=new Ve(new at([])),n=new St(i,e),r=new St(i,e+1),s=[];return this.Rr.forEachInRange([n,r],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const i=new Ve(new at([])),n=new St(i,e),r=new St(i,e+1);let s=$e();return this.Rr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(e){const i=new St(e,0),n=this.dr.firstAfterOrEqual(i);return n!==null&&e.isEqual(n.key)}}class St{constructor(e,i){this.key=e,this.br=i}static Ar(e,i){return Ve.comparator(e.key,i.key)||We(e.br,i.br)}static Vr(e,i){return We(e.br,i.br)||Ve.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Dr=1,this.vr=new Tt(St.Ar)}checkEmpty(e){return Te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,n,r){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rE(s,i,n,r);this.mutationQueue.push(o);for(const l of r)this.vr=this.vr.add(new St(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Te.resolve(o)}lookupMutationBatch(e,i){return Te.resolve(this.Cr(i))}getNextMutationBatchAfterBatchId(e,i){const n=i+1,r=this.Fr(n),s=r<0?0:r;return Te.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const n=new St(i,0),r=new St(i,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([n,r],o=>{const l=this.Cr(o.br);s.push(l)}),Te.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new Tt(We);return i.forEach(r=>{const s=new St(r,0),o=new St(r,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],l=>{n=n.add(l.br)})}),Te.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,i){const n=i.path,r=n.length+1;let s=n;Ve.isDocumentKey(s)||(s=s.child(""));const o=new St(new Ve(s),0);let l=new Tt(We);return this.vr.forEachWhile(f=>{const S=f.key.path;return!!n.isPrefixOf(S)&&(S.length===r&&(l=l.add(f.br)),!0)},o),Te.resolve(this.Mr(l))}Mr(e){const i=[];return e.forEach(n=>{const r=this.Cr(n);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){ht(this.Or(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.vr;return Te.forEach(i.mutations,r=>{const s=new St(r.key,i.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.vr=n})}Ln(e){}containsKey(e,i){const n=new St(i,0),r=this.vr.firstAfterOrEqual(n);return Te.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Te.resolve()}Or(e,i){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const i=this.Fr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.Nr=e,this.docs=function(){return new gt(Ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const n=i.key,r=this.docs.get(n),s=r?r.size:0,o=this.Nr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const n=this.docs.get(i);return Te.resolve(n?n.document.mutableCopy():Ht.newInvalidDocument(i))}getEntries(e,i){let n=Pn();return i.forEach(r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():Ht.newInvalidDocument(r))}),Te.resolve(n)}getDocumentsMatchingQuery(e,i,n,r){let s=Pn();const o=i.path,l=new Ve(o.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:S,value:{document:z}}=f.getNext();if(!o.isPrefixOf(S.path))break;S.path.length>o.length+1||__(w_(z),n)<=0||(r.has(z.key)||kl(i,z))&&(s=s.insert(z.key,z.mutableCopy()))}return Te.resolve(s)}getAllFromCollectionGroup(e,i,n,r){Be()}Lr(e,i){return Te.forEach(this.docs,n=>i(n))}newChangeBuffer(e){return new BE(this)}getSize(e){return Te.resolve(this.size)}}class BE extends ME{constructor(e){super(),this.hr=e}applyChanges(e){const i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)}),Te.waitFor(i)}getFromCache(e,i){return this.hr.getEntry(e,i)}getAllFromCache(e,i){return this.hr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.persistence=e,this.Br=new ar(i=>Uc(i),Hc),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.kr=0,this.qr=new qc,this.targetCount=0,this.Qr=Qr.qn()}forEachTarget(e,i){return this.Br.forEach((n,r)=>i(r)),Te.resolve()}getLastRemoteSnapshotVersion(e){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Te.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(e,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.kr&&(this.kr=i),Te.resolve()}Un(e){this.Br.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Qr=new Qr(i),this.highestTargetId=i),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,i){return this.Un(i),this.targetCount+=1,Te.resolve()}updateTargetData(e,i){return this.Un(i),Te.resolve()}removeTargetData(e,i){return this.Br.delete(i.target),this.qr.yr(i.targetId),this.targetCount-=1,Te.resolve()}removeTargets(e,i,n){let r=0;const s=[];return this.Br.forEach((o,l)=>{l.sequenceNumber<=i&&n.get(l.targetId)===null&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),Te.waitFor(s).next(()=>r)}getTargetCount(e){return Te.resolve(this.targetCount)}getTargetData(e,i){const n=this.Br.get(i)||null;return Te.resolve(n)}addMatchingKeys(e,i,n){return this.qr.mr(i,n),Te.resolve()}removeMatchingKeys(e,i,n){this.qr.pr(i,n);const r=this.persistence.referenceDelegate,s=[];return r&&i.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),Te.waitFor(s)}removeMatchingKeysForTargetId(e,i){return this.qr.yr(i),Te.resolve()}getMatchingKeysForTargetId(e,i){const n=this.qr.Sr(i);return Te.resolve(n)}containsKey(e,i){return Te.resolve(this.qr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,i){this.Kr={},this.overlays={},this.$r=new Tl(0),this.Ur=!1,this.Ur=!0,this.Wr=new NE,this.referenceDelegate=e(this),this.Gr=new FE(this),this.indexManager=new CE,this.remoteDocumentCache=function(r){return new jE(r)}(n=>this.referenceDelegate.zr(n)),this.serializer=new TE(i),this.jr=new LE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new OE,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let n=this.Kr[e.toKey()];return n||(n=new VE(i,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,i,n){Me("MemoryPersistence","Starting transaction:",e);const r=new zE(this.$r.next());return this.referenceDelegate.Hr(),n(r).next(s=>this.referenceDelegate.Jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Yr(e,i){return Te.or(Object.values(this.Kr).map(n=>()=>n.containsKey(e,i)))}}class zE extends T_{constructor(e){super(),this.currentSequenceNumber=e}}class Yc{constructor(e){this.persistence=e,this.Zr=new qc,this.Xr=null}static ei(e){return new Yc(e)}get ti(){if(this.Xr)return this.Xr;throw Be()}addReference(e,i,n){return this.Zr.addReference(n,i),this.ti.delete(n.toString()),Te.resolve()}removeReference(e,i,n){return this.Zr.removeReference(n,i),this.ti.add(n.toString()),Te.resolve()}markPotentiallyOrphaned(e,i){return this.ti.add(i.toString()),Te.resolve()}removeTarget(e,i){this.Zr.yr(i.targetId).forEach(r=>this.ti.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(s=>this.ti.add(s.toString()))}).next(()=>n.removeTargetData(e,i))}Hr(){this.Xr=new Set}Jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.ti,n=>{const r=Ve.fromPath(n);return this.ni(e,r).next(s=>{s||i.removeEntry(r,je.min())})}).next(()=>(this.Xr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ni(e,i).next(n=>{n?this.ti.delete(i.toString()):this.ti.add(i.toString())})}zr(e){return 0}ni(e,i){return Te.or([()=>Te.resolve(this.Zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Yr(e,i)])}}class rl{constructor(e,i){this.persistence=e,this.ri=new ar(n=>A_(n.path),(n,r)=>n.isEqual(r)),this.garbageCollector=PE(this,i)}static ei(e,i){return new rl(e,i)}Hr(){}Jr(e){return Te.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}Xn(e){const i=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>i.next(r=>n+r))}nr(e){let i=0;return this.er(e,n=>{i++}).next(()=>i)}er(e,i){return Te.forEach(this.ri,(n,r)=>this.ir(e,n,r).next(s=>s?Te.resolve():i(r)))}removeTargets(e,i,n){return this.persistence.getTargetCache().removeTargets(e,i,n)}removeOrphanedDocuments(e,i){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.Lr(e,o=>this.ir(e,o,i).next(l=>{l||(n++,s.removeEntry(o,je.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,i){return this.ri.set(i,e.currentSequenceNumber),Te.resolve()}removeTarget(e,i){const n=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,i,n){return this.ri.set(n,e.currentSequenceNumber),Te.resolve()}removeReference(e,i,n){return this.ri.set(n,e.currentSequenceNumber),Te.resolve()}updateLimboDocument(e,i){return this.ri.set(i,e.currentSequenceNumber),Te.resolve()}zr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ea(e.data.value)),i}ir(e,i,n){return Te.or([()=>this.persistence.Yr(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const r=this.ri.get(i);return Te.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,i,n,r){this.targetId=e,this.fromCache=i,this.Wi=n,this.Gi=r}static zi(e,i){let n=$e(),r=$e();for(const s of i.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Kc(e,i.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return Xx()?8:S_(Gx())>0?6:4}()}initialize(e,i){this.Zi=e,this.indexManager=i,this.ji=!0}getDocumentsMatchingQuery(e,i,n,r){const s={result:null};return this.Xi(e,i).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,i,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new UE;return this.ts(e,i,o).next(l=>{if(s.result=l,this.Hi)return this.ns(e,i,o,l.size)})}).next(()=>s.result)}ns(e,i,n,r){return n.documentReadCount<this.Ji?(fr()<=He.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",gr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Te.resolve()):(fr()<=He.DEBUG&&Me("QueryEngine","Query:",gr(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(fr()<=He.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",gr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(i))):Te.resolve())}Xi(e,i){if(kf(i))return Te.resolve(null);let n=Li(i);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=Mu(i,null,"F"),n=Li(i)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=$e(...s);return this.Zi.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(f=>{const S=this.rs(i,l);return this.ss(i,S,o,f.readTime)?this.Xi(e,Mu(i,null,"F")):this.os(e,S,i,f)}))})))}es(e,i,n,r){return kf(i)||r.isEqual(je.min())?Te.resolve(null):this.Zi.getDocuments(e,n).next(s=>{const o=this.rs(i,s);return this.ss(i,o,n,r)?Te.resolve(null):(fr()<=He.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gr(i)),this.os(e,o,i,x_(r,-1)).next(l=>l))})}rs(e,i){let n=new Tt(qy(e));return i.forEach((r,s)=>{kl(e,s)&&(n=n.add(s))}),n}ss(e,i,n,r){if(e.limit===null)return!1;if(n.size!==i.size)return!0;const s=e.limitType==="F"?i.last():i.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ts(e,i,n){return fr()<=He.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",gr(i)),this.Zi.getDocumentsMatchingQuery(e,i,An.min(),n)}os(e,i,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next(s=>(i.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,i,n,r){this.persistence=e,this._s=i,this.serializer=r,this.us=new gt(We),this.cs=new ar(s=>Uc(s),Hc),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DE(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.us))}}function GE(t,e,i,n){return new WE(t,e,i,n)}async function g0(t,e){const i=Ge(t);return await i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,i.Ps(e),i.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let f=$e();for(const S of r){o.push(S.batchId);for(const z of S.mutations)f=f.add(z.key)}for(const S of s){l.push(S.batchId);for(const z of S.mutations)f=f.add(z.key)}return i.localDocuments.getDocuments(n,f).next(S=>({Ts:S,removedBatchIds:o,addedBatchIds:l}))})})}function m0(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Gr.getLastRemoteSnapshotVersion(i))}function $E(t,e){const i=Ge(t),n=e.snapshotVersion;let r=i.us;return i.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=i.hs.newChangeBuffer({trackRemovals:!0});r=i.us;const l=[];e.targetChanges.forEach((z,j)=>{const F=r.get(j);if(!F)return;l.push(i.Gr.removeMatchingKeys(s,z.removedDocuments,j).next(()=>i.Gr.addMatchingKeys(s,z.addedDocuments,j)));let q=F.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(j)!==null?q=q.withResumeToken(Rt.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):z.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(z.resumeToken,n)),r=r.insert(j,q),function(W,G,A){return W.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(F,q,z)&&l.push(i.Gr.updateTargetData(s,q))});let f=Pn(),S=$e();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&l.push(i.persistence.referenceDelegate.updateLimboDocument(s,z))}),l.push(XE(s,o,e.documentUpdates).next(z=>{f=z.Is,S=z.Es})),!n.isEqual(je.min())){const z=i.Gr.getLastRemoteSnapshotVersion(s).next(j=>i.Gr.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(z)}return Te.waitFor(l).next(()=>o.apply(s)).next(()=>i.localDocuments.getLocalViewOfDocuments(s,f,S)).next(()=>f)}).then(s=>(i.us=r,s))}function XE(t,e,i){let n=$e(),r=$e();return i.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=Pn();return i.forEach((l,f)=>{const S=s.get(l);f.isFoundDocument()!==S.isFoundDocument()&&(r=r.add(l)),f.isNoDocument()&&f.version.isEqual(je.min())?(e.removeEntry(l,f.readTime),o=o.insert(l,f)):!S.isValidDocument()||f.version.compareTo(S.version)>0||f.version.compareTo(S.version)===0&&S.hasPendingWrites?(e.addEntry(f),o=o.insert(l,f)):Me("LocalStore","Ignoring outdated watch update for ",l,". Current version:",S.version," Watch version:",f.version)}),{Is:o,Es:r}})}function qE(t,e){const i=Ge(t);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Gr.getTargetData(n,e).next(s=>s?(r=s,Te.resolve(r)):i.Gr.allocateTargetId(n).next(o=>(r=new pn(e,o,"TargetPurposeListen",n.currentSequenceNumber),i.Gr.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=i.us.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.us=i.us.insert(n.targetId,n),i.cs.set(e,n.targetId)),n})}async function Vu(t,e,i){const n=Ge(t),r=n.us.get(e),s=i?"readwrite":"readwrite-primary";try{i||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ss(o))throw o;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.us=n.us.remove(e),n.cs.delete(r.target)}function Bf(t,e,i){const n=Ge(t);let r=je.min(),s=$e();return n.persistence.runTransaction("Execute query","readwrite",o=>function(f,S,z){const j=Ge(f),F=j.cs.get(z);return F!==void 0?Te.resolve(j.us.get(F)):j.Gr.getTargetData(S,z)}(n,o,Li(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,n.Gr.getMatchingKeysForTargetId(o,l.targetId).next(f=>{s=f})}).next(()=>n._s.getDocumentsMatchingQuery(o,e,i?r:je.min(),i?s:$e())).next(l=>(YE(n,W_(e),l),{documents:l,ds:s})))}function YE(t,e,i){let n=t.ls.get(e)||je.min();i.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.ls.set(e,n)}class Ff{constructor(){this.activeTargetIds=K_()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KE{constructor(){this._o=new Ff,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,n){}addLocalQueryTarget(e,i=!0){return i&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,i,n){this.ao[e]=i}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ff,Promise.resolve()}handleUserChange(e,i,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa=null;function Sh(){return aa===null?aa=function(){return 268435456+Math.round(2147483648*Math.random())}():aa++,"0x"+aa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class eT extends class{get Co(){return!1}constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=n+"://"+i.host,this.Mo=`projects/${r}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Oo(i,n,r,s,o){const l=Sh(),f=this.No(i,n.toUriEncodedString());Me("RestConnection",`Sending RPC '${i}' ${l}:`,f,r);const S={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(S,s,o),this.Bo(i,f,S,r).then(z=>(Me("RestConnection",`Received RPC '${i}' ${l}: `,z),z),z=>{throw Xr("RestConnection",`RPC '${i}' ${l} failed with error: `,z,"url: ",f,"request:",r),z})}ko(i,n,r,s,o,l){return this.Oo(i,n,r,s,o)}Lo(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rs}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>i[o]=s),r&&r.headers.forEach((s,o)=>i[o]=s)}No(i,n){const r=ZE[i];return`${this.Fo}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,i,n,r){const s=Sh();return new Promise((o,l)=>{const f=new My;f.setWithCredentials(!0),f.listenOnce(Ry.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case _a.NO_ERROR:const z=f.getResponseJson();Me(Bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(z)),o(z);break;case _a.TIMEOUT:Me(Bt,`RPC '${e}' ${s} timed out`),l(new De(be.DEADLINE_EXCEEDED,"Request time out"));break;case _a.HTTP_ERROR:const j=f.getStatus();if(Me(Bt,`RPC '${e}' ${s} failed with status:`,j,"response text:",f.getResponseText()),j>0){let F=f.getResponseJson();Array.isArray(F)&&(F=F[0]);const q=F==null?void 0:F.error;if(q&&q.status&&q.message){const C=function(G){const A=G.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(A)>=0?A:be.UNKNOWN}(q.status);l(new De(C,q.message))}else l(new De(be.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new De(be.UNAVAILABLE,"Connection failed."));break;default:Be()}}finally{Me(Bt,`RPC '${e}' ${s} completed.`)}});const S=JSON.stringify(r);Me(Bt,`RPC '${e}' ${s} sending request:`,r),f.send(i,"POST",S,n,15)})}qo(e,i,n){const r=Sh(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Oy(),l=Ly(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;S!==void 0&&(f.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,i,n),f.encodeInitMessageHeaders=!0;const z=s.join("");Me(Bt,`Creating RPC '${e}' stream ${r}: ${z}`,f);const j=o.createWebChannel(z,f);let F=!1,q=!1;const C=new JE({Eo:G=>{q?Me(Bt,`Not sending because RPC '${e}' stream ${r} is closed:`,G):(F||(Me(Bt,`Opening RPC '${e}' stream ${r} transport.`),j.open(),F=!0),Me(Bt,`RPC '${e}' stream ${r} sending:`,G),j.send(G))},Ao:()=>j.close()}),W=(G,A,p)=>{G.listen(A,v=>{try{p(v)}catch(b){setTimeout(()=>{throw b},0)}})};return W(j,Ps.EventType.OPEN,()=>{q||(Me(Bt,`RPC '${e}' stream ${r} transport opened.`),C.So())}),W(j,Ps.EventType.CLOSE,()=>{q||(q=!0,Me(Bt,`RPC '${e}' stream ${r} transport closed`),C.Do())}),W(j,Ps.EventType.ERROR,G=>{q||(q=!0,Xr(Bt,`RPC '${e}' stream ${r} transport errored:`,G),C.Do(new De(be.UNAVAILABLE,"The operation could not be completed")))}),W(j,Ps.EventType.MESSAGE,G=>{var A;if(!q){const p=G.data[0];ht(!!p);const v=p,b=(v==null?void 0:v.error)||((A=v[0])===null||A===void 0?void 0:A.error);if(b){Me(Bt,`RPC '${e}' stream ${r} received error:`,b);const O=b.status;let T=function(_){const g=yt[_];if(g!==void 0)return n0(g)}(O),m=b.message;T===void 0&&(T=be.INTERNAL,m="Unknown error status: "+O+" with message "+b.message),q=!0,C.Do(new De(T,m)),j.close()}else Me(Bt,`RPC '${e}' stream ${r} received:`,p),C.vo(p)}}),W(l,Dy.STAT_EVENT,G=>{G.stat===Cu.PROXY?Me(Bt,`RPC '${e}' stream ${r} detected buffering proxy`):G.stat===Cu.NOPROXY&&Me(Bt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function Ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){return new pE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,i,n=1e3,r=1.5,s=6e4){this.li=e,this.timerId=i,this.Qo=n,this.Ko=r,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const i=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,i-n);r>0&&Me("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,i,n,r,s,o,l,f){this.li=e,this.Yo=n,this.Zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new y0(e,i)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,i){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():i&&i.code===be.RESOURCE_EXHAUSTED?(Yi(i.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):i&&i.code===be.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(i)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),i=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Xo===i&&this.I_(n,r)},n=>{e(()=>{const r=new De(be.UNKNOWN,"Fetching auth token failed: "+n.message);return this.E_(r)})})}I_(e,i){const n=this.T_(this.Xo);this.stream=this.d_(e,i),this.stream.Ro(()=>{n(()=>this.listener.Ro())}),this.stream.mo(()=>{n(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(r=>{n(()=>this.E_(r))}),this.stream.onMessage(r=>{n(()=>++this.n_==1?this.A_(r):this.onNext(r))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return i=>{this.li.enqueueAndForget(()=>this.Xo===e?i():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iT extends tT{constructor(e,i,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,o),this.serializer=s}d_(e,i){return this.connection.qo("Listen",e,i)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const i=gE(this.serializer,e),n=function(s){if(!("targetChange"in s))return je.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?je.min():o.readTime?Vr(o.readTime):je.min()}(e);return this.listener.R_(i,n)}V_(e){const i={};i.database=Nf(this.serializer),i.addTarget=function(s,o){let l;const f=o.target;if(l=Iu(f)?{documents:mE(s,f)}:{query:yE(s,f).ct},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=o0(s,o.resumeToken);const S=Lu(s,o.expectedCount);S!==null&&(l.expectedCount=S)}else if(o.snapshotVersion.compareTo(je.min())>0){l.readTime=Ou(s,o.snapshotVersion.toTimestamp());const S=Lu(s,o.expectedCount);S!==null&&(l.expectedCount=S)}return l}(this.serializer,e);const n=xE(this.serializer,e);n&&(i.labels=n),this.c_(i)}m_(e){const i={};i.database=Nf(this.serializer),i.removeTarget=e,this.c_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends class{}{constructor(e,i,n,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new De(be.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,i,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,Nu(i,n),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(be.UNKNOWN,s.toString())})}ko(e,i,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.ko(e,Nu(i,n),r,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new De(be.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class rT{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Yi(i),this.C_=!1):Me("OnlineStateTracker",i)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,i,n,r,s){this.localStore=e,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{n.enqueueAndForget(async()=>{So(this)&&(Me("RemoteStore","Restarting streams for network reachability change."),await async function(f){const S=Ge(f);S.k_.add(4),await To(S),S.K_.set("Unknown"),S.k_.delete(4),await Rl(S)}(this))})}),this.K_=new rT(n,r)}}async function Rl(t){if(So(t))for(const e of t.q_)await e(!0)}async function To(t){for(const e of t.q_)await e(!1)}function v0(t,e){const i=Ge(t);i.B_.has(e.targetId)||(i.B_.set(e.targetId,e),ed(i)?Jc(i):ls(i).s_()&&Zc(i,e))}function Qc(t,e){const i=Ge(t),n=ls(i);i.B_.delete(e),n.s_()&&x0(i,e),i.B_.size===0&&(n.s_()?n.a_():So(i)&&i.K_.set("Unknown"))}function Zc(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const i=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ls(t).V_(e)}function x0(t,e){t.U_.xe(e),ls(t).m_(e)}function Jc(t){t.U_=new hE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ls(t).start(),t.K_.F_()}function ed(t){return So(t)&&!ls(t).i_()&&t.B_.size>0}function So(t){return Ge(t).k_.size===0}function w0(t){t.U_=void 0}async function oT(t){t.K_.set("Online")}async function aT(t){t.B_.forEach((e,i)=>{Zc(t,e)})}async function lT(t,e){w0(t),ed(t)?(t.K_.O_(e),Jc(t)):t.K_.set("Unknown")}async function hT(t,e,i){if(t.K_.set("Online"),e instanceof s0&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const l of s.targetIds)r.B_.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.B_.delete(l),r.U_.removeTarget(l))}(t,e)}catch(n){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Uf(t,n)}else if(e instanceof Sa?t.U_.$e(e):e instanceof r0?t.U_.Je(e):t.U_.Ge(e),!i.isEqual(je.min()))try{const n=await m0(t.localStore);i.compareTo(n)>=0&&await function(s,o){const l=s.U_.it(o);return l.targetChanges.forEach((f,S)=>{if(f.resumeToken.approximateByteSize()>0){const z=s.B_.get(S);z&&s.B_.set(S,z.withResumeToken(f.resumeToken,o))}}),l.targetMismatches.forEach((f,S)=>{const z=s.B_.get(f);if(!z)return;s.B_.set(f,z.withResumeToken(Rt.EMPTY_BYTE_STRING,z.snapshotVersion)),x0(s,f);const j=new pn(z.target,f,S,z.sequenceNumber);Zc(s,j)}),s.remoteSyncer.applyRemoteEvent(l)}(t,i)}catch(n){Me("RemoteStore","Failed to raise snapshot:",n),await Uf(t,n)}}async function Uf(t,e,i){if(!ss(e))throw e;t.k_.add(1),await To(t),t.K_.set("Offline"),i||(i=()=>m0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me("RemoteStore","Retrying IndexedDB access"),await i(),t.k_.delete(1),await Rl(t)})}async function Hf(t,e){const i=Ge(t);i.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const n=So(i);i.k_.add(3),await To(i),n&&i.K_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.k_.delete(3),await Rl(i)}async function uT(t,e){const i=Ge(t);e?(i.k_.delete(2),await Rl(i)):e||(i.k_.add(2),await To(i),i.K_.set("Unknown"))}function ls(t){return t.W_||(t.W_=function(i,n,r){const s=Ge(i);return s.b_(),new iT(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Ro:oT.bind(null,t),mo:aT.bind(null,t),po:lT.bind(null,t),R_:hT.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),ed(t)?Jc(t):t.K_.set("Unknown")):(await t.W_.stop(),w0(t))})),t.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,i,n,r,s){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,n,r,s){const o=Date.now()+n,l=new td(e,i,o,r,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new De(be.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _0(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),ss(t))return new De(be.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{static emptySet(e){return new jr(e.comparator)}constructor(e){this.comparator=e?(i,n)=>e(i,n)||Ve.comparator(i.key,n.key):(i,n)=>Ve.comparator(i.key,n.key),this.keyedMap=Ms(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,n)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;i.hasNext();){const r=i.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const n=new jr;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=i,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this.z_=new gt(Ve.comparator)}track(e){const i=e.doc.key,n=this.z_.get(i);n?e.type!==0&&n.type===3?this.z_=this.z_.insert(i,e):e.type===3&&n.type!==1?this.z_=this.z_.insert(i,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.z_=this.z_.insert(i,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.z_=this.z_.insert(i,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.z_=this.z_.remove(i):e.type===1&&n.type===2?this.z_=this.z_.insert(i,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.z_=this.z_.insert(i,{type:2,doc:e.doc}):Be():this.z_=this.z_.insert(i,e)}j_(){const e=[];return this.z_.inorderTraversal((i,n)=>{e.push(n)}),e}}class Zr{constructor(e,i,n,r,s,o,l,f,S){this.query=e,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=f,this.hasCachedResults=S}static fromInitialDocuments(e,i,n,r,s){const o=[];return i.forEach(l=>{o.push({type:0,doc:l})}),new Zr(e,i,jr.emptySet(i),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Al(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,n=e.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class dT{constructor(){this.queries=Gf(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(i,n){const r=Ge(i),s=r.queries;r.queries=Gf(),s.forEach((o,l)=>{for(const f of l.J_)f.onError(n)})})(this,new De(be.ABORTED,"Firestore shutting down"))}}function Gf(){return new ar(t=>Xy(t),Al)}async function pT(t,e){const i=Ge(t);let n=3;const r=e.query;let s=i.queries.get(r);s?!s.Y_()&&e.Z_()&&(n=2):(s=new cT,n=e.Z_()?0:1);try{switch(n){case 0:s.H_=await i.onListen(r,!0);break;case 1:s.H_=await i.onListen(r,!1);break;case 2:await i.onFirstRemoteStoreListen(r)}}catch(o){const l=_0(o,`Initialization of query '${gr(e.query)}' failed`);return void e.onError(l)}i.queries.set(r,s),s.J_.push(e),e.ea(i.onlineState),s.H_&&e.ta(s.H_)&&id(i)}async function fT(t,e){const i=Ge(t),n=e.query;let r=3;const s=i.queries.get(n);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),s.J_.length===0?r=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}}function gT(t,e){const i=Ge(t);let n=!1;for(const r of e){const s=r.query,o=i.queries.get(s);if(o){for(const l of o.J_)l.ta(r)&&(n=!0);o.H_=r}}n&&id(i)}function mT(t,e,i){const n=Ge(t),r=n.queries.get(e);if(r)for(const s of r.J_)s.onError(i);n.queries.delete(e)}function id(t){t.X_.forEach(e=>{e.next()})}var ju,$f;($f=ju||(ju={})).na="default",$f.Cache="cache";class yT{constructor(e,i,n){this.query=e,this.ra=i,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Zr(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ia?this.oa(e)&&(this.ra.next(e),i=!0):this._a(e,this.onlineState)&&(this.aa(e),i=!0),this.sa=e,i}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let i=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),i=!0),i}_a(e,i){if(!e.fromCache||!this.Z_())return!0;const n=i!=="Offline";return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const i=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}aa(e){e=Zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==ju.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class vT{constructor(e,i){this.query=e,this.da=i,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=$e(),this.mutatedKeys=$e(),this.Va=qy(e),this.ma=new jr(this.Va)}get fa(){return this.da}ga(e,i){const n=i?i.pa:new Wf,r=i?i.ma:this.ma;let s=i?i.mutatedKeys:this.mutatedKeys,o=r,l=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,S=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((z,j)=>{const F=r.get(z),q=kl(this.query,j)?j:null,C=!!F&&this.mutatedKeys.has(F.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let G=!1;F&&q?F.data.isEqual(q.data)?C!==W&&(n.track({type:3,doc:q}),G=!0):this.ya(F,q)||(n.track({type:2,doc:q}),G=!0,(f&&this.Va(q,f)>0||S&&this.Va(q,S)<0)&&(l=!0)):!F&&q?(n.track({type:0,doc:q}),G=!0):F&&!q&&(n.track({type:1,doc:F}),G=!0,(f||S)&&(l=!0)),G&&(q?(o=o.add(q),s=W?s.add(z):s.delete(z)):(o=o.delete(z),s=s.delete(z)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const z=this.query.limitType==="F"?o.last():o.first();o=o.delete(z.key),s=s.delete(z.key),n.track({type:1,doc:z})}return{ma:o,pa:n,ss:l,mutatedKeys:s}}ya(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,n,r){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((z,j)=>function(q,C){const W=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be()}};return W(q)-W(C)}(z.type,j.type)||this.Va(z.doc,j.doc)),this.wa(n),r=r!=null&&r;const l=i&&!r?this.Sa():[],f=this.Ra.size===0&&this.current&&!r?1:0,S=f!==this.Aa;return this.Aa=f,o.length!==0||S?{snapshot:new Zr(this.query,e.ma,s,o,e.mutatedKeys,f===0,S,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Wf,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(i=>this.da=this.da.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.da=this.da.delete(i)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=$e(),this.ma.forEach(n=>{this.Da(n.key)&&(this.Ra=this.Ra.add(n.key))});const i=[];return e.forEach(n=>{this.Ra.has(n)||i.push(new T0(n))}),this.Ra.forEach(n=>{e.has(n)||i.push(new E0(n))}),i}va(e){this.da=e.ds,this.Ra=$e();const i=this.ga(e.documents);return this.applyChanges(i,!0)}Ca(){return Zr.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class xT{constructor(e,i,n){this.query=e,this.targetId=i,this.view=n}}class wT{constructor(e){this.key=e,this.Fa=!1}}class _T{constructor(e,i,n,r,s,o){this.localStore=e,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new ar(l=>Xy(l),Al),this.Oa=new Map,this.Na=new Set,this.La=new gt(Ve.comparator),this.Ba=new Map,this.ka=new qc,this.qa={},this.Qa=new Map,this.Ka=Qr.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function ET(t,e,i=!0){const n=b0(t);let r;const s=n.xa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Ca()):r=await S0(n,e,i,!0),r}async function TT(t,e){const i=b0(t);await S0(i,e,!0,!1)}async function S0(t,e,i,n){const r=await qE(t.localStore,Li(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,i);let l;return n&&(l=await ST(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&i&&v0(t.remoteStore,r),l}async function ST(t,e,i,n,r){t.Ua=(j,F,q)=>async function(W,G,A,p){let v=G.view.ga(A);v.ss&&(v=await Bf(W.localStore,G.query,!1).then(({documents:m})=>G.view.ga(m,v)));const b=p&&p.targetChanges.get(G.targetId),O=p&&p.targetMismatches.get(G.targetId)!=null,T=G.view.applyChanges(v,W.isPrimaryClient,b,O);return qf(W,G.targetId,T.ba),T.snapshot}(t,j,F,q);const s=await Bf(t.localStore,e,!0),o=new vT(e,s.ds),l=o.ga(s.documents),f=Eo.createSynthesizedTargetChangeForCurrentChange(i,n&&t.onlineState!=="Offline",r),S=o.applyChanges(l,t.isPrimaryClient,f);qf(t,i,S.ba);const z=new xT(e,i,o);return t.xa.set(e,z),t.Oa.has(i)?t.Oa.get(i).push(e):t.Oa.set(i,[e]),S.snapshot}async function CT(t,e,i){const n=Ge(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);if(s.length>1)return n.Oa.set(r.targetId,s.filter(o=>!Al(o,e))),void n.xa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&Qc(n.remoteStore,r.targetId),Bu(n,r.targetId)}).catch(El)):(Bu(n,r.targetId),await Vu(n.localStore,r.targetId,!0))}async function AT(t,e){const i=Ge(t),n=i.xa.get(e),r=i.Oa.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),Qc(i.remoteStore,n.targetId))}async function C0(t,e){const i=Ge(t);try{const n=await $E(i.localStore,e);e.targetChanges.forEach((r,s)=>{const o=i.Ba.get(s);o&&(ht(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Fa=!0:r.modifiedDocuments.size>0?ht(o.Fa):r.removedDocuments.size>0&&(ht(o.Fa),o.Fa=!1))}),await k0(i,n,e)}catch(n){await El(n)}}function Xf(t,e,i){const n=Ge(t);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){const r=[];n.xa.forEach((s,o)=>{const l=o.view.ea(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const f=Ge(o);f.onlineState=l;let S=!1;f.queries.forEach((z,j)=>{for(const F of j.J_)F.ea(l)&&(S=!0)}),S&&id(f)}(n.eventManager,e),r.length&&n.Ma.R_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function kT(t,e,i){const n=Ge(t);n.sharedClientState.updateQueryState(e,"rejected",i);const r=n.Ba.get(e),s=r&&r.key;if(s){let o=new gt(Ve.comparator);o=o.insert(s,Ht.newNoDocument(s,je.min()));const l=$e().add(s),f=new Pl(je.min(),new Map,new gt(We),o,l);await C0(n,f),n.La=n.La.remove(s),n.Ba.delete(e),nd(n)}else await Vu(n.localStore,e,!1).then(()=>Bu(n,e,i)).catch(El)}function Bu(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Oa.get(e))t.xa.delete(n),i&&t.Ma.Wa(n,i);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(n=>{t.ka.containsKey(n)||A0(t,n)})}function A0(t,e){t.Na.delete(e.path.canonicalString());const i=t.La.get(e);i!==null&&(Qc(t.remoteStore,i),t.La=t.La.remove(e),t.Ba.delete(i),nd(t))}function qf(t,e,i){for(const n of i)n instanceof E0?(t.ka.addReference(n.key,e),bT(t,n)):n instanceof T0?(Me("SyncEngine","Document no longer in limbo: "+n.key),t.ka.removeReference(n.key,e),t.ka.containsKey(n.key)||A0(t,n.key)):Be()}function bT(t,e){const i=e.key,n=i.path.canonicalString();t.La.get(i)||t.Na.has(n)||(Me("SyncEngine","New document in limbo: "+i),t.Na.add(n),nd(t))}function nd(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const i=new Ve(at.fromString(e)),n=t.Ka.next();t.Ba.set(n,new wT(i)),t.La=t.La.insert(i,n),v0(t.remoteStore,new pn(Li(Gy(i.path)),n,"TargetPurposeLimboResolution",Tl.oe))}}async function k0(t,e,i){const n=Ge(t),r=[],s=[],o=[];n.xa.isEmpty()||(n.xa.forEach((l,f)=>{o.push(n.Ua(f,e,i).then(S=>{var z;if((S||i)&&n.isPrimaryClient){const j=S?!S.fromCache:(z=i==null?void 0:i.targetChanges.get(f.targetId))===null||z===void 0?void 0:z.current;n.sharedClientState.updateQueryState(f.targetId,j?"current":"not-current")}if(S){r.push(S);const j=Kc.zi(f.targetId,S);s.push(j)}}))}),await Promise.all(o),n.Ma.R_(r),await async function(f,S){const z=Ge(f);try{await z.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>Te.forEach(S,F=>Te.forEach(F.Wi,q=>z.persistence.referenceDelegate.addReference(j,F.targetId,q)).next(()=>Te.forEach(F.Gi,q=>z.persistence.referenceDelegate.removeReference(j,F.targetId,q)))))}catch(j){if(!ss(j))throw j;Me("LocalStore","Failed to update sequence numbers: "+j)}for(const j of S){const F=j.targetId;if(!j.fromCache){const q=z.us.get(F),C=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(C);z.us=z.us.insert(F,W)}}}(n.localStore,s))}async function IT(t,e){const i=Ge(t);if(!i.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const n=await g0(i.localStore,e);i.currentUser=e,function(s,o){s.Qa.forEach(l=>{l.forEach(f=>{f.reject(new De(be.CANCELLED,o))})}),s.Qa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await k0(i,n.Ts)}}function PT(t,e){const i=Ge(t),n=i.Ba.get(e);if(n&&n.Fa)return $e().add(n.key);{let r=$e();const s=i.Oa.get(e);if(!s)return r;for(const o of s){const l=i.xa.get(o);r=r.unionWith(l.view.fa)}return r}}function b0(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kT.bind(null,e),e.Ma.R_=gT.bind(null,e.eventManager),e.Ma.Wa=mT.bind(null,e.eventManager),e}class sl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ml(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,i){return null}Ya(e,i){return null}Ha(e){return GE(this.persistence,new HE,e.initialUser,this.serializer)}ja(e){return new f0(Yc.ei,this.serializer)}za(e){return new KE}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sl.provider={build:()=>new sl};class MT extends sl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,i){ht(this.persistence.referenceDelegate instanceof rl);const n=this.persistence.referenceDelegate.garbageCollector;return new bE(n,e.asyncQueue,i)}ja(e){const i=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new f0(n=>rl.ei(n,i),this.serializer)}}class Fu{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Xf(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=IT.bind(null,this.syncEngine),await uT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dT}()}createDatastore(e){const i=Ml(e.databaseInfo.databaseId),n=function(s){return new eT(s)}(e.databaseInfo);return function(s,o,l,f){return new nT(s,o,l,f)}(e.authCredentials,e.appCheckCredentials,n,i)}createRemoteStore(e){return function(n,r,s,o,l){return new sT(n,r,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,i=>Xf(this.syncEngine,i,0),function(){return zf.p()?new zf:new QE}())}createSyncEngine(e,i){return function(r,s,o,l,f,S,z){const j=new _T(r,s,o,l,f,S);return z&&(j.$a=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(r){const s=Ge(r);Me("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await To(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Fu.provider={build:()=>new Fu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,i,n,r,s){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=zt.UNAUTHENTICATED,this.clientId=y_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Me("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const n=_0(i,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ah(t,e){t.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const i=t.configuration;await e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener(async r=>{n.isEqual(r)||(await g0(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yf(t,e){t.asyncQueue.verifyOperationInProgress();const i=await LT(t);Me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,t.configuration),t.setCredentialChangeListener(n=>Hf(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,r)=>Hf(e.remoteStore,r)),t._onlineComponents=e}async function LT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ah(t,t._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(r){return r.name==="FirebaseError"?r.code===be.FAILED_PRECONDITION||r.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(i))throw i;Xr("Error using user provided cache. Falling back to memory cache: "+i),await Ah(t,new sl)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),await Ah(t,new MT(void 0));return t._offlineComponents}async function OT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),await Yf(t,t._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),await Yf(t,new Fu))),t._onlineComponents}async function NT(t){const e=await OT(t),i=e.eventManager;return i.onListen=ET.bind(null,e.syncEngine),i.onUnlisten=CT.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TT.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=AT.bind(null,e.syncEngine),i}function VT(t,e,i={}){const n=new Qn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,f,S){const z=new RT({next:F=>{z.eu(),o.enqueueAndForget(()=>fT(s,j)),F.fromCache&&f.source==="server"?S.reject(new De(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(F)},error:F=>S.reject(F)}),j=new yT(l,z,{includeMetadataChanges:!0,ua:!0});return pT(s,j)}(await NT(t),t.asyncQueue,e,i,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=new Map;function jT(t,e,i,n){if(e===!0&&n===!0)throw new De(be.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function Qf(t){if(Ve.isDocumentKey(t))throw new De(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Be()}function zu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new De(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dl(t);throw new De(be.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){var i,n;if(e.host===void 0){if(e.ssl!==void 0)throw new De(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new De(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I0((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new De(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new De(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new De(be.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,i,n,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new De(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new De(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zf(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new h_;switch(n.type){case"firstParty":return new p_(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new De(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=Kf.get(i);n&&(Me("ComponentProvider","Removing Datastore"),Kf.delete(i),n.terminate())}(this),Promise.resolve()}}function BT(t,e,i,n={}){var r;const s=(t=zu(t,rd))._getSettings(),o=`${e}:${i}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let l,f;if(typeof n.mockUserToken=="string")l=n.mockUserToken,f=zt.MOCK_USER;else{l=Wx(n.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const S=n.mockUserToken.sub||n.mockUserToken.user_id;if(!S)throw new De(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(S)}t._authCredentials=new u_(new Ny(l,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new lr(this.firestore,e,this._query)}}class Qi{constructor(e,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qi(this.firestore,e,this._key)}}class Br extends lr{constructor(e,i,n){super(e,i,Gy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qi(this.firestore,null,new Ve(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function FT(t,e,...i){if(t=Qa(t),t instanceof rd){const n=at.fromString(e,...i);return Qf(n),new Br(t,null,n)}{if(!(t instanceof Qi||t instanceof Br))throw new De(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(at.fromString(e,...i));return Qf(n),new Br(t.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new y0(this,"async_queue_retry"),this.fu=()=>{const n=Ch();n&&Me("AsyncQueue","Visibility state changed to "+n.visibilityState),this.r_.Jo()},this.gu=e;const i=Ch();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const i=Ch();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const i=new Qn;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ss(e))throw e;Me("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const i=this.gu.then(()=>(this.Ru=!0,e().catch(n=>{this.Au=n,this.Ru=!1;const r=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(n);throw Yi("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.Ru=!1,n))));return this.gu=i,i}enqueueAfterDelay(e,i,n){this.pu(),this.mu.indexOf(e)>-1&&(i=0);const r=td.createAndSchedule(this,e,i,n,s=>this.Su(s));return this.du.push(r),r}pu(){this.Au&&Be()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const i of this.du)if(i.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(const i of this.du)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const i=this.du.indexOf(e);this.du.splice(i,1)}}class P0 extends rd{constructor(e,i,n,r){super(e,i,n,r),this.type="firestore",this._queue=new Jf,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Jf(e),this._firestoreClient=void 0,await e}}}function zT(t,e){const i=typeof t=="object"?t:Jw(),n=typeof t=="string"?t:"(default)",r=Yw(i,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=Ux("firestore");s&&BT(r,...s)}return r}function UT(t){if(t._terminated)throw new De(be.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HT(t),t._firestoreClient}function HT(t){var e,i,n;const r=t._freezeSettings(),s=function(l,f,S,z){return new I_(l,f,S,z.host,z.ssl,z.experimentalForceLongPolling,z.experimentalAutoDetectLongPolling,I0(z.experimentalLongPollingOptions),z.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new DT(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const f=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jr(Rt.fromBase64String(e))}catch(i){throw new De(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Jr(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new De(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new De(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new De(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=/^__.*__$/;function D0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be()}}class ad{constructor(e,i,n,r,s,o){this.settings=e,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ad(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.xu({path:n,Nu:!1});return r.Lu(e),r}Bu(e){var i;const n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.xu({path:n,Nu:!1});return r.Fu(),r}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Uu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(D0(this.Mu)&&WT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class GT{constructor(e,i,n){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=n||Ml(e)}$u(e,i,n,r=!1){return new ad({Mu:e,methodName:i,Ku:n,path:Wt.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $T(t){const e=t._freezeSettings(),i=Ml(t._databaseId);return new GT(t._databaseId,!!e.ignoreUndefinedProperties,i)}function XT(t,e,i,n=!1){return ld(i,t.$u(n?4:3,e))}function ld(t,e){if(L0(t=Qa(t)))return YT("Unsupported field value:",e,t),qT(t,e);if(t instanceof R0)return function(n,r){if(!D0(r.Mu))throw r.qu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const l of n){let f=ld(l,r.ku(o));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Qa(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Q_(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=wt.fromDate(n);return{timestampValue:Ou(r.serializer,s)}}if(n instanceof wt){const s=new wt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ou(r.serializer,s)}}if(n instanceof sd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Jr)return{bytesValue:o0(r.serializer,n._byteString)};if(n instanceof Qi){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:a0(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof od)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw l.qu("VectorValues must only contain numeric values.");return Wc(l.serializer,f)})}}}}}}(n,r);throw r.qu(`Unsupported field value: ${Dl(n)}`)}(t,e)}function qT(t,e){const i={};return Vy(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(t,(n,r)=>{const s=ld(r,e.Ou(n));s!=null&&(i[n]=s)}),{mapValue:{fields:i}}}function L0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof sd||t instanceof Jr||t instanceof Qi||t instanceof R0||t instanceof od)}function YT(t,e,i){if(!L0(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){const n=Dl(i);throw n==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+n)}}const KT=new RegExp("[~\\*/\\[\\]]");function QT(t,e,i){if(e.search(KT)>=0)throw Uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new M0(...e.split("."))._internalPath}catch{throw Uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function Uu(t,e,i,n,r){const s=n&&!n.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;i&&(l+=" (via `toFirestore()`)"),l+=". ";let f="";return(s||o)&&(f+=" (found",s&&(f+=` in field ${n}`),o&&(f+=` in document ${r}`),f+=")"),new De(be.INVALID_ARGUMENT,l+t+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,i,n,r,s){this._firestore=e,this._userDataWriter=i,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ll("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class ZT extends O0{data(){return super.data()}}function Ll(t,e){return typeof e=="string"?QT(t,e):e instanceof M0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new De(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hd{}class N0 extends hd{}function eS(t,e,...i){let n=[];e instanceof hd&&n.push(e),n=n.concat(i),function(s){const o=s.filter(f=>f instanceof ud).length,l=s.filter(f=>f instanceof Ol).length;if(o>1||o>0&&l>0)throw new De(be.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const r of n)t=r._apply(t);return t}class Ol extends N0{constructor(e,i,n){super(),this._field=e,this._op=i,this._value=n,this.type="where"}static _create(e,i,n){return new Ol(e,i,n)}_apply(e){const i=this._parse(e);return V0(e._query,i),new lr(e.firestore,e.converter,Pu(e._query,i))}_parse(e){const i=$T(e.firestore);return function(s,o,l,f,S,z,j){let F;if(S.isKeyField()){if(z==="array-contains"||z==="array-contains-any")throw new De(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if(z==="in"||z==="not-in"){ig(j,z);const q=[];for(const C of j)q.push(tg(f,s,C));F={arrayValue:{values:q}}}else F=tg(f,s,j)}else z!=="in"&&z!=="not-in"&&z!=="array-contains-any"||ig(j,z),F=XT(l,o,j,z==="in"||z==="not-in");return xt.create(S,z,F)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function eg(t,e,i){const n=e,r=Ll("where",t);return Ol._create(r,n,i)}class ud extends hd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new ud(e,i)}_parse(e){const i=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:Ai.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(r,s){let o=r;const l=s.getFlattenedFilters();for(const f of l)V0(o,f),o=Pu(o,f)}(e._query,i),new lr(e.firestore,e.converter,Pu(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cd extends N0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new cd(e,i)}_apply(e){const i=function(r,s,o){if(r.startAt!==null)throw new De(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new De(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mo(s,o)}(e._query,this._field,this._direction);return new lr(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new as(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}function tS(t,e="asc"){const i=e,n=Ll("orderBy",t);return cd._create(n,i)}function tg(t,e,i){if(typeof(i=Qa(i))=="string"){if(i==="")throw new De(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$y(e)&&i.indexOf("/")!==-1)throw new De(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const n=e.path.child(at.fromString(i));if(!Ve.isDocumentKey(n))throw new De(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return _f(t,new Ve(n))}if(i instanceof Qi)return _f(t,i._key);throw new De(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dl(i)}.`)}function ig(t,e){if(!Array.isArray(t)||t.length===0)throw new De(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V0(t,e){const i=function(r,s){for(const o of r)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new De(be.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new De(be.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class iS{convertValue(e,i="none"){switch(In(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(bn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Be()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const n={};return os(e,(r,s)=>{n[r]=this.convertValue(s,i)}),n}convertVectorValue(e){var i,n,r;const s=(r=(n=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.map(o=>pt(o.doubleValue));return new od(s)}convertGeoPoint(e){return new sd(pt(e.latitude),pt(e.longitude))}convertArray(e,i){return(e.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(e,i){switch(i){case"previous":const n=Cl(e);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(po(e));default:return null}}convertTimestamp(e){const i=kn(e);return new wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const n=at.fromString(e);ht(p0(n));const r=new fo(n.get(1),n.get(3)),s=new Ve(n.popFirst(5));return r.isEqual(i)||Yi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nS extends O0{constructor(e,i,n,r,s,o){super(e,i,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const n=this._document.data.field(Ll("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}}class Ca extends nS{data(e={}){return super.data(e)}}class rS{constructor(e,i,n,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new la(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(n=>{e.call(i,new Ca(this._firestore,this._userDataWriter,n.key,n,new la(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new De(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const f=new Ca(r._firestore,r._userDataWriter,l.doc.key,l.doc,new la(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:f,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const f=new Ca(r._firestore,r._userDataWriter,l.doc.key,l.doc,new la(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let S=-1,z=-1;return l.type!==0&&(S=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),z=o.indexOf(l.doc.key)),{type:sS(l.type),doc:f,oldIndex:S,newIndex:z}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function sS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be()}}class oS extends iS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jr(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qi(this.firestore,null,i)}}function aS(t){t=zu(t,lr);const e=zu(t.firestore,P0),i=UT(e),n=new oS(e);return JT(t._query),VT(i,t._query).then(r=>new rS(e,n,t,r))}(function(e,i=!0){(function(r){rs=r})(Zw),Ja(new ho("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new P0(new c_(n.getProvider("auth-internal")),new g_(n.getProvider("app-check-internal")),function(S,z){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new De(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fo(S.options.projectId,z)}(o,r),o);return s=Object.assign({useFetchStreams:i},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Nr(gf,"4.7.5",e),Nr(gf,"4.7.5","esm2017")})();var lS="firebase",hS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(lS,hS,"app");const uS={apiKey:"AIzaSyAcIcR_C1qH9JLuOSM0-Qy4clbrjDqnWgw",authDomain:"digital-world-logbook-dev.firebaseapp.com",projectId:"digital-world-logbook-dev",storageBucket:"digital-world-logbook-dev.appspot.com",messagingSenderId:"610788060881",appId:"1:610788060881:web:6844111889a7f286889ff0",measurementId:"G-8GMMVX8DKK"},cS=ky(uS),dS=zT(cS),pS=t=>{const[e,i]=Ii.useState(7),[n,r]=Ii.useState("February"),[s,o]=Ii.useState([]),[l,f]=Ii.useState({}),S=l[e]||[],z=()=>{e>1&&i(C=>C-1)},j=()=>{e<52&&i(C=>C+1)},F=(C,W)=>{const G=new Date(C,0,1),A=(W-1)*7,p=new Date(G.getTime()+A*24*60*60*1e3),v=p.getDay(),b=p.getDate()-v+(v===0?-6:1),O=new Date(p.setDate(b)),T=new Date(O);return T.setDate(O.getDate()+6),{start:O,end:T}},q=async()=>{try{const{start:C,end:W}=F(t,e),G=FT(dS,"LogBookContact"),A=wt.fromDate(C),p=wt.fromDate(W),v=eS(G,eg("timestamp",">=",A),eg("timestamp","<=",p),tS("timestamp")),T=(await aS(v)).docs.map(g=>({id:g.id,timestamp:g.data().timestamp})).reduce((g,d)=>{const y=d.timestamp.toDate(),h=y.toISOString().split("T")[0],c=new Intl.DateTimeFormat("en-US",{month:"long",timeZone:"UTC"}).format(y);return g[h]||(g[h]={count:0,month:c}),g[h].count+=1,g},{}),m=Object.keys(T).map(g=>new Date(g).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}));o(m);const w=Array.from(new Set(Object.values(T).map(g=>g.month)));r(w.join(" | "));const _=Object.values(T).map(g=>g.count);f(g=>({...g,[e]:_}))}catch(C){console.error("Error fetching LogBookContact data:",C)}};return Ii.useEffect(()=>{q()},[e]),{currentWeekIndex:e,currentMonth:n,categoriesLabels:s,currentWeek:S,previousWeek:z,nextWeek:j}},fS=({categoriesLabels:t,currentWeek:e})=>Ii.useMemo(()=>({chart:{type:"line",backgroundColor:"#1E1E3F"},title:{text:"<div style='margin-bottom: 2em;'>Number of Contacts Per Day</div>",align:"left",margin:20,useHTML:!0,style:{color:"#fff",fontWeight:"bold"}},yAxis:{title:{text:""},labels:{style:{color:"#FFFFFF"}}},xAxis:{categories:t,labels:{style:{color:"#FFFFFF"}}},legend:{enabled:!1},series:[{name:"Contacts",data:e,color:"#00FFFF"}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]}}),[t,e]),gS=()=>{const{currentWeekIndex:t,currentMonth:e,categoriesLabels:i,currentWeek:n,previousWeek:r,nextWeek:s}=pS(2024),o=fS({categoriesLabels:i,currentWeek:n});return Ft.jsxs("div",{className:"graph-container",children:[Ft.jsx("div",{className:"container-heading",children:Ft.jsx("h2",{children:"Number of Contacts Per Day"})}),Ft.jsxs("div",{className:"graph-details",children:[Ft.jsxs("div",{className:"weeks",children:[Ft.jsx("button",{onClick:r,children:"Previous"}),"Week ",t,Ft.jsx("button",{onClick:s,children:"Next"})]}),Ft.jsx("div",{className:"month",children:e})]}),Ft.jsx(Px,{highcharts:Rx,options:o})]})};function mS(){return Ft.jsx("div",{children:Ft.jsx(gS,{})})}function yS(){return Ft.jsx(Ft.Fragment,{children:Ft.jsx(mS,{})})}yy(document.getElementById("root")).render(Ft.jsx(Ii.StrictMode,{children:Ft.jsx(yS,{})}));
